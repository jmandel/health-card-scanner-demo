/*! For license information please see bundle.js.LICENSE.txt */
!function(){var t={7757:function(t,e,r){t.exports=r(5666)},9742:function(t,e){"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,a=u(t),o=a[0],s=a[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,s)),f=0,l=s>0?o-4:o;for(r=0;r<l;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[f++]=e>>16&255,c[f++]=e>>8&255,c[f++]=255&e;return 2===s&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[f++]=255&e),1===s&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[f++]=e>>8&255,c[f++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,a=[],o=16383,s=0,u=n-i;s<u;s+=o)a.push(c(t,s,s+o>u?u:s+o));return 1===i?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=a.length;o<s;++o)r[o]=a[o],n[a.charCodeAt(o)]=o;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,n){for(var i,a,o=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},2240:function(t,e,r){"use strict";var n=r(8764).Buffer,i=r(1518);function a(t,e){return void 0===e&&(e="utf8"),n.isBuffer(t)?s(t.toString("base64")):s(n.from(t,e).toString("base64"))}function o(t){return t=t.toString(),i.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function s(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var u=a;u.encode=a,u.decode=function(t,e){return void 0===e&&(e="utf8"),n.from(o(t),"base64").toString(e)},u.toBase64=o,u.fromBase64=s,u.toBuffer=function(t){return n.from(o(t),"base64")},e.default=u},1518:function(t,e,r){"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.length,r=e%4;if(!r)return t;var i=e,a=4-r,o=e+a,s=n.alloc(o);for(s.write(t);a--;)s.write("=",i++);return s.toString()}},5772:function(t,e,r){t.exports=r(2240).default,t.exports.default=t.exports},8764:function(t,e,r){"use strict";const n=r(9742),i=r(645),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function s(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|y(t,e);let n=s(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Q(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Q(t,ArrayBuffer)||t&&Q(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Q(t,SharedArrayBuffer)||t&&Q(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=function(t){if(u.isBuffer(t)){const e=0|d(t.length),r=s(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||$(t.length)?s(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return f(t),s(t<0?0:0|d(t))}function h(t){const e=t.length<0?0:0|d(t.length),r=s(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function d(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function y(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Q(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(t).length;default:if(i)return n?-1:G(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return B(this,e,r);case"latin1":case"binary":return k(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function v(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),$(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){let a,o=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(a=r;a<s;a++)if(c(t,a)===c(e,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===u)return n*o}else-1!==n&&(a-=a-n),n=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){let r=!0;for(let n=0;n<u;n++)if(c(t,a+n)!==c(e,n)){r=!1;break}if(r)return a}return-1}function E(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const a=e.length;let o;for(n>a/2&&(n=a/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if($(n))return o;t[r+o]=n}return o}function w(t,e,r,n){return Z(G(e,t.length-r),t,r,n)}function C(t,e,r,n){return Z(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function S(t,e,r,n){return Z(W(e),t,r,n)}function _(t,e,r,n){return Z(function(t,e){let r,n,i;const a=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function T(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let a=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,s,u;switch(o){case 1:e<128&&(a=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(a=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(a=u));break;case 4:r=t[i+1],n=t[i+2],s=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&s,u>65535&&u<1114112&&(a=u))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=o}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=I));return r}(n)}e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?s(t):void 0!==e?"string"==typeof r?s(t).fill(e,r):s(t).fill(e):s(t)}(t,e,r)},u.allocUnsafe=function(t){return l(t)},u.allocUnsafeSlow=function(t){return l(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(Q(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),Q(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Q(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(Q(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const s=Math.min(a,o),c=this.slice(n,i),f=t.slice(e,r);for(let t=0;t<s;++t)if(c[t]!==f[t]){a=c[t],o=f[t];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let a=!1;for(;;)switch(n){case"hex":return E(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return C(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function B(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function k(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function x(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Y[t[n]];return i}function R(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,a){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function O(t,e,r,n,i){M(e,n,i,t,r,7);let a=Number(e&BigInt(4294967295));t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function U(t,e,r,n,i){M(e,n,i,t,r,7);let a=Number(e&BigInt(4294967295));t[r+7]=a,a>>=8,t[r+6]=a,a>>=8,t[r+5]=a,a>>=8,t[r+4]=a;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function L(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(t,e,r,n,a){return e=+e,r>>>=0,a||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function D(t,e,r,n,a){return e=+e,r>>>=0,a||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,a=0;for(;++a<e&&(i*=256);)n+=this[t+a]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=X((function(t){z(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=X((function(t){z(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,a=0;for(;++a<e&&(i*=256);)n+=this[t+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=e,i=1,a=this[t+--n];for(;n>0&&(i*=256);)a+=this[t+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*e)),a},u.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=X((function(t){z(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=X((function(t){z(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,a=0;for(this[e]=255&t;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=X((function(t,e=0){return O(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=X((function(t,e=0){return U(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,t,e,r,n-1,-n)}let i=0,a=1,o=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/a>>0)-o&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,t,e,r,n-1,-n)}let i=r-1,a=1,o=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/a>>0)-o&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=X((function(t,e=0){return O(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=X((function(t,e=0){return U(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return D(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return D(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const a=u.isBuffer(t)?t:u.from(t,n),o=a.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=a[i%o]}return this};const j={};function K(t,e,r){j[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function V(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function M(t,e,r,n,i,a){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=a>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(a+1)}${n}`:`>= -(2${n} ** ${8*(a+1)-1}${n}) and < 2 ** ${8*(a+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new j.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){z(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||H(e,t.length-(r+1))}(n,i,a)}function z(t,e){if("number"!=typeof t)throw new j.ERR_INVALID_ARG_TYPE(e,"number",t)}function H(t,e,r){if(Math.floor(t)!==t)throw z(t,r),new j.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}K("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),K("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),K("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=V(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function G(t,e){let r;e=e||1/0;const n=t.length;let i=null;const a=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function W(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Z(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Q(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function $(t){return t!=t}const Y=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function X(t){return"undefined"==typeof BigInt?J:t}function J(){throw new Error("BigInt not supported")}},3099:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:function(t,e,r){var n=r(111);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:function(t,e,r){var n=r(5112),i=r(30),a=r(3070),o=n("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),t.exports=function(t){s[o][t]=!0}},1530:function(t,e,r){"use strict";var n=r(8710).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},5787:function(t){t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},9670:function(t,e,r){var n=r(111);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},1285:function(t,e,r){"use strict";var n=r(7908),i=r(1400),a=r(7466);t.exports=function(t){for(var e=n(this),r=a(e.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),u=o>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);c>s;)e[s++]=t;return e}},8533:function(t,e,r){"use strict";var n=r(2092).forEach,i=r(9341)("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},8457:function(t,e,r){"use strict";var n=r(9974),i=r(7908),a=r(3411),o=r(7659),s=r(7466),u=r(6135),c=r(1246);t.exports=function(t){var e,r,f,l,h,p,d=i(t),y="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,m=void 0!==v,b=c(d),E=0;if(m&&(v=n(v,g>2?arguments[2]:void 0,2)),null==b||y==Array&&o(b))for(r=new y(e=s(d.length));e>E;E++)p=m?v(d[E],E):d[E],u(r,E,p);else for(h=(l=b.call(d)).next,r=new y;!(f=h.call(l)).done;E++)p=m?a(l,v,[f.value,E],!0):f.value,u(r,E,p);return r.length=E,r}},1318:function(t,e,r){var n=r(5656),i=r(7466),a=r(1400),o=function(t){return function(e,r,o){var s,u=n(e),c=i(u.length),f=a(o,c);if(t&&r!=r){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===r)return t||f||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},2092:function(t,e,r){var n=r(9974),i=r(8361),a=r(7908),o=r(7466),s=r(5417),u=[].push,c=function(t){var e=1==t,r=2==t,c=3==t,f=4==t,l=6==t,h=7==t,p=5==t||l;return function(d,y,g,v){for(var m,b,E=a(d),w=i(E),C=n(y,g,3),S=o(w.length),_=0,A=v||s,T=e?A(d,S):r||h?A(d,0):void 0;S>_;_++)if((p||_ in w)&&(b=C(m=w[_],_,E),t))if(e)T[_]=b;else if(b)switch(t){case 3:return!0;case 5:return m;case 6:return _;case 2:u.call(T,m)}else switch(t){case 4:return!1;case 7:u.call(T,m)}return l?-1:c||f?f:T}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},1194:function(t,e,r){var n=r(7293),i=r(5112),a=r(7392),o=i("species");t.exports=function(t){return a>=51||!n((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:function(t,e,r){"use strict";var n=r(7293);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},5417:function(t,e,r){var n=r(111),i=r(3157),a=r(5112)("species");t.exports=function(t,e){var r;return i(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[a])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},3411:function(t,e,r){var n=r(9670),i=r(9212);t.exports=function(t,e,r,a){try{return a?e(n(r)[0],r[1]):e(r)}catch(e){throw i(t),e}}},7072:function(t,e,r){var n=r(5112)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},t(a)}catch(t){}return r}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:function(t,e,r){var n=r(1694),i=r(4326),a=r(5112)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?r:o?i(e):"Object"==(n=i(e))&&"function"==typeof e.callee?"Arguments":n}},5631:function(t,e,r){"use strict";var n=r(3070).f,i=r(30),a=r(2248),o=r(9974),s=r(5787),u=r(408),c=r(654),f=r(6340),l=r(9781),h=r(2423).fastKey,p=r(9909),d=p.set,y=p.getterFor;t.exports={getConstructor:function(t,e,r,c){var f=t((function(t,n){s(t,f,e),d(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),l||(t.size=0),null!=n&&u(n,t[c],{that:t,AS_ENTRIES:r})})),p=y(e),g=function(t,e,r){var n,i,a=p(t),o=v(t,e);return o?o.value=r:(a.last=o={index:i=h(e,!0),key:e,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=o),n&&(n.next=o),l?a.size++:t.size++,"F"!==i&&(a.index[i]=o)),t},v=function(t,e){var r,n=p(t),i=h(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==e)return r};return a(f.prototype,{clear:function(){for(var t=p(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,l?t.size=0:this.size=0},delete:function(t){var e=this,r=p(e),n=v(e,t);if(n){var i=n.next,a=n.previous;delete r.index[n.index],n.removed=!0,a&&(a.next=i),i&&(i.previous=a),r.first==n&&(r.first=i),r.last==n&&(r.last=a),l?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=p(this),n=o(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!v(this,t)}}),a(f.prototype,r?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),l&&n(f.prototype,"size",{get:function(){return p(this).size}}),f},setStrong:function(t,e,r){var n=e+" Iterator",i=y(e),a=y(n);c(t,e,(function(t,e){d(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=a(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),f(e)}}},7710:function(t,e,r){"use strict";var n=r(2109),i=r(7854),a=r(4705),o=r(1320),s=r(2423),u=r(408),c=r(5787),f=r(111),l=r(7293),h=r(7072),p=r(8003),d=r(9587);t.exports=function(t,e,r){var y=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),v=y?"set":"add",m=i[t],b=m&&m.prototype,E=m,w={},C=function(t){var e=b[t];o(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(a(t,"function"!=typeof m||!(g||b.forEach&&!l((function(){(new m).entries().next()})))))E=r.getConstructor(e,t,y,v),s.REQUIRED=!0;else if(a(t,!0)){var S=new E,_=S[v](g?{}:-0,1)!=S,A=l((function(){S.has(1)})),T=h((function(t){new m(t)})),I=!g&&l((function(){for(var t=new m,e=5;e--;)t[v](e,e);return!t.has(-0)}));T||((E=e((function(e,r){c(e,E,t);var n=d(new m,e,E);return null!=r&&u(r,n[v],{that:n,AS_ENTRIES:y}),n}))).prototype=b,b.constructor=E),(A||I)&&(C("delete"),C("has"),y&&C("get")),(I||_)&&C(v),g&&b.clear&&delete b.clear}return w[t]=E,n({global:!0,forced:E!=m},w),p(E,t),g||r.setStrong(E,t,y),E}},9920:function(t,e,r){var n=r(6656),i=r(3887),a=r(1236),o=r(3070);t.exports=function(t,e){for(var r=i(e),s=o.f,u=a.f,c=0;c<r.length;c++){var f=r[c];n(t,f)||s(t,f,u(e,f))}}},4964:function(t,e,r){var n=r(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},8544:function(t,e,r){var n=r(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4230:function(t,e,r){var n=r(4488),i=/"/g;t.exports=function(t,e,r,a){var o=String(n(t)),s="<"+e;return""!==r&&(s+=" "+r+'="'+String(a).replace(i,"&quot;")+'"'),s+">"+o+"</"+e+">"}},4994:function(t,e,r){"use strict";var n=r(3383).IteratorPrototype,i=r(30),a=r(9114),o=r(8003),s=r(7497),u=function(){return this};t.exports=function(t,e,r){var c=e+" Iterator";return t.prototype=i(n,{next:a(1,r)}),o(t,c,!1,!0),s[c]=u,t}},8880:function(t,e,r){var n=r(9781),i=r(3070),a=r(9114);t.exports=n?function(t,e,r){return i.f(t,e,a(1,r))}:function(t,e,r){return t[e]=r,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,r){"use strict";var n=r(7593),i=r(3070),a=r(9114);t.exports=function(t,e,r){var o=n(e);o in t?i.f(t,o,a(0,r)):t[o]=r}},654:function(t,e,r){"use strict";var n=r(2109),i=r(4994),a=r(9518),o=r(7674),s=r(8003),u=r(8880),c=r(1320),f=r(5112),l=r(1913),h=r(7497),p=r(3383),d=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,g=f("iterator"),v="keys",m="values",b="entries",E=function(){return this};t.exports=function(t,e,r,f,p,w,C){i(r,e,f);var S,_,A,T=function(t){if(t===p&&R)return R;if(!y&&t in k)return k[t];switch(t){case v:case m:case b:return function(){return new r(this,t)}}return function(){return new r(this)}},I=e+" Iterator",B=!1,k=t.prototype,x=k[g]||k["@@iterator"]||p&&k[p],R=!y&&x||T(p),N="Array"==e&&k.entries||x;if(N&&(S=a(N.call(new t)),d!==Object.prototype&&S.next&&(l||a(S)===d||(o?o(S,d):"function"!=typeof S[g]&&u(S,g,E)),s(S,I,!0,!0),l&&(h[I]=E))),p==m&&x&&x.name!==m&&(B=!0,R=function(){return x.call(this)}),l&&!C||k[g]===R||u(k,g,R),h[e]=R,p)if(_={values:T(m),keys:w?R:T(v),entries:T(b)},C)for(A in _)(y||B||!(A in k))&&c(k,A,_[A]);else n({target:e,proto:!0,forced:y||B},_);return _}},7235:function(t,e,r){var n=r(857),i=r(6656),a=r(6061),o=r(3070).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||o(e,t,{value:a.f(t)})}},9781:function(t,e,r){var n=r(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,r){var n=r(7854),i=r(111),a=n.document,o=i(a)&&i(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6833:function(t,e,r){var n=r(8113);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},5268:function(t,e,r){var n=r(4326),i=r(7854);t.exports="process"==n(i.process)},1036:function(t,e,r){var n=r(8113);t.exports=/web0s(?!.*chrome)/i.test(n)},8113:function(t,e,r){var n=r(5005);t.exports=n("navigator","userAgent")||""},7392:function(t,e,r){var n,i,a=r(7854),o=r(8113),s=a.process,u=s&&s.versions,c=u&&u.v8;c?i=(n=c.split("."))[0]+n[1]:o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,r){var n=r(7854),i=r(1236).f,a=r(8880),o=r(1320),s=r(3505),u=r(9920),c=r(4705);t.exports=function(t,e){var r,f,l,h,p,d=t.target,y=t.global,g=t.stat;if(r=y?n:g?n[d]||s(d,{}):(n[d]||{}).prototype)for(f in e){if(h=e[f],l=t.noTargetGet?(p=i(r,f))&&p.value:r[f],!c(y?f:d+(g?".":"#")+f,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;u(h,l)}(t.sham||l&&l.sham)&&a(h,"sham",!0),o(r,f,h,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,e,r){"use strict";r(4916);var n=r(1320),i=r(7293),a=r(5112),o=r(8880),s=a("species"),u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c="$0"==="a".replace(/./,"$0"),f=a("replace"),l=!!/./[f]&&""===/./[f]("a","$0"),h=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,f){var p=a(t),d=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),y=d&&!i((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[s]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return e=!0,null},r[p](""),!e}));if(!d||!y||"replace"===t&&(!u||!c||l)||"split"===t&&!h){var g=/./[p],v=r(p,""[t],(function(t,e,r,n,i){return e.exec===RegExp.prototype.exec?d&&!i?{done:!0,value:g.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:l}),m=v[0],b=v[1];n(String.prototype,t,m),n(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}f&&o(RegExp.prototype[p],"sham",!0)}},6677:function(t,e,r){var n=r(7293);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},9974:function(t,e,r){var n=r(3099);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},7065:function(t,e,r){"use strict";var n=r(3099),i=r(111),a=[].slice,o={},s=function(t,e,r){if(!(e in o)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";o[e]=Function("C,a","return new C("+n.join(",")+")")}return o[e](t,r)};t.exports=Function.bind||function(t){var e=n(this),r=a.call(arguments,1),o=function(){var n=r.concat(a.call(arguments));return this instanceof o?s(e,n.length,n):e.apply(t,n)};return i(e.prototype)&&(o.prototype=e.prototype),o}},5005:function(t,e,r){var n=r(857),i=r(7854),a=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?a(n[t])||a(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},1246:function(t,e,r){var n=r(648),i=r(7497),a=r(5112)("iterator");t.exports=function(t){if(null!=t)return t[a]||t["@@iterator"]||i[n(t)]}},8554:function(t,e,r){var n=r(9670),i=r(1246);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return n(e.call(t))}},647:function(t,e,r){var n=r(7908),i=Math.floor,a="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,u,c,f){var l=r+t.length,h=u.length,p=s;return void 0!==c&&(c=n(c),p=o),a.call(f,p,(function(n,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(l);case"<":o=c[a.slice(1,-1)];break;default:var s=+a;if(0===s)return n;if(s>h){var f=i(s/10);return 0===f?n:f<=h?void 0===u[f-1]?a.charAt(1):u[f-1]+a.charAt(1):n}o=u[s-1]}return void 0===o?"":o}))}},7854:function(t,e,r){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},6656:function(t){var e={}.hasOwnProperty;t.exports=function(t,r){return e.call(t,r)}},3501:function(t){t.exports={}},842:function(t,e,r){var n=r(7854);t.exports=function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}},490:function(t,e,r){var n=r(5005);t.exports=n("document","documentElement")},4664:function(t,e,r){var n=r(9781),i=r(7293),a=r(317);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,r){var n=r(7293),i=r(4326),a="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?a.call(t,""):Object(t)}:Object},9587:function(t,e,r){var n=r(111),i=r(7674);t.exports=function(t,e,r){var a,o;return i&&"function"==typeof(a=e.constructor)&&a!==r&&n(o=a.prototype)&&o!==r.prototype&&i(t,o),t}},2788:function(t,e,r){var n=r(5465),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return i.call(t)}),t.exports=n.inspectSource},2423:function(t,e,r){var n=r(3501),i=r(111),a=r(6656),o=r(3070).f,s=r(9711),u=r(6677),c=s("meta"),f=0,l=Object.isExtensible||function(){return!0},h=function(t){o(t,c,{value:{objectID:"O"+ ++f,weakData:{}}})},p=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,c)){if(!l(t))return"F";if(!e)return"E";h(t)}return t[c].objectID},getWeakData:function(t,e){if(!a(t,c)){if(!l(t))return!0;if(!e)return!1;h(t)}return t[c].weakData},onFreeze:function(t){return u&&p.REQUIRED&&l(t)&&!a(t,c)&&h(t),t}};n[c]=!0},9909:function(t,e,r){var n,i,a,o=r(8536),s=r(7854),u=r(111),c=r(8880),f=r(6656),l=r(5465),h=r(6200),p=r(3501),d=s.WeakMap;if(o){var y=l.state||(l.state=new d),g=y.get,v=y.has,m=y.set;n=function(t,e){return e.facade=t,m.call(y,t,e),e},i=function(t){return g.call(y,t)||{}},a=function(t){return v.call(y,t)}}else{var b=h("state");p[b]=!0,n=function(t,e){return e.facade=t,c(t,b,e),e},i=function(t){return f(t,b)?t[b]:{}},a=function(t){return f(t,b)}}t.exports={set:n,get:i,has:a,enforce:function(t){return a(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},7659:function(t,e,r){var n=r(5112),i=r(7497),a=n("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[a]===t)}},3157:function(t,e,r){var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},4705:function(t,e,r){var n=r(7293),i=/#|\.prototype\./,a=function(t,e){var r=s[o(t)];return r==c||r!=u&&("function"==typeof e?n(e):!!e)},o=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},111:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:function(t){t.exports=!1},7850:function(t,e,r){var n=r(111),i=r(4326),a=r(5112)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},408:function(t,e,r){var n=r(9670),i=r(7659),a=r(7466),o=r(9974),s=r(1246),u=r(9212),c=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,r){var f,l,h,p,d,y,g,v=r&&r.that,m=!(!r||!r.AS_ENTRIES),b=!(!r||!r.IS_ITERATOR),E=!(!r||!r.INTERRUPTED),w=o(e,v,1+m+E),C=function(t){return f&&u(f),new c(!0,t)},S=function(t){return m?(n(t),E?w(t[0],t[1],C):w(t[0],t[1])):E?w(t,C):w(t)};if(b)f=t;else{if("function"!=typeof(l=s(t)))throw TypeError("Target is not iterable");if(i(l)){for(h=0,p=a(t.length);p>h;h++)if((d=S(t[h]))&&d instanceof c)return d;return new c(!1)}f=l.call(t)}for(y=f.next;!(g=y.call(f)).done;){try{d=S(g.value)}catch(t){throw u(f),t}if("object"==typeof d&&d&&d instanceof c)return d}return new c(!1)}},9212:function(t,e,r){var n=r(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return n(e.call(t)).value}},3383:function(t,e,r){"use strict";var n,i,a,o=r(7293),s=r(9518),u=r(8880),c=r(6656),f=r(5112),l=r(1913),h=f("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(i=s(s(a)))!==Object.prototype&&(n=i):p=!0);var d=null==n||o((function(){var t={};return n[h].call(t)!==t}));d&&(n={}),l&&!d||c(n,h)||u(n,h,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},7497:function(t){t.exports={}},5948:function(t,e,r){var n,i,a,o,s,u,c,f,l=r(7854),h=r(1236).f,p=r(261).set,d=r(6833),y=r(1036),g=r(5268),v=l.MutationObserver||l.WebKitMutationObserver,m=l.document,b=l.process,E=l.Promise,w=h(l,"queueMicrotask"),C=w&&w.value;C||(n=function(){var t,e;for(g&&(t=b.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?o():a=void 0,t}}a=void 0,t&&t.enter()},d||g||y||!v||!m?E&&E.resolve?(c=E.resolve(void 0),f=c.then,o=function(){f.call(c,n)}):o=g?function(){b.nextTick(n)}:function(){p.call(l,n)}:(s=!0,u=m.createTextNode(""),new v(n).observe(u,{characterData:!0}),o=function(){u.data=s=!s})),t.exports=C||function(t){var e={fn:t,next:void 0};a&&(a.next=e),i||(i=e,o()),a=e}},3366:function(t,e,r){var n=r(7854);t.exports=n.Promise},133:function(t,e,r){var n=r(5268),i=r(7392),a=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!a((function(){return!Symbol.sham&&(n?38===i:i>37&&i<41)}))},590:function(t,e,r){var n=r(7293),i=r(5112),a=r(1913),o=i("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),a&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},8536:function(t,e,r){var n=r(7854),i=r(2788),a=n.WeakMap;t.exports="function"==typeof a&&/native code/.test(i(a))},8523:function(t,e,r){"use strict";var n=r(3099),i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},3929:function(t,e,r){var n=r(7850);t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},1574:function(t,e,r){"use strict";var n=r(9781),i=r(7293),a=r(1956),o=r(5181),s=r(5296),u=r(7908),c=r(8361),f=Object.assign,l=Object.defineProperty;t.exports=!f||i((function(){if(n&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(t){e[t]=t})),7!=f({},t)[r]||a(f({},e)).join("")!=i}))?function(t,e){for(var r=u(t),i=arguments.length,f=1,l=o.f,h=s.f;i>f;)for(var p,d=c(arguments[f++]),y=l?a(d).concat(l(d)):a(d),g=y.length,v=0;g>v;)p=y[v++],n&&!h.call(d,p)||(r[p]=d[p]);return r}:f},30:function(t,e,r){var n,i=r(9670),a=r(6048),o=r(748),s=r(3501),u=r(490),c=r(317),f=r(6200)("IE_PROTO"),l=function(){},h=function(t){return"<script>"+t+"<\/script>"},p=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=n?function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F);for(var r=o.length;r--;)delete p.prototype[o[r]];return p()};s[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(l.prototype=i(t),r=new l,l.prototype=null,r[f]=t):r=p(),void 0===e?r:a(r,e)}},6048:function(t,e,r){var n=r(9781),i=r(3070),a=r(9670),o=r(1956);t.exports=n?Object.defineProperties:function(t,e){a(t);for(var r,n=o(e),s=n.length,u=0;s>u;)i.f(t,r=n[u++],e[r]);return t}},3070:function(t,e,r){var n=r(9781),i=r(4664),a=r(9670),o=r(7593),s=Object.defineProperty;e.f=n?s:function(t,e,r){if(a(t),e=o(e,!0),a(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:function(t,e,r){var n=r(9781),i=r(5296),a=r(9114),o=r(5656),s=r(7593),u=r(6656),c=r(4664),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=o(t),e=s(e,!0),c)try{return f(t,e)}catch(t){}if(u(t,e))return a(!i.f.call(t,e),t[e])}},1156:function(t,e,r){var n=r(5656),i=r(8006).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?function(t){try{return i(t)}catch(t){return o.slice()}}(t):i(n(t))}},8006:function(t,e,r){var n=r(6324),i=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,r){var n=r(6656),i=r(7908),a=r(6200),o=r(8544),s=a("IE_PROTO"),u=Object.prototype;t.exports=o?Object.getPrototypeOf:function(t){return t=i(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},6324:function(t,e,r){var n=r(6656),i=r(5656),a=r(1318).indexOf,o=r(3501);t.exports=function(t,e){var r,s=i(t),u=0,c=[];for(r in s)!n(o,r)&&n(s,r)&&c.push(r);for(;e.length>u;)n(s,r=e[u++])&&(~a(c,r)||c.push(r));return c}},1956:function(t,e,r){var n=r(6324),i=r(748);t.exports=Object.keys||function(t){return n(t,i)}},5296:function(t,e){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},7674:function(t,e,r){var n=r(9670),i=r(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,a){return n(r),i(a),e?t.call(r,a):r.__proto__=a,r}}():void 0)},288:function(t,e,r){"use strict";var n=r(1694),i=r(648);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},3887:function(t,e,r){var n=r(5005),i=r(8006),a=r(5181),o=r(9670);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(o(t)),r=a.f;return r?e.concat(r(t)):e}},857:function(t,e,r){var n=r(7854);t.exports=n},2534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:function(t,e,r){var n=r(9670),i=r(111),a=r(8523);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=a.f(t);return(0,r.resolve)(e),r.promise}},2248:function(t,e,r){var n=r(1320);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},1320:function(t,e,r){var n=r(7854),i=r(8880),a=r(6656),o=r(3505),s=r(2788),u=r(9909),c=u.get,f=u.enforce,l=String(String).split("String");(t.exports=function(t,e,r,s){var u,c=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof e||a(r,"name")||i(r,"name",e),(u=f(r)).source||(u.source=l.join("string"==typeof e?e:""))),t!==n?(c?!p&&t[e]&&(h=!0):delete t[e],h?t[e]=r:i(t,e,r)):h?t[e]=r:o(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},7651:function(t,e,r){var n=r(4326),i=r(2261);t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var a=r.call(t,e);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},2261:function(t,e,r){"use strict";var n,i,a=r(7066),o=r(2999),s=r(2309),u=RegExp.prototype.exec,c=s("native-string-replace",String.prototype.replace),f=u,l=(n=/a/,i=/b*/g,u.call(n,"a"),u.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),h=o.UNSUPPORTED_Y||o.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(l||p||h)&&(f=function(t){var e,r,n,i,o=this,s=h&&o.sticky,f=a.call(o),d=o.source,y=0,g=t;return s&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),g=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(d="(?: "+d+")",g=" "+g,y++),r=new RegExp("^(?:"+d+")",f)),p&&(r=new RegExp("^"+d+"$(?!\\s)",f)),l&&(e=o.lastIndex),n=u.call(s?r:o,g),s?n?(n.input=n.input.slice(y),n[0]=n[0].slice(y),n.index=o.lastIndex,o.lastIndex+=n[0].length):o.lastIndex=0:l&&n&&(o.lastIndex=o.global?n.index+n[0].length:e),p&&n&&n.length>1&&c.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),t.exports=f},7066:function(t,e,r){"use strict";var n=r(9670);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:function(t,e,r){"use strict";var n=r(7293);function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},4488:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:function(t,e,r){var n=r(7854),i=r(8880);t.exports=function(t,e){try{i(n,t,e)}catch(r){n[t]=e}return e}},6340:function(t,e,r){"use strict";var n=r(5005),i=r(3070),a=r(5112),o=r(9781),s=a("species");t.exports=function(t){var e=n(t),r=i.f;o&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},8003:function(t,e,r){var n=r(3070).f,i=r(6656),a=r(5112)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},6200:function(t,e,r){var n=r(2309),i=r(9711),a=n("keys");t.exports=function(t){return a[t]||(a[t]=i(t))}},5465:function(t,e,r){var n=r(7854),i=r(3505),a="__core-js_shared__",o=n[a]||i(a,{});t.exports=o},2309:function(t,e,r){var n=r(1913),i=r(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.1",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(t,e,r){var n=r(9670),i=r(3099),a=r(5112)("species");t.exports=function(t,e){var r,o=n(t).constructor;return void 0===o||null==(r=n(o)[a])?e:i(r)}},3429:function(t,e,r){var n=r(7293);t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},8710:function(t,e,r){var n=r(9958),i=r(4488),a=function(t){return function(e,r){var a,o,s=String(i(e)),u=n(r),c=s.length;return u<0||u>=c?t?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}};t.exports={codeAt:a(!1),charAt:a(!0)}},3197:function(t){"use strict";var e=2147483647,r=/[^\0-\u007E]/,n=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,o=String.fromCharCode,s=function(t){return t+22+75*(t<26)},u=function(t,e,r){var n=0;for(t=r?a(t/700):t>>1,t+=a(t/e);t>455;n+=36)t=a(t/35);return a(n+36*t/(t+38))},c=function(t){var r,n,c=[],f=(t=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=t.charCodeAt(r++);56320==(64512&a)?e.push(((1023&i)<<10)+(1023&a)+65536):(e.push(i),r--)}else e.push(i)}return e}(t)).length,l=128,h=0,p=72;for(r=0;r<t.length;r++)(n=t[r])<128&&c.push(o(n));var d=c.length,y=d;for(d&&c.push("-");y<f;){var g=e;for(r=0;r<t.length;r++)(n=t[r])>=l&&n<g&&(g=n);var v=y+1;if(g-l>a((e-h)/v))throw RangeError(i);for(h+=(g-l)*v,l=g,r=0;r<t.length;r++){if((n=t[r])<l&&++h>e)throw RangeError(i);if(n==l){for(var m=h,b=36;;b+=36){var E=b<=p?1:b>=p+26?26:b-p;if(m<E)break;var w=m-E,C=36-E;c.push(o(s(E+w%C))),m=a(w/C)}c.push(o(s(m))),p=u(h,v,y==d),h=0,++y}}++h,++l}return c.join("")};t.exports=function(t){var e,i,a=[],o=t.toLowerCase().replace(n,".").split(".");for(e=0;e<o.length;e++)i=o[e],a.push(r.test(i)?"xn--"+c(i):i);return a.join(".")}},261:function(t,e,r){var n,i,a,o=r(7854),s=r(7293),u=r(9974),c=r(490),f=r(317),l=r(6833),h=r(5268),p=o.location,d=o.setImmediate,y=o.clearImmediate,g=o.process,v=o.MessageChannel,m=o.Dispatch,b=0,E={},w=function(t){if(E.hasOwnProperty(t)){var e=E[t];delete E[t],e()}},C=function(t){return function(){w(t)}},S=function(t){w(t.data)},_=function(t){o.postMessage(t+"",p.protocol+"//"+p.host)};d&&y||(d=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return E[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(b),b},y=function(t){delete E[t]},h?n=function(t){g.nextTick(C(t))}:m&&m.now?n=function(t){m.now(C(t))}:v&&!l?(a=(i=new v).port2,i.port1.onmessage=S,n=u(a.postMessage,a,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&p&&"file:"!==p.protocol&&!s(_)?(n=_,o.addEventListener("message",S,!1)):n="onreadystatechange"in f("script")?function(t){c.appendChild(f("script")).onreadystatechange=function(){c.removeChild(this),w(t)}}:function(t){setTimeout(C(t),0)}),t.exports={set:d,clear:y}},1400:function(t,e,r){var n=r(9958),i=Math.max,a=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):a(r,e)}},5656:function(t,e,r){var n=r(8361),i=r(4488);t.exports=function(t){return n(i(t))}},9958:function(t){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},7466:function(t,e,r){var n=r(9958),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},7908:function(t,e,r){var n=r(4488);t.exports=function(t){return Object(n(t))}},7593:function(t,e,r){var n=r(111);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},1694:function(t,e,r){var n={};n[r(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},9711:function(t){var e=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+r).toString(36)}},3307:function(t,e,r){var n=r(133);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:function(t,e,r){var n=r(5112);e.f=n},5112:function(t,e,r){var n=r(7854),i=r(2309),a=r(6656),o=r(9711),s=r(133),u=r(3307),c=i("wks"),f=n.Symbol,l=u?f:f&&f.withoutSetter||o;t.exports=function(t){return a(c,t)&&(s||"string"==typeof c[t])||(s&&a(f,t)?c[t]=f[t]:c[t]=l("Symbol."+t)),c[t]}},2222:function(t,e,r){"use strict";var n=r(2109),i=r(7293),a=r(3157),o=r(111),s=r(7908),u=r(7466),c=r(6135),f=r(5417),l=r(1194),h=r(5112),p=r(7392),d=h("isConcatSpreadable"),y=9007199254740991,g="Maximum allowed index exceeded",v=p>=51||!i((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),m=l("concat"),b=function(t){if(!o(t))return!1;var e=t[d];return void 0!==e?!!e:a(t)};n({target:"Array",proto:!0,forced:!v||!m},{concat:function(t){var e,r,n,i,a,o=s(this),l=f(o,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(b(a=-1===e?o:arguments[e])){if(h+(i=u(a.length))>y)throw TypeError(g);for(r=0;r<i;r++,h++)r in a&&c(l,h,a[r])}else{if(h>=y)throw TypeError(g);c(l,h++,a)}return l.length=h,l}})},3290:function(t,e,r){var n=r(2109),i=r(1285),a=r(1223);n({target:"Array",proto:!0},{fill:i}),a("fill")},7327:function(t,e,r){"use strict";var n=r(2109),i=r(2092).filter;n({target:"Array",proto:!0,forced:!r(1194)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},1038:function(t,e,r){var n=r(2109),i=r(8457);n({target:"Array",stat:!0,forced:!r(7072)((function(t){Array.from(t)}))},{from:i})},6699:function(t,e,r){"use strict";var n=r(2109),i=r(1318).includes,a=r(1223);n({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},6992:function(t,e,r){"use strict";var n=r(5656),i=r(1223),a=r(7497),o=r(9909),s=r(654),u="Array Iterator",c=o.set,f=o.getterFor(u);t.exports=s(Array,"Array",(function(t,e){c(this,{type:u,target:n(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},9600:function(t,e,r){"use strict";var n=r(2109),i=r(8361),a=r(5656),o=r(9341),s=[].join,u=i!=Object,c=o("join",",");n({target:"Array",proto:!0,forced:u||!c},{join:function(t){return s.call(a(this),void 0===t?",":t)}})},1249:function(t,e,r){"use strict";var n=r(2109),i=r(2092).map;n({target:"Array",proto:!0,forced:!r(1194)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},7042:function(t,e,r){"use strict";var n=r(2109),i=r(111),a=r(3157),o=r(1400),s=r(7466),u=r(5656),c=r(6135),f=r(5112),l=r(1194)("slice"),h=f("species"),p=[].slice,d=Math.max;n({target:"Array",proto:!0,forced:!l},{slice:function(t,e){var r,n,f,l=u(this),y=s(l.length),g=o(t,y),v=o(void 0===e?y:e,y);if(a(l)&&("function"!=typeof(r=l.constructor)||r!==Array&&!a(r.prototype)?i(r)&&null===(r=r[h])&&(r=void 0):r=void 0,r===Array||void 0===r))return p.call(l,g,v);for(n=new(void 0===r?Array:r)(d(v-g,0)),f=0;g<v;g++,f++)g in l&&c(n,f,l[g]);return n.length=f,n}})},561:function(t,e,r){"use strict";var n=r(2109),i=r(1400),a=r(9958),o=r(7466),s=r(7908),u=r(5417),c=r(6135),f=r(1194)("splice"),l=Math.max,h=Math.min,p=9007199254740991,d="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var r,n,f,y,g,v,m=s(this),b=o(m.length),E=i(t,b),w=arguments.length;if(0===w?r=n=0:1===w?(r=0,n=b-E):(r=w-2,n=h(l(a(e),0),b-E)),b+r-n>p)throw TypeError(d);for(f=u(m,n),y=0;y<n;y++)(g=E+y)in m&&c(f,y,m[g]);if(f.length=n,r<n){for(y=E;y<b-n;y++)v=y+r,(g=y+n)in m?m[v]=m[g]:delete m[v];for(y=b;y>b-n+r;y--)delete m[y-1]}else if(r>n)for(y=b-n;y>E;y--)v=y+r-1,(g=y+n-1)in m?m[v]=m[g]:delete m[v];for(y=0;y<r;y++)m[y+E]=arguments[y+2];return m.length=b-n+r,f}})},8309:function(t,e,r){var n=r(9781),i=r(3070).f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,u="name";n&&!(u in a)&&i(a,u,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},1532:function(t,e,r){"use strict";var n=r(7710),i=r(5631);t.exports=n("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},9601:function(t,e,r){var n=r(2109),i=r(1574);n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},9337:function(t,e,r){var n=r(2109),i=r(9781),a=r(3887),o=r(5656),s=r(1236),u=r(6135);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,r,n=o(t),i=s.f,c=a(n),f={},l=0;c.length>l;)void 0!==(r=i(n,e=c[l++]))&&u(f,e,r);return f}})},7941:function(t,e,r){var n=r(2109),i=r(7908),a=r(1956);n({target:"Object",stat:!0,forced:r(7293)((function(){a(1)}))},{keys:function(t){return a(i(t))}})},1539:function(t,e,r){var n=r(1694),i=r(1320),a=r(288);n||i(Object.prototype,"toString",a,{unsafe:!0})},7727:function(t,e,r){"use strict";var n=r(2109),i=r(1913),a=r(3366),o=r(7293),s=r(5005),u=r(6707),c=r(9478),f=r(1320);n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,s("Promise")),r="function"==typeof t;return this.then(r?function(r){return c(e,t()).then((function(){return r}))}:t,r?function(r){return c(e,t()).then((function(){throw r}))}:t)}}),i||"function"!=typeof a||a.prototype.finally||f(a.prototype,"finally",s("Promise").prototype.finally)},8674:function(t,e,r){"use strict";var n,i,a,o,s=r(2109),u=r(1913),c=r(7854),f=r(5005),l=r(3366),h=r(1320),p=r(2248),d=r(8003),y=r(6340),g=r(111),v=r(3099),m=r(5787),b=r(2788),E=r(408),w=r(7072),C=r(6707),S=r(261).set,_=r(5948),A=r(9478),T=r(842),I=r(8523),B=r(2534),k=r(9909),x=r(4705),R=r(5112),N=r(5268),P=r(7392),O=R("species"),U="Promise",L=k.get,F=k.set,D=k.getterFor(U),j=l,K=c.TypeError,V=c.document,M=c.process,z=f("fetch"),H=I.f,q=H,G=!!(V&&V.createEvent&&c.dispatchEvent),W="function"==typeof PromiseRejectionEvent,Z="unhandledrejection",Q=x(U,(function(){if(b(j)===String(j)){if(66===P)return!0;if(!N&&!W)return!0}if(u&&!j.prototype.finally)return!0;if(P>=51&&/native code/.test(j))return!1;var t=j.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[O]=e,!(t.then((function(){}))instanceof e)})),$=Q||!w((function(t){j.all(t).catch((function(){}))})),Y=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},X=function(t,e){if(!t.notified){t.notified=!0;var r=t.reactions;_((function(){for(var n=t.value,i=1==t.state,a=0;r.length>a;){var o,s,u,c=r[a++],f=i?c.ok:c.fail,l=c.resolve,h=c.reject,p=c.domain;try{f?(i||(2===t.rejection&&rt(t),t.rejection=1),!0===f?o=n:(p&&p.enter(),o=f(n),p&&(p.exit(),u=!0)),o===c.promise?h(K("Promise-chain cycle")):(s=Y(o))?s.call(o,l,h):l(o)):h(n)}catch(t){p&&!u&&p.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&tt(t)}))}},J=function(t,e,r){var n,i;G?((n=V.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},!W&&(i=c["on"+t])?i(n):t===Z&&T("Unhandled promise rejection",r)},tt=function(t){S.call(c,(function(){var e,r=t.facade,n=t.value;if(et(t)&&(e=B((function(){N?M.emit("unhandledRejection",n,r):J(Z,r,n)})),t.rejection=N||et(t)?2:1,e.error))throw e.value}))},et=function(t){return 1!==t.rejection&&!t.parent},rt=function(t){S.call(c,(function(){var e=t.facade;N?M.emit("rejectionHandled",e):J("rejectionhandled",e,t.value)}))},nt=function(t,e,r){return function(n){t(e,n,r)}},it=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,X(t,!0))},at=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw K("Promise can't be resolved itself");var n=Y(e);n?_((function(){var r={done:!1};try{n.call(e,nt(at,r,t),nt(it,r,t))}catch(e){it(r,e,t)}})):(t.value=e,t.state=1,X(t,!1))}catch(e){it({done:!1},e,t)}}};Q&&(j=function(t){m(this,j,U),v(t),n.call(this);var e=L(this);try{t(nt(at,e),nt(it,e))}catch(t){it(e,t)}},(n=function(t){F(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(j.prototype,{then:function(t,e){var r=D(this),n=H(C(this,j));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=N?M.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&X(r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n,e=L(t);this.promise=t,this.resolve=nt(at,e),this.reject=nt(it,e)},I.f=H=function(t){return t===j||t===a?new i(t):q(t)},u||"function"!=typeof l||(o=l.prototype.then,h(l.prototype,"then",(function(t,e){var r=this;return new j((function(t,e){o.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof z&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return A(j,z.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:Q},{Promise:j}),d(j,U,!1,!0),y(U),a=f(U),s({target:U,stat:!0,forced:Q},{reject:function(t){var e=H(this);return e.reject.call(void 0,t),e.promise}}),s({target:U,stat:!0,forced:u||Q},{resolve:function(t){return A(u&&this===a?j:this,t)}}),s({target:U,stat:!0,forced:$},{all:function(t){var e=this,r=H(e),n=r.resolve,i=r.reject,a=B((function(){var r=v(e.resolve),a=[],o=0,s=1;E(t,(function(t){var u=o++,c=!1;a.push(void 0),s++,r.call(e,t).then((function(t){c||(c=!0,a[u]=t,--s||n(a))}),i)})),--s||n(a)}));return a.error&&i(a.value),r.promise},race:function(t){var e=this,r=H(e),n=r.reject,i=B((function(){var i=v(e.resolve);E(t,(function(t){i.call(e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},2419:function(t,e,r){var n=r(2109),i=r(5005),a=r(3099),o=r(9670),s=r(111),u=r(30),c=r(7065),f=r(7293),l=i("Reflect","construct"),h=f((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),p=!f((function(){l((function(){}))})),d=h||p;n({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(t,e){a(t),o(e);var r=arguments.length<3?t:a(arguments[2]);if(p&&!h)return l(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(c.apply(t,n))}var i=r.prototype,f=u(s(i)?i:Object.prototype),d=Function.apply.call(t,f,e);return s(d)?d:f}})},4916:function(t,e,r){"use strict";var n=r(2109),i=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},9714:function(t,e,r){"use strict";var n=r(1320),i=r(9670),a=r(7293),o=r(7066),s="toString",u=RegExp.prototype,c=u.toString,f=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),l=c.name!=s;(f||l)&&n(RegExp.prototype,s,(function(){var t=i(this),e=String(t.source),r=t.flags;return"/"+e+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in u)?o.call(t):r)}),{unsafe:!0})},189:function(t,e,r){"use strict";var n=r(7710),i=r(5631);t.exports=n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},5218:function(t,e,r){"use strict";var n=r(2109),i=r(4230);n({target:"String",proto:!0,forced:r(3429)("anchor")},{anchor:function(t){return i(this,"a","name",t)}})},2023:function(t,e,r){"use strict";var n=r(2109),i=r(3929),a=r(4488);n({target:"String",proto:!0,forced:!r(4964)("includes")},{includes:function(t){return!!~String(a(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},8783:function(t,e,r){"use strict";var n=r(8710).charAt,i=r(9909),a=r(654),o="String Iterator",s=i.set,u=i.getterFor(o);a(String,"String",(function(t){s(this,{type:o,string:String(t),index:0})}),(function(){var t,e=u(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},4723:function(t,e,r){"use strict";var n=r(7007),i=r(9670),a=r(7466),o=r(4488),s=r(1530),u=r(7651);n("match",1,(function(t,e,r){return[function(e){var r=o(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var o=i(t),c=String(this);if(!o.global)return u(o,c);var f=o.unicode;o.lastIndex=0;for(var l,h=[],p=0;null!==(l=u(o,c));){var d=String(l[0]);h[p]=d,""===d&&(o.lastIndex=s(c,a(o.lastIndex),f)),p++}return 0===p?null:h}]}))},5306:function(t,e,r){"use strict";var n=r(7007),i=r(9670),a=r(7466),o=r(9958),s=r(4488),u=r(1530),c=r(647),f=r(7651),l=Math.max,h=Math.min;n("replace",2,(function(t,e,r,n){var p=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,d=n.REPLACE_KEEPS_$0,y=p?"$":"$0";return[function(r,n){var i=s(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,n):e.call(String(i),r,n)},function(t,n){if(!p&&d||"string"==typeof n&&-1===n.indexOf(y)){var s=r(e,t,this,n);if(s.done)return s.value}var g=i(t),v=String(this),m="function"==typeof n;m||(n=String(n));var b=g.global;if(b){var E=g.unicode;g.lastIndex=0}for(var w=[];;){var C=f(g,v);if(null===C)break;if(w.push(C),!b)break;""===String(C[0])&&(g.lastIndex=u(v,a(g.lastIndex),E))}for(var S,_="",A=0,T=0;T<w.length;T++){C=w[T];for(var I=String(C[0]),B=l(h(o(C.index),v.length),0),k=[],x=1;x<C.length;x++)k.push(void 0===(S=C[x])?S:String(S));var R=C.groups;if(m){var N=[I].concat(k,B,v);void 0!==R&&N.push(R);var P=String(n.apply(void 0,N))}else P=c(I,v,B,k,R,n);B>=A&&(_+=v.slice(A,B)+P,A=B+I.length)}return _+v.slice(A)}]}))},3123:function(t,e,r){"use strict";var n=r(7007),i=r(7850),a=r(9670),o=r(4488),s=r(6707),u=r(1530),c=r(7466),f=r(7651),l=r(2261),h=r(2999).UNSUPPORTED_Y,p=[].push,d=Math.min,y=4294967295;n("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(o(this)),a=void 0===r?y:r>>>0;if(0===a)return[];if(void 0===t)return[n];if(!i(t))return e.call(n,t,a);for(var s,u,c,f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,g=new RegExp(t.source,h+"g");(s=l.call(g,n))&&!((u=g.lastIndex)>d&&(f.push(n.slice(d,s.index)),s.length>1&&s.index<n.length&&p.apply(f,s.slice(1)),c=s[0].length,d=u,f.length>=a));)g.lastIndex===s.index&&g.lastIndex++;return d===n.length?!c&&g.test("")||f.push(""):f.push(n.slice(d)),f.length>a?f.slice(0,a):f}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var i=o(this),a=null==e?void 0:e[t];return void 0!==a?a.call(e,i,r):n.call(String(i),e,r)},function(t,i){var o=r(n,t,this,i,n!==e);if(o.done)return o.value;var l=a(t),p=String(this),g=s(l,RegExp),v=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(h?"g":"y"),b=new g(h?"^(?:"+l.source+")":l,m),E=void 0===i?y:i>>>0;if(0===E)return[];if(0===p.length)return null===f(b,p)?[p]:[];for(var w=0,C=0,S=[];C<p.length;){b.lastIndex=h?0:C;var _,A=f(b,h?p.slice(C):p);if(null===A||(_=d(c(b.lastIndex+(h?C:0)),p.length))===w)C=u(p,C,v);else{if(S.push(p.slice(w,C)),S.length===E)return S;for(var T=1;T<=A.length-1;T++)if(S.push(A[T]),S.length===E)return S;C=w=_}}return S.push(p.slice(w)),S}]}),h)},1817:function(t,e,r){"use strict";var n=r(2109),i=r(9781),a=r(7854),o=r(6656),s=r(111),u=r(3070).f,c=r(9920),f=a.Symbol;if(i&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new f(t):void 0===t?f():f(t);return""===t&&(l[e]=!0),e};c(h,f);var p=h.prototype=f.prototype;p.constructor=h;var d=p.toString,y="Symbol(test)"==String(f("test")),g=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=d.call(t);if(o(l,t))return"";var r=y?e.slice(7,-1):e.replace(g,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:h})}},2165:function(t,e,r){r(7235)("iterator")},2526:function(t,e,r){"use strict";var n=r(2109),i=r(7854),a=r(5005),o=r(1913),s=r(9781),u=r(133),c=r(3307),f=r(7293),l=r(6656),h=r(3157),p=r(111),d=r(9670),y=r(7908),g=r(5656),v=r(7593),m=r(9114),b=r(30),E=r(1956),w=r(8006),C=r(1156),S=r(5181),_=r(1236),A=r(3070),T=r(5296),I=r(8880),B=r(1320),k=r(2309),x=r(6200),R=r(3501),N=r(9711),P=r(5112),O=r(6061),U=r(7235),L=r(8003),F=r(9909),D=r(2092).forEach,j=x("hidden"),K="Symbol",V=P("toPrimitive"),M=F.set,z=F.getterFor(K),H=Object.prototype,q=i.Symbol,G=a("JSON","stringify"),W=_.f,Z=A.f,Q=C.f,$=T.f,Y=k("symbols"),X=k("op-symbols"),J=k("string-to-symbol-registry"),tt=k("symbol-to-string-registry"),et=k("wks"),rt=i.QObject,nt=!rt||!rt.prototype||!rt.prototype.findChild,it=s&&f((function(){return 7!=b(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=W(H,e);n&&delete H[e],Z(t,e,r),n&&t!==H&&Z(H,e,n)}:Z,at=function(t,e){var r=Y[t]=b(q.prototype);return M(r,{type:K,tag:t,description:e}),s||(r.description=e),r},ot=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof q},st=function(t,e,r){t===H&&st(X,e,r),d(t);var n=v(e,!0);return d(r),l(Y,n)?(r.enumerable?(l(t,j)&&t[j][n]&&(t[j][n]=!1),r=b(r,{enumerable:m(0,!1)})):(l(t,j)||Z(t,j,m(1,{})),t[j][n]=!0),it(t,n,r)):Z(t,n,r)},ut=function(t,e){d(t);var r=g(e),n=E(r).concat(ht(r));return D(n,(function(e){s&&!ct.call(r,e)||st(t,e,r[e])})),t},ct=function(t){var e=v(t,!0),r=$.call(this,e);return!(this===H&&l(Y,e)&&!l(X,e))&&(!(r||!l(this,e)||!l(Y,e)||l(this,j)&&this[j][e])||r)},ft=function(t,e){var r=g(t),n=v(e,!0);if(r!==H||!l(Y,n)||l(X,n)){var i=W(r,n);return!i||!l(Y,n)||l(r,j)&&r[j][n]||(i.enumerable=!0),i}},lt=function(t){var e=Q(g(t)),r=[];return D(e,(function(t){l(Y,t)||l(R,t)||r.push(t)})),r},ht=function(t){var e=t===H,r=Q(e?X:g(t)),n=[];return D(r,(function(t){!l(Y,t)||e&&!l(H,t)||n.push(Y[t])})),n};u||(B((q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=N(t),r=function(t){this===H&&r.call(X,t),l(this,j)&&l(this[j],e)&&(this[j][e]=!1),it(this,e,m(1,t))};return s&&nt&&it(H,e,{configurable:!0,set:r}),at(e,t)}).prototype,"toString",(function(){return z(this).tag})),B(q,"withoutSetter",(function(t){return at(N(t),t)})),T.f=ct,A.f=st,_.f=ft,w.f=C.f=lt,S.f=ht,O.f=function(t){return at(P(t),t)},s&&(Z(q.prototype,"description",{configurable:!0,get:function(){return z(this).description}}),o||B(H,"propertyIsEnumerable",ct,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:q}),D(E(et),(function(t){U(t)})),n({target:K,stat:!0,forced:!u},{for:function(t){var e=String(t);if(l(J,e))return J[e];var r=q(e);return J[e]=r,tt[r]=e,r},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(l(tt,t))return tt[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(t,e){return void 0===e?b(t):ut(b(t),e)},defineProperty:st,defineProperties:ut,getOwnPropertyDescriptor:ft}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:lt,getOwnPropertySymbols:ht}),n({target:"Object",stat:!0,forced:f((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(y(t))}}),G&&n({target:"JSON",stat:!0,forced:!u||f((function(){var t=q();return"[null]"!=G([t])||"{}"!=G({a:t})||"{}"!=G(Object(t))}))},{stringify:function(t,e,r){for(var n,i=[t],a=1;arguments.length>a;)i.push(arguments[a++]);if(n=e,(p(e)||void 0!==t)&&!ot(t))return h(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!ot(e))return e}),i[1]=e,G.apply(null,i)}}),q.prototype[V]||I(q.prototype,V,q.prototype.valueOf),L(q,K),R[j]=!0},4747:function(t,e,r){var n=r(7854),i=r(8324),a=r(8533),o=r(8880);for(var s in i){var u=n[s],c=u&&u.prototype;if(c&&c.forEach!==a)try{o(c,"forEach",a)}catch(t){c.forEach=a}}},3948:function(t,e,r){var n=r(7854),i=r(8324),a=r(6992),o=r(8880),s=r(5112),u=s("iterator"),c=s("toStringTag"),f=a.values;for(var l in i){var h=n[l],p=h&&h.prototype;if(p){if(p[u]!==f)try{o(p,u,f)}catch(t){p[u]=f}if(p[c]||o(p,c,l),i[l])for(var d in a)if(p[d]!==a[d])try{o(p,d,a[d])}catch(t){p[d]=a[d]}}}},1637:function(t,e,r){"use strict";r(6992);var n=r(2109),i=r(5005),a=r(590),o=r(1320),s=r(2248),u=r(8003),c=r(4994),f=r(9909),l=r(5787),h=r(6656),p=r(9974),d=r(648),y=r(9670),g=r(111),v=r(30),m=r(9114),b=r(8554),E=r(1246),w=r(5112),C=i("fetch"),S=i("Headers"),_=w("iterator"),A="URLSearchParams",T="URLSearchParamsIterator",I=f.set,B=f.getterFor(A),k=f.getterFor(T),x=/\+/g,R=Array(4),N=function(t){return R[t-1]||(R[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},P=function(t){try{return decodeURIComponent(t)}catch(e){return t}},O=function(t){var e=t.replace(x," "),r=4;try{return decodeURIComponent(e)}catch(t){for(;r;)e=e.replace(N(r--),P);return e}},U=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(t){return L[t]},D=function(t){return encodeURIComponent(t).replace(U,F)},j=function(t,e){if(e)for(var r,n,i=e.split("&"),a=0;a<i.length;)(r=i[a++]).length&&(n=r.split("="),t.push({key:O(n.shift()),value:O(n.join("="))}))},K=function(t){this.entries.length=0,j(this.entries,t)},V=function(t,e){if(t<e)throw TypeError("Not enough arguments")},M=c((function(t,e){I(this,{type:T,iterator:b(B(t).entries),kind:e})}),"Iterator",(function(){var t=k(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r})),z=function(){l(this,z,A);var t,e,r,n,i,a,o,s,u,c=arguments.length>0?arguments[0]:void 0,f=this,p=[];if(I(f,{type:A,entries:p,updateURL:function(){},updateSearchParams:K}),void 0!==c)if(g(c))if("function"==typeof(t=E(c)))for(r=(e=t.call(c)).next;!(n=r.call(e)).done;){if((o=(a=(i=b(y(n.value))).next).call(i)).done||(s=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");p.push({key:o.value+"",value:s.value+""})}else for(u in c)h(c,u)&&p.push({key:u,value:c[u]+""});else j(p,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},H=z.prototype;s(H,{append:function(t,e){V(arguments.length,2);var r=B(this);r.entries.push({key:t+"",value:e+""}),r.updateURL()},delete:function(t){V(arguments.length,1);for(var e=B(this),r=e.entries,n=t+"",i=0;i<r.length;)r[i].key===n?r.splice(i,1):i++;e.updateURL()},get:function(t){V(arguments.length,1);for(var e=B(this).entries,r=t+"",n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){V(arguments.length,1);for(var e=B(this).entries,r=t+"",n=[],i=0;i<e.length;i++)e[i].key===r&&n.push(e[i].value);return n},has:function(t){V(arguments.length,1);for(var e=B(this).entries,r=t+"",n=0;n<e.length;)if(e[n++].key===r)return!0;return!1},set:function(t,e){V(arguments.length,1);for(var r,n=B(this),i=n.entries,a=!1,o=t+"",s=e+"",u=0;u<i.length;u++)(r=i[u]).key===o&&(a?i.splice(u--,1):(a=!0,r.value=s));a||i.push({key:o,value:s}),n.updateURL()},sort:function(){var t,e,r,n=B(this),i=n.entries,a=i.slice();for(i.length=0,r=0;r<a.length;r++){for(t=a[r],e=0;e<r;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===r&&i.push(t)}n.updateURL()},forEach:function(t){for(var e,r=B(this).entries,n=p(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<r.length;)n((e=r[i++]).value,e.key,this)},keys:function(){return new M(this,"keys")},values:function(){return new M(this,"values")},entries:function(){return new M(this,"entries")}},{enumerable:!0}),o(H,_,H.entries),o(H,"toString",(function(){for(var t,e=B(this).entries,r=[],n=0;n<e.length;)t=e[n++],r.push(D(t.key)+"="+D(t.value));return r.join("&")}),{enumerable:!0}),u(z,A),n({global:!0,forced:!a},{URLSearchParams:z}),a||"function"!=typeof C||"function"!=typeof S||n({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,r,n,i=[t];return arguments.length>1&&(g(e=arguments[1])&&(r=e.body,d(r)===A&&((n=e.headers?new S(e.headers):new S).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=v(e,{body:m(0,String(r)),headers:m(0,n)}))),i.push(e)),C.apply(this,i)}}),t.exports={URLSearchParams:z,getState:B}},285:function(t,e,r){"use strict";r(8783);var n,i=r(2109),a=r(9781),o=r(590),s=r(7854),u=r(6048),c=r(1320),f=r(5787),l=r(6656),h=r(1574),p=r(8457),d=r(8710).codeAt,y=r(3197),g=r(8003),v=r(1637),m=r(9909),b=s.URL,E=v.URLSearchParams,w=v.getState,C=m.set,S=m.getterFor("URL"),_=Math.floor,A=Math.pow,T="Invalid scheme",I="Invalid host",B="Invalid port",k=/[A-Za-z]/,x=/[\d+-.A-Za-z]/,R=/\d/,N=/^(0x|0X)/,P=/^[0-7]+$/,O=/^\d+$/,U=/^[\dA-Fa-f]+$/,L=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\t\u000A\u000D #/:?@[\\]]/,D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,j=/[\t\u000A\u000D]/g,K=function(t,e){var r,n,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return I;if(!(r=M(e.slice(1,-1))))return I;t.host=r}else if($(t)){if(e=y(e),L.test(e))return I;if(null===(r=V(e)))return I;t.host=r}else{if(F.test(e))return I;for(r="",n=p(e),i=0;i<n.length;i++)r+=Z(n[i],H);t.host=r}},V=function(t){var e,r,n,i,a,o,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(r=[],n=0;n<e;n++){if(""==(i=u[n]))return t;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=N.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?O:8==a?P:U).test(i))return t;o=parseInt(i,a)}r.push(o)}for(n=0;n<e;n++)if(o=r[n],n==e-1){if(o>=A(256,5-e))return null}else if(o>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*A(256,3-n);return s},M=function(t){var e,r,n,i,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,f=null,l=0,h=function(){return t.charAt(l)};if(":"==h()){if(":"!=t.charAt(1))return;l+=2,f=++c}for(;h();){if(8==c)return;if(":"!=h()){for(e=r=0;r<4&&U.test(h());)e=16*e+parseInt(h(),16),l++,r++;if("."==h()){if(0==r)return;if(l-=r,c>6)return;for(n=0;h();){if(i=null,n>0){if(!("."==h()&&n<4))return;l++}if(!R.test(h()))return;for(;R.test(h());){if(a=parseInt(h(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;l++}u[c]=256*u[c]+i,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==h()){if(l++,!h())return}else if(h())return;u[c++]=e}else{if(null!==f)return;l++,f=++c}}if(null!==f)for(o=c-f,c=7;0!=c&&o>0;)s=u[c],u[c--]=u[f+o-1],u[f+--o]=s;else if(8!=c)return;return u},z=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)e.unshift(t%256),t=_(t/256);return e.join(".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,i=0,a=0;a<8;a++)0!==t[a]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r&&(e=n,r=i),e}(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=t[r].toString(16),r<7&&(e+=":")));return"["+e+"]"}return t},H={},q=h({},H,{" ":1,'"':1,"<":1,">":1,"`":1}),G=h({},q,{"#":1,"?":1,"{":1,"}":1}),W=h({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Z=function(t,e){var r=d(t,0);return r>32&&r<127&&!l(e,t)?t:encodeURIComponent(t)},Q={ftp:21,file:null,http:80,https:443,ws:80,wss:443},$=function(t){return l(Q,t.scheme)},Y=function(t){return""!=t.username||""!=t.password},X=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},J=function(t,e){var r;return 2==t.length&&k.test(t.charAt(0))&&(":"==(r=t.charAt(1))||!e&&"|"==r)},tt=function(t){var e;return t.length>1&&J(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},et=function(t){var e=t.path,r=e.length;!r||"file"==t.scheme&&1==r&&J(e[0],!0)||e.pop()},rt=function(t){return"."===t||"%2e"===t.toLowerCase()},nt={},it={},at={},ot={},st={},ut={},ct={},ft={},lt={},ht={},pt={},dt={},yt={},gt={},vt={},mt={},bt={},Et={},wt={},Ct={},St={},_t=function(t,e,r,i){var a,o,s,u,c,f=r||nt,h=0,d="",y=!1,g=!1,v=!1;for(r||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(D,"")),e=e.replace(j,""),a=p(e);h<=a.length;){switch(o=a[h],f){case nt:if(!o||!k.test(o)){if(r)return T;f=at;continue}d+=o.toLowerCase(),f=it;break;case it:if(o&&(x.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(r)return T;d="",f=at,h=0;continue}if(r&&($(t)!=l(Q,d)||"file"==d&&(Y(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,r)return void($(t)&&Q[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?f=gt:$(t)&&i&&i.scheme==t.scheme?f=ot:$(t)?f=ft:"/"==a[h+1]?(f=st,h++):(t.cannotBeABaseURL=!0,t.path.push(""),f=wt)}break;case at:if(!i||i.cannotBeABaseURL&&"#"!=o)return T;if(i.cannotBeABaseURL&&"#"==o){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,f=St;break}f="file"==i.scheme?gt:ut;continue;case ot:if("/"!=o||"/"!=a[h+1]){f=ut;continue}f=lt,h++;break;case st:if("/"==o){f=ht;break}f=Et;continue;case ut:if(t.scheme=i.scheme,o==n)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if("/"==o||"\\"==o&&$(t))f=ct;else if("?"==o)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",f=Ct;else{if("#"!=o){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),f=Et;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",f=St}break;case ct:if(!$(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,f=Et;continue}f=ht}else f=lt;break;case ft:if(f=lt,"/"!=o||"/"!=d.charAt(h+1))continue;h++;break;case lt:if("/"!=o&&"\\"!=o){f=ht;continue}break;case ht:if("@"==o){y&&(d="%40"+d),y=!0,s=p(d);for(var m=0;m<s.length;m++){var b=s[m];if(":"!=b||v){var E=Z(b,W);v?t.password+=E:t.username+=E}else v=!0}d=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&$(t)){if(y&&""==d)return"Invalid authority";h-=p(d).length+1,d="",f=pt}else d+=o;break;case pt:case dt:if(r&&"file"==t.scheme){f=mt;continue}if(":"!=o||g){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&$(t)){if($(t)&&""==d)return I;if(r&&""==d&&(Y(t)||null!==t.port))return;if(u=K(t,d))return u;if(d="",f=bt,r)return;continue}"["==o?g=!0:"]"==o&&(g=!1),d+=o}else{if(""==d)return I;if(u=K(t,d))return u;if(d="",f=yt,r==dt)return}break;case yt:if(!R.test(o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&$(t)||r){if(""!=d){var w=parseInt(d,10);if(w>65535)return B;t.port=$(t)&&w===Q[t.scheme]?null:w,d=""}if(r)return;f=bt;continue}return B}d+=o;break;case gt:if(t.scheme="file","/"==o||"\\"==o)f=vt;else{if(!i||"file"!=i.scheme){f=Et;continue}if(o==n)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if("?"==o)t.host=i.host,t.path=i.path.slice(),t.query="",f=Ct;else{if("#"!=o){tt(a.slice(h).join(""))||(t.host=i.host,t.path=i.path.slice(),et(t)),f=Et;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",f=St}}break;case vt:if("/"==o||"\\"==o){f=mt;break}i&&"file"==i.scheme&&!tt(a.slice(h).join(""))&&(J(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),f=Et;continue;case mt:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!r&&J(d))f=Et;else if(""==d){if(t.host="",r)return;f=bt}else{if(u=K(t,d))return u;if("localhost"==t.host&&(t.host=""),r)return;d="",f=bt}continue}d+=o;break;case bt:if($(t)){if(f=Et,"/"!=o&&"\\"!=o)continue}else if(r||"?"!=o)if(r||"#"!=o){if(o!=n&&(f=Et,"/"!=o))continue}else t.fragment="",f=St;else t.query="",f=Ct;break;case Et:if(o==n||"/"==o||"\\"==o&&$(t)||!r&&("?"==o||"#"==o)){if(".."===(c=(c=d).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(et(t),"/"==o||"\\"==o&&$(t)||t.path.push("")):rt(d)?"/"==o||"\\"==o&&$(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&J(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(o==n||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",f=Ct):"#"==o&&(t.fragment="",f=St)}else d+=Z(o,G);break;case wt:"?"==o?(t.query="",f=Ct):"#"==o?(t.fragment="",f=St):o!=n&&(t.path[0]+=Z(o,H));break;case Ct:r||"#"!=o?o!=n&&("'"==o&&$(t)?t.query+="%27":t.query+="#"==o?"%23":Z(o,H)):(t.fragment="",f=St);break;case St:o!=n&&(t.fragment+=Z(o,q))}h++}},At=function(t){var e,r,n=f(this,At,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(t),s=C(n,{type:"URL"});if(void 0!==i)if(i instanceof At)e=S(i);else if(r=_t(e={},String(i)))throw TypeError(r);if(r=_t(s,o,null,e))throw TypeError(r);var u=s.searchParams=new E,c=w(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},a||(n.href=It.call(n),n.origin=Bt.call(n),n.protocol=kt.call(n),n.username=xt.call(n),n.password=Rt.call(n),n.host=Nt.call(n),n.hostname=Pt.call(n),n.port=Ot.call(n),n.pathname=Ut.call(n),n.search=Lt.call(n),n.searchParams=Ft.call(n),n.hash=Dt.call(n))},Tt=At.prototype,It=function(){var t=S(this),e=t.scheme,r=t.username,n=t.password,i=t.host,a=t.port,o=t.path,s=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",Y(t)&&(c+=r+(n?":"+n:"")+"@"),c+=z(i),null!==a&&(c+=":"+a)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Bt=function(){var t=S(this),e=t.scheme,r=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&$(t)?e+"://"+z(t.host)+(null!==r?":"+r:""):"null"},kt=function(){return S(this).scheme+":"},xt=function(){return S(this).username},Rt=function(){return S(this).password},Nt=function(){var t=S(this),e=t.host,r=t.port;return null===e?"":null===r?z(e):z(e)+":"+r},Pt=function(){var t=S(this).host;return null===t?"":z(t)},Ot=function(){var t=S(this).port;return null===t?"":String(t)},Ut=function(){var t=S(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Lt=function(){var t=S(this).query;return t?"?"+t:""},Ft=function(){return S(this).searchParams},Dt=function(){var t=S(this).fragment;return t?"#"+t:""},jt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(a&&u(Tt,{href:jt(It,(function(t){var e=S(this),r=String(t),n=_t(e,r);if(n)throw TypeError(n);w(e.searchParams).updateSearchParams(e.query)})),origin:jt(Bt),protocol:jt(kt,(function(t){var e=S(this);_t(e,String(t)+":",nt)})),username:jt(xt,(function(t){var e=S(this),r=p(String(t));if(!X(e)){e.username="";for(var n=0;n<r.length;n++)e.username+=Z(r[n],W)}})),password:jt(Rt,(function(t){var e=S(this),r=p(String(t));if(!X(e)){e.password="";for(var n=0;n<r.length;n++)e.password+=Z(r[n],W)}})),host:jt(Nt,(function(t){var e=S(this);e.cannotBeABaseURL||_t(e,String(t),pt)})),hostname:jt(Pt,(function(t){var e=S(this);e.cannotBeABaseURL||_t(e,String(t),dt)})),port:jt(Ot,(function(t){var e=S(this);X(e)||(""==(t=String(t))?e.port=null:_t(e,t,yt))})),pathname:jt(Ut,(function(t){var e=S(this);e.cannotBeABaseURL||(e.path=[],_t(e,t+"",bt))})),search:jt(Lt,(function(t){var e=S(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",_t(e,t,Ct)),w(e.searchParams).updateSearchParams(e.query)})),searchParams:jt(Ft),hash:jt(Dt,(function(t){var e=S(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",_t(e,t,St)):e.fragment=null}))}),c(Tt,"toJSON",(function(){return It.call(this)}),{enumerable:!0}),c(Tt,"toString",(function(){return It.call(this)}),{enumerable:!0}),b){var Kt=b.createObjectURL,Vt=b.revokeObjectURL;Kt&&c(At,"createObjectURL",(function(t){return Kt.apply(b,arguments)})),Vt&&c(At,"revokeObjectURL",(function(t){return Vt.apply(b,arguments)}))}g(At,"URL"),i({global:!0,forced:!o,sham:!a},{URL:At})},4098:function(t,e){var r="undefined"!=typeof self?self:this,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in t,o="ArrayBuffer"in t;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function f(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function y(t){var e=new FileReader,r=d(e);return e.readAsArrayBuffer(t),r}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var t,e,r,n=p(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,r=d(e=new FileReader),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=c(t),e=f(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},h.prototype.delete=function(t){delete this.map[c(t)]},h.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},h.prototype.set=function(t,e){this.map[c(t)]=f(e)},h.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),l(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),l(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),l(t)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){var r,n,i=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(n=(r=e.method||this.method||"GET").toUpperCase(),m.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function E(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function w(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:0,statusText:""});return t.type="error",t};var C=[301,302,303,307,308];w.redirect=function(t,e){if(-1===C.indexOf(e))throw new RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,r){return new Promise((function(n,a){var o=new b(t,r);if(o.signal&&o.signal.aborted)return a(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t,e,r={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new w(i,r))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new e.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",u)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=h,t.Request=b,t.Response=w),e.Headers=h,e.Request=b,e.Response=w,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},2702:function(t,e,r){var n=r(4155);t.exports=function(){"use strict";function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,a=void 0,o=void 0,s=function(t,e){d[i]=t,d[i+1]=e,2===(i+=2)&&(o?o(y):E())};var u="undefined"!=typeof window?window:void 0,c=u||{},f=c.MutationObserver||c.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(y,1)}}var d=new Array(1e3);function y(){for(var t=0;t<i;t+=2)(0,d[t])(d[t+1]),d[t]=void 0,d[t+1]=void 0;i=0}var g,v,m,b,E=void 0;function w(t,e){var r=this,n=new this.constructor(_);void 0===n[S]&&U(n);var i=r._state;if(i){var a=arguments[i-1];s((function(){return P(i,n,a,r._result)}))}else R(r,n,t,e);return n}function C(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(_);return I(e,t),e}E=l?function(){return n.nextTick(y)}:f?(v=0,m=new f(y),b=document.createTextNode(""),m.observe(b,{characterData:!0}),function(){b.data=v=++v%2}):h?((g=new MessageChannel).port1.onmessage=y,function(){return g.port2.postMessage(0)}):void 0===u?function(){try{var t=Function("return this")().require("vertx");return void 0!==(a=t.runOnLoop||t.runOnContext)?function(){a(y)}:p()}catch(t){return p()}}():p();var S=Math.random().toString(36).substring(2);function _(){}var A=void 0;function T(e,r,n){r.constructor===e.constructor&&n===w&&r.constructor.resolve===C?function(t,e){1===e._state?k(t,e._result):2===e._state?x(t,e._result):R(e,void 0,(function(e){return I(t,e)}),(function(e){return x(t,e)}))}(e,r):void 0===n?k(e,r):t(n)?function(t,e,r){s((function(t){var n=!1,i=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,(function(r){n||(n=!0,e!==r?I(t,r):k(t,r))}),(function(e){n||(n=!0,x(t,e))}),t._label);!n&&i&&(n=!0,x(t,i))}),t)}(e,r,n):k(e,r)}function I(t,e){if(t===e)x(t,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(n=e),null===n||"object"!==i&&"function"!==i)k(t,e);else{var r=void 0;try{r=e.then}catch(e){return void x(t,e)}T(t,e,r)}var n,i}function B(t){t._onerror&&t._onerror(t._result),N(t)}function k(t,e){t._state===A&&(t._result=e,t._state=1,0!==t._subscribers.length&&s(N,t))}function x(t,e){t._state===A&&(t._state=2,t._result=e,s(B,t))}function R(t,e,r,n){var i=t._subscribers,a=i.length;t._onerror=null,i[a]=e,i[a+1]=r,i[a+2]=n,0===a&&t._state&&s(N,t)}function N(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,i=void 0,a=t._result,o=0;o<e.length;o+=3)n=e[o],i=e[o+r],n?P(r,n,i,a):i(a);t._subscribers.length=0}}function P(e,r,n,i){var a=t(n),o=void 0,s=void 0,u=!0;if(a){try{o=n(i)}catch(t){u=!1,s=t}if(r===o)return void x(r,new TypeError("A promises callback cannot return that same promise."))}else o=i;r._state!==A||(a&&u?I(r,o):!1===u?x(r,s):1===e?k(r,o):2===e&&x(r,o))}var O=0;function U(t){t[S]=O++,t._state=void 0,t._result=void 0,t._subscribers=[]}var L=function(){function t(t,r){this._instanceConstructor=t,this.promise=new t(_),this.promise[S]||U(this.promise),e(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),0===this._remaining&&k(this.promise,this._result))):x(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===A&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===C){var i=void 0,a=void 0,o=!1;try{i=t.then}catch(t){o=!0,a=t}if(i===w&&t._state!==A)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===F){var s=new r(_);o?x(s,a):T(s,t,i),this._willSettleAt(s,e)}else this._willSettleAt(new r((function(e){return e(t)})),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===A&&(this._remaining--,2===t?x(n,r):this._result[e]=r),0===this._remaining&&k(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;R(t,void 0,(function(t){return r._settledAt(1,e,t)}),(function(t){return r._settledAt(2,e,t)}))},t}();var F=function(){function e(t){this[S]=O++,this._result=this._state=void 0,this._subscribers=[],_!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){I(t,e)}),(function(e){x(t,e)}))}catch(e){x(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var r=this,n=r.constructor;return t(e)?r.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):r.then(e,e)},e}();return F.prototype.then=w,F.all=function(t){return new L(this,t).promise},F.race=function(t){var r=this;return e(t)?new r((function(e,n){for(var i=t.length,a=0;a<i;a++)r.resolve(t[a]).then(e,n)})):new r((function(t,e){return e(new TypeError("You must pass an array to race."))}))},F.resolve=C,F.reject=function(t){var e=new this(_);return x(e,t),e},F._setScheduler=function(t){o=t},F._setAsap=function(t){s=t},F._asap=s,F.polyfill=function(){var t=void 0;if(void 0!==r.g)t=r.g;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=F},F.Promise=F,F}()},645:function(t,e){e.read=function(t,e,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,p=t[e+l];for(l+=h,a=p&(1<<-f)-1,p>>=-f,f+=s;f>0;a=256*a+t[e+l],l+=h,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=n;f>0;o=256*o+t[e+l],l+=h,f-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=c}return(p?-1:1)*o*Math.pow(2,a-n)},e.write=function(t,e,r,n,i,a){var o,s,u,c=8*a-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(o++,u/=2),o+l>=f?(s=0,o=f):o+l>=1?(s=(e*u-1)*Math.pow(2,i),o+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;t[r+p]=255&s,p+=d,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;t[r+p]=255&o,p+=d,o/=256,c-=8);t[r+p-d]|=128*y}},8552:function(t,e,r){var n=r(852)(r(5639),"DataView");t.exports=n},1989:function(t,e,r){var n=r(1789),i=r(401),a=r(7667),o=r(1327),s=r(1866);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,t.exports=u},6425:function(t,e,r){var n=r(3118),i=r(9435);function a(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}a.prototype=n(i.prototype),a.prototype.constructor=a,t.exports=a},8407:function(t,e,r){var n=r(7040),i=r(4125),a=r(2117),o=r(7518),s=r(3399);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,t.exports=u},7548:function(t,e,r){var n=r(3118),i=r(9435);function a(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}a.prototype=n(i.prototype),a.prototype.constructor=a,t.exports=a},7071:function(t,e,r){var n=r(852)(r(5639),"Map");t.exports=n},3369:function(t,e,r){var n=r(4785),i=r(6415),a=r(6e3),o=r(9916),s=r(5265);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,t.exports=u},3818:function(t,e,r){var n=r(852)(r(5639),"Promise");t.exports=n},8525:function(t,e,r){var n=r(852)(r(5639),"Set");t.exports=n},8668:function(t,e,r){var n=r(3369),i=r(619),a=r(2385);function o(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,t.exports=o},6384:function(t,e,r){var n=r(8407),i=r(7465),a=r(3779),o=r(7599),s=r(4758),u=r(4309);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,t.exports=c},2705:function(t,e,r){var n=r(5639).Symbol;t.exports=n},1149:function(t,e,r){var n=r(5639).Uint8Array;t.exports=n},577:function(t,e,r){var n=r(852)(r(5639),"WeakMap");t.exports=n},6874:function(t){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},7412:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},4963:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}},7443:function(t,e,r){var n=r(2118);t.exports=function(t,e){return!(null==t||!t.length)&&n(t,e,0)>-1}},1196:function(t){t.exports=function(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}},4636:function(t,e,r){var n=r(2545),i=r(5694),a=r(1469),o=r(4144),s=r(5776),u=r(6719),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=a(t),f=!r&&i(t),l=!r&&!f&&o(t),h=!r&&!f&&!l&&u(t),p=r||f||l||h,d=p?n(t.length,String):[],y=d.length;for(var g in t)!e&&!c.call(t,g)||p&&("length"==g||l&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,y))||d.push(g);return d}},9932:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},2488:function(t){t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},6556:function(t,e,r){var n=r(9465),i=r(7813);t.exports=function(t,e,r){(void 0!==r&&!i(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},4865:function(t,e,r){var n=r(9465),i=r(7813),a=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var o=t[e];a.call(t,e)&&i(o,r)&&(void 0!==r||e in t)||n(t,e,r)}},8470:function(t,e,r){var n=r(7813);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},4037:function(t,e,r){var n=r(8363),i=r(3674);t.exports=function(t,e){return t&&n(e,i(e),t)}},3886:function(t,e,r){var n=r(8363),i=r(1704);t.exports=function(t,e){return t&&n(e,i(e),t)}},9465:function(t,e,r){var n=r(8777);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},9750:function(t){t.exports=function(t,e,r){return t==t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=t>=e?t:e)),t}},5990:function(t,e,r){var n=r(6384),i=r(7412),a=r(4865),o=r(4037),s=r(3886),u=r(4626),c=r(278),f=r(8805),l=r(1911),h=r(8234),p=r(6904),d=r(4160),y=r(3824),g=r(9148),v=r(8517),m=r(1469),b=r(4144),E=r(6688),w=r(3218),C=r(2928),S=r(3674),_=r(1704),A="[object Arguments]",T="[object Function]",I="[object Object]",B={};B[A]=B["[object Array]"]=B["[object ArrayBuffer]"]=B["[object DataView]"]=B["[object Boolean]"]=B["[object Date]"]=B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Map]"]=B["[object Number]"]=B[I]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object Symbol]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B["[object Error]"]=B[T]=B["[object WeakMap]"]=!1,t.exports=function t(e,r,k,x,R,N){var P,O=1&r,U=2&r,L=4&r;if(k&&(P=R?k(e,x,R,N):k(e)),void 0!==P)return P;if(!w(e))return e;var F=m(e);if(F){if(P=y(e),!O)return c(e,P)}else{var D=d(e),j=D==T||"[object GeneratorFunction]"==D;if(b(e))return u(e,O);if(D==I||D==A||j&&!R){if(P=U||j?{}:v(e),!O)return U?l(e,s(P,e)):f(e,o(P,e))}else{if(!B[D])return R?e:{};P=g(e,D,O)}}N||(N=new n);var K=N.get(e);if(K)return K;N.set(e,P),C(e)?e.forEach((function(n){P.add(t(n,r,k,n,e,N))})):E(e)&&e.forEach((function(n,i){P.set(i,t(n,r,k,i,e,N))}));var V=F?void 0:(L?U?p:h:U?_:S)(e);return i(V||e,(function(n,i){V&&(n=e[i=n]),a(P,i,t(n,r,k,i,e,N))})),P}},3118:function(t,e,r){var n=r(3218),i=Object.create,a=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=a},5082:function(t,e,r){var n=r(554),i=r(8958);t.exports=function(t,e,r,a){var o=t.length;for((r=n(r))<0&&(r=-r>o?0:o+r),(a=void 0===a||a>o?o:n(a))<0&&(a+=o),a=r>a?0:i(a);r<a;)t[r++]=e;return t}},1848:function(t){t.exports=function(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}},1078:function(t,e,r){var n=r(2488),i=r(7285);t.exports=function t(e,r,a,o,s){var u=-1,c=e.length;for(a||(a=i),s||(s=[]);++u<c;){var f=e[u];r>0&&a(f)?r>1?t(f,r-1,a,o,s):n(s,f):o||(s[s.length]=f)}return s}},8483:function(t,e,r){var n=r(5063)();t.exports=n},7786:function(t,e,r){var n=r(1811),i=r(327);t.exports=function(t,e){for(var r=0,a=(e=n(e,t)).length;null!=t&&r<a;)t=t[i(e[r++])];return r&&r==a?t:void 0}},8866:function(t,e,r){var n=r(2488),i=r(1469);t.exports=function(t,e,r){var a=e(t);return i(t)?a:n(a,r(t))}},4239:function(t,e,r){var n=r(2705),i=r(9607),a=r(2333),o=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?i(t):a(t)}},13:function(t){t.exports=function(t,e){return null!=t&&e in Object(t)}},2118:function(t,e,r){var n=r(1848),i=r(2722),a=r(2351);t.exports=function(t,e,r){return e==e?a(t,e,r):n(t,i,r)}},7556:function(t,e,r){var n=r(8668),i=r(7443),a=r(1196),o=r(9932),s=r(1717),u=r(4757),c=Math.min;t.exports=function(t,e,r){for(var f=r?a:i,l=t[0].length,h=t.length,p=h,d=Array(h),y=1/0,g=[];p--;){var v=t[p];p&&e&&(v=o(v,s(e))),y=c(v.length,y),d[p]=!r&&(e||l>=120&&v.length>=120)?new n(p&&v):void 0}v=t[0];var m=-1,b=d[0];t:for(;++m<l&&g.length<y;){var E=v[m],w=e?e(E):E;if(E=r||0!==E?E:0,!(b?u(b,w):f(g,w,r))){for(p=h;--p;){var C=d[p];if(!(C?u(C,w):f(t[p],w,r)))continue t}b&&b.push(w),g.push(E)}}return g}},9454:function(t,e,r){var n=r(4239),i=r(7005);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},5588:function(t,e,r){var n=r(4160),i=r(7005);t.exports=function(t){return i(t)&&"[object Map]"==n(t)}},2722:function(t){t.exports=function(t){return t!=t}},8458:function(t,e,r){var n=r(3560),i=r(5346),a=r(3218),o=r(346),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,f=u.toString,l=c.hasOwnProperty,h=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||i(t))&&(n(t)?h:s).test(o(t))}},9221:function(t,e,r){var n=r(4160),i=r(7005);t.exports=function(t){return i(t)&&"[object Set]"==n(t)}},8749:function(t,e,r){var n=r(4239),i=r(1780),a=r(7005),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&i(t.length)&&!!o[n(t)]}},280:function(t,e,r){var n=r(5726),i=r(6916),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))a.call(t,r)&&"constructor"!=r&&e.push(r);return e}},313:function(t,e,r){var n=r(3218),i=r(5726),a=r(3498),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return a(t);var e=i(t),r=[];for(var s in t)("constructor"!=s||!e&&o.call(t,s))&&r.push(s);return r}},9435:function(t){t.exports=function(){}},2980:function(t,e,r){var n=r(6384),i=r(6556),a=r(8483),o=r(9783),s=r(3218),u=r(1704),c=r(6390);t.exports=function t(e,r,f,l,h){e!==r&&a(r,(function(a,u){if(h||(h=new n),s(a))o(e,r,u,f,t,l,h);else{var p=l?l(c(e,u),a,u+"",e,r,h):void 0;void 0===p&&(p=a),i(e,u,p)}}),u)}},9783:function(t,e,r){var n=r(6556),i=r(4626),a=r(7133),o=r(278),s=r(8517),u=r(5694),c=r(1469),f=r(9246),l=r(4144),h=r(3560),p=r(3218),d=r(8630),y=r(6719),g=r(6390),v=r(9881);t.exports=function(t,e,r,m,b,E,w){var C=g(t,r),S=g(e,r),_=w.get(S);if(_)n(t,r,_);else{var A=E?E(C,S,r+"",t,e,w):void 0,T=void 0===A;if(T){var I=c(S),B=!I&&l(S),k=!I&&!B&&y(S);A=S,I||B||k?c(C)?A=C:f(C)?A=o(C):B?(T=!1,A=i(S,!0)):k?(T=!1,A=a(S,!0)):A=[]:d(S)||u(S)?(A=C,u(C)?A=v(C):p(C)&&!h(C)||(A=s(S))):T=!1}T&&(w.set(S,A),b(A,S,m,E,w),w.delete(S)),n(t,r,A)}}},5970:function(t,e,r){var n=r(3012),i=r(9095);t.exports=function(t,e){return n(t,e,(function(e,r){return i(t,r)}))}},3012:function(t,e,r){var n=r(7786),i=r(611),a=r(1811);t.exports=function(t,e,r){for(var o=-1,s=e.length,u={};++o<s;){var c=e[o],f=n(t,c);r(f,c)&&i(u,a(c,t),f)}return u}},5976:function(t,e,r){var n=r(6557),i=r(5357),a=r(61);t.exports=function(t,e){return a(i(t,e,n),t+"")}},611:function(t,e,r){var n=r(4865),i=r(1811),a=r(5776),o=r(3218),s=r(327);t.exports=function(t,e,r,u){if(!o(t))return t;for(var c=-1,f=(e=i(e,t)).length,l=f-1,h=t;null!=h&&++c<f;){var p=s(e[c]),d=r;if("__proto__"===p||"constructor"===p||"prototype"===p)return t;if(c!=l){var y=h[p];void 0===(d=u?u(y,p,h):void 0)&&(d=o(y)?y:a(e[c+1])?[]:{})}n(h,p,d),h=h[p]}return t}},8045:function(t,e,r){var n=r(6557),i=r(9250),a=i?function(t,e){return i.set(t,e),t}:n;t.exports=a},6560:function(t,e,r){var n=r(5703),i=r(8777),a=r(6557),o=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:a;t.exports=o},4259:function(t){t.exports=function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}},2545:function(t){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},531:function(t,e,r){var n=r(2705),i=r(9932),a=r(1469),o=r(3448),s=n?n.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(a(e))return i(e,t)+"";if(o(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},7561:function(t,e,r){var n=r(7990),i=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(i,""):t}},1717:function(t){t.exports=function(t){return function(e){return t(e)}}},5652:function(t,e,r){var n=r(8668),i=r(7443),a=r(1196),o=r(4757),s=r(3593),u=r(1814);t.exports=function(t,e,r){var c=-1,f=i,l=t.length,h=!0,p=[],d=p;if(r)h=!1,f=a;else if(l>=200){var y=e?null:s(t);if(y)return u(y);h=!1,f=o,d=new n}else d=e?[]:p;t:for(;++c<l;){var g=t[c],v=e?e(g):g;if(g=r||0!==g?g:0,h&&v==v){for(var m=d.length;m--;)if(d[m]===v)continue t;e&&d.push(v),p.push(g)}else f(d,v,r)||(d!==p&&d.push(v),p.push(g))}return p}},7406:function(t,e,r){var n=r(1811),i=r(928),a=r(292),o=r(327);t.exports=function(t,e){return e=n(e,t),null==(t=a(t,e))||delete t[o(i(e))]}},4757:function(t){t.exports=function(t,e){return t.has(e)}},4387:function(t,e,r){var n=r(9246);t.exports=function(t){return n(t)?t:[]}},1811:function(t,e,r){var n=r(1469),i=r(5403),a=r(5514),o=r(9833);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:a(o(t))}},4318:function(t,e,r){var n=r(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},4626:function(t,e,r){t=r.nmd(t);var n=r(5639),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,o=a&&a.exports===i?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}},7157:function(t,e,r){var n=r(4318);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},3147:function(t){var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},419:function(t,e,r){var n=r(2705),i=n?n.prototype:void 0,a=i?i.valueOf:void 0;t.exports=function(t){return a?Object(a.call(t)):{}}},7133:function(t,e,r){var n=r(4318);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},2157:function(t){var e=Math.max;t.exports=function(t,r,n,i){for(var a=-1,o=t.length,s=n.length,u=-1,c=r.length,f=e(o-s,0),l=Array(c+f),h=!i;++u<c;)l[u]=r[u];for(;++a<s;)(h||a<o)&&(l[n[a]]=t[a]);for(;f--;)l[u++]=t[a++];return l}},4054:function(t){var e=Math.max;t.exports=function(t,r,n,i){for(var a=-1,o=t.length,s=-1,u=n.length,c=-1,f=r.length,l=e(o-u,0),h=Array(l+f),p=!i;++a<l;)h[a]=t[a];for(var d=a;++c<f;)h[d+c]=r[c];for(;++s<u;)(p||a<o)&&(h[d+n[s]]=t[a++]);return h}},278:function(t){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},8363:function(t,e,r){var n=r(4865),i=r(9465);t.exports=function(t,e,r,a){var o=!r;r||(r={});for(var s=-1,u=e.length;++s<u;){var c=e[s],f=a?a(r[c],t[c],c,r,t):void 0;void 0===f&&(f=t[c]),o?i(r,c,f):n(r,c,f)}return r}},8805:function(t,e,r){var n=r(8363),i=r(9551);t.exports=function(t,e){return n(t,i(t),e)}},1911:function(t,e,r){var n=r(8363),i=r(1442);t.exports=function(t,e){return n(t,i(t),e)}},4429:function(t,e,r){var n=r(5639)["__core-js_shared__"];t.exports=n},7991:function(t){t.exports=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}},1463:function(t,e,r){var n=r(5976),i=r(6612);t.exports=function(t){return n((function(e,r){var n=-1,a=r.length,o=a>1?r[a-1]:void 0,s=a>2?r[2]:void 0;for(o=t.length>3&&"function"==typeof o?(a--,o):void 0,s&&i(r[0],r[1],s)&&(o=a<3?void 0:o,a=1),e=Object(e);++n<a;){var u=r[n];u&&t(e,u,n,o)}return e}))}},5063:function(t){t.exports=function(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var u=o[t?s:++i];if(!1===r(a[u],u,a))break}return e}}},2402:function(t,e,r){var n=r(1774),i=r(5639);t.exports=function(t,e,r){var a=1&e,o=n(t);return function e(){var n=this&&this!==i&&this instanceof e?o:t;return n.apply(a?r:this,arguments)}}},1774:function(t,e,r){var n=r(3118),i=r(3218);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=n(t.prototype),a=t.apply(r,e);return i(a)?a:r}}},6347:function(t,e,r){var n=r(6874),i=r(1774),a=r(6935),o=r(4487),s=r(893),u=r(6460),c=r(5639);t.exports=function(t,e,r){var f=i(t);return function i(){for(var l=arguments.length,h=Array(l),p=l,d=s(i);p--;)h[p]=arguments[p];var y=l<3&&h[0]!==d&&h[l-1]!==d?[]:u(h,d);if((l-=y.length)<r)return o(t,e,a,i.placeholder,void 0,h,y,void 0,void 0,r-l);var g=this&&this!==c&&this instanceof i?f:t;return n(g,this,h)}}},6935:function(t,e,r){var n=r(2157),i=r(4054),a=r(7991),o=r(1774),s=r(4487),u=r(893),c=r(451),f=r(6460),l=r(5639);t.exports=function t(e,r,h,p,d,y,g,v,m,b){var E=128&r,w=1&r,C=2&r,S=24&r,_=512&r,A=C?void 0:o(e);return function T(){for(var I=arguments.length,B=Array(I),k=I;k--;)B[k]=arguments[k];if(S)var x=u(T),R=a(B,x);if(p&&(B=n(B,p,d,S)),y&&(B=i(B,y,g,S)),I-=R,S&&I<b){var N=f(B,x);return s(e,r,t,T.placeholder,h,B,N,v,m,b-I)}var P=w?h:this,O=C?P[e]:e;return I=B.length,v?B=c(B,v):_&&I>1&&B.reverse(),E&&m<I&&(B.length=m),this&&this!==l&&this instanceof T&&(O=A||o(O)),O.apply(P,B)}}},4375:function(t,e,r){var n=r(6874),i=r(1774),a=r(5639);t.exports=function(t,e,r,o){var s=1&e,u=i(t);return function e(){for(var i=-1,c=arguments.length,f=-1,l=o.length,h=Array(l+c),p=this&&this!==a&&this instanceof e?u:t;++f<l;)h[f]=o[f];for(;c--;)h[f++]=arguments[++i];return n(p,s?r:this,h)}}},4487:function(t,e,r){var n=r(6528),i=r(258),a=r(9255);t.exports=function(t,e,r,o,s,u,c,f,l,h){var p=8&e;e|=p?32:64,4&(e&=~(p?64:32))||(e&=-4);var d=[t,e,s,p?u:void 0,p?c:void 0,p?void 0:u,p?void 0:c,f,l,h],y=r.apply(void 0,d);return n(t)&&i(y,d),y.placeholder=o,a(y,t,e)}},3593:function(t,e,r){var n=r(8525),i=r(308),a=r(1814),o=n&&1/a(new n([,-0]))[1]==1/0?function(t){return new n(t)}:i;t.exports=o},4531:function(t,e,r){var n=r(8045),i=r(2402),a=r(6347),o=r(6935),s=r(4375),u=r(7635),c=r(3833),f=r(258),l=r(9255),h=r(554),p=Math.max;t.exports=function(t,e,r,d,y,g,v,m){var b=2&e;if(!b&&"function"!=typeof t)throw new TypeError("Expected a function");var E=d?d.length:0;if(E||(e&=-97,d=y=void 0),v=void 0===v?v:p(h(v),0),m=void 0===m?m:h(m),E-=y?y.length:0,64&e){var w=d,C=y;d=y=void 0}var S=b?void 0:u(t),_=[t,e,r,d,y,w,C,g,v,m];if(S&&c(_,S),t=_[0],e=_[1],r=_[2],d=_[3],y=_[4],!(m=_[9]=void 0===_[9]?b?0:t.length:p(_[9]-E,0))&&24&e&&(e&=-25),e&&1!=e)A=8==e||16==e?a(t,e,m):32!=e&&33!=e||y.length?o.apply(void 0,_):s(t,e,r,d);else var A=i(t,e,r);return l((S?n:f)(A,_),t,e)}},696:function(t,e,r){var n=r(8630);t.exports=function(t){return n(t)?void 0:t}},8777:function(t,e,r){var n=r(852),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},9021:function(t,e,r){var n=r(5564),i=r(5357),a=r(61);t.exports=function(t){return a(i(t,void 0,n),t+"")}},1957:function(t,e,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},8234:function(t,e,r){var n=r(8866),i=r(9551),a=r(3674);t.exports=function(t){return n(t,a,i)}},6904:function(t,e,r){var n=r(8866),i=r(1442),a=r(1704);t.exports=function(t){return n(t,a,i)}},7635:function(t,e,r){var n=r(9250),i=r(308),a=n?function(t){return n.get(t)}:i;t.exports=a},7658:function(t,e,r){var n=r(2060),i=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",r=n[e],a=i.call(n,e)?r.length:0;a--;){var o=r[a],s=o.func;if(null==s||s==t)return o.name}return e}},893:function(t){t.exports=function(t){return t.placeholder}},5050:function(t,e,r){var n=r(7019);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},852:function(t,e,r){var n=r(8458),i=r(7801);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},5924:function(t,e,r){var n=r(5569)(Object.getPrototypeOf,Object);t.exports=n},9607:function(t,e,r){var n=r(2705),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=a.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var i=o.call(t);return n&&(e?t[s]=r:delete t[s]),i}},9551:function(t,e,r){var n=r(4963),i=r(479),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:(t=Object(t),n(o(t),(function(e){return a.call(t,e)})))}:i;t.exports=s},1442:function(t,e,r){var n=r(2488),i=r(5924),a=r(9551),o=r(479),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,a(t)),t=i(t);return e}:o;t.exports=s},4160:function(t,e,r){var n=r(8552),i=r(7071),a=r(3818),o=r(8525),s=r(577),u=r(4239),c=r(346),f="[object Map]",l="[object Promise]",h="[object Set]",p="[object WeakMap]",d="[object DataView]",y=c(n),g=c(i),v=c(a),m=c(o),b=c(s),E=u;(n&&E(new n(new ArrayBuffer(1)))!=d||i&&E(new i)!=f||a&&E(a.resolve())!=l||o&&E(new o)!=h||s&&E(new s)!=p)&&(E=function(t){var e=u(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case y:return d;case g:return f;case v:return l;case m:return h;case b:return p}return e}),t.exports=E},7801:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},8775:function(t){var e=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;t.exports=function(t){var n=t.match(e);return n?n[1].split(r):[]}},222:function(t,e,r){var n=r(1811),i=r(5694),a=r(1469),o=r(5776),s=r(1780),u=r(327);t.exports=function(t,e,r){for(var c=-1,f=(e=n(e,t)).length,l=!1;++c<f;){var h=u(e[c]);if(!(l=null!=t&&r(t,h)))break;t=t[h]}return l||++c!=f?l:!!(f=null==t?0:t.length)&&s(f)&&o(h,f)&&(a(t)||i(t))}},1789:function(t,e,r){var n=r(4536);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:function(t,e,r){var n=r(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},1327:function(t,e,r){var n=r(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},1866:function(t,e,r){var n=r(4536);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:function(t){var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},9148:function(t,e,r){var n=r(4318),i=r(7157),a=r(3147),o=r(419),s=r(7133);t.exports=function(t,e,r){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,r);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return a(t);case"[object Set]":return new u;case"[object Symbol]":return o(t)}}},8517:function(t,e,r){var n=r(3118),i=r(5924),a=r(5726);t.exports=function(t){return"function"!=typeof t.constructor||a(t)?{}:n(i(t))}},3112:function(t){var e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,r){var n=r.length;if(!n)return t;var i=n-1;return r[i]=(n>1?"& ":"")+r[i],r=r.join(n>2?", ":" "),t.replace(e,"{\n/* [wrapped with "+r+"] */\n")}},7285:function(t,e,r){var n=r(2705),i=r(5694),a=r(1469),o=n?n.isConcatSpreadable:void 0;t.exports=function(t){return a(t)||i(t)||!!(o&&t&&t[o])}},5776:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},6612:function(t,e,r){var n=r(7813),i=r(8612),a=r(5776),o=r(3218);t.exports=function(t,e,r){if(!o(r))return!1;var s=typeof e;return!!("number"==s?i(r)&&a(e,r.length):"string"==s&&e in r)&&n(r[e],t)}},5403:function(t,e,r){var n=r(1469),i=r(3448),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||o.test(t)||!a.test(t)||null!=e&&t in Object(e)}},7019:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},6528:function(t,e,r){var n=r(6425),i=r(7635),a=r(7658),o=r(8111);t.exports=function(t){var e=a(t),r=o[e];if("function"!=typeof r||!(e in n.prototype))return!1;if(t===r)return!0;var s=i(r);return!!s&&t===s[0]}},5346:function(t,e,r){var n,i=r(4429),a=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!a&&a in t}},5726:function(t){var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},7040:function(t){t.exports=function(){this.__data__=[],this.size=0}},4125:function(t,e,r){var n=r(8470),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():i.call(e,r,1),--this.size,0))}},2117:function(t,e,r){var n=r(8470);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},7518:function(t,e,r){var n=r(8470);t.exports=function(t){return n(this.__data__,t)>-1}},3399:function(t,e,r){var n=r(8470);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},4785:function(t,e,r){var n=r(1989),i=r(8407),a=r(7071);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},6415:function(t,e,r){var n=r(5050);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},6e3:function(t,e,r){var n=r(5050);t.exports=function(t){return n(this,t).get(t)}},9916:function(t,e,r){var n=r(5050);t.exports=function(t){return n(this,t).has(t)}},5265:function(t,e,r){var n=r(5050);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},4523:function(t,e,r){var n=r(8306);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},3833:function(t,e,r){var n=r(2157),i=r(4054),a=r(6460),o="__lodash_placeholder__",s=Math.min;t.exports=function(t,e){var r=t[1],u=e[1],c=r|u,f=c<131,l=128==u&&8==r||128==u&&256==r&&t[7].length<=e[8]||384==u&&e[7].length<=e[8]&&8==r;if(!f&&!l)return t;1&u&&(t[2]=e[2],c|=1&r?0:4);var h=e[3];if(h){var p=t[3];t[3]=p?n(p,h,e[4]):h,t[4]=p?a(t[3],o):e[4]}return(h=e[5])&&(p=t[5],t[5]=p?i(p,h,e[6]):h,t[6]=p?a(t[5],o):e[6]),(h=e[7])&&(t[7]=h),128&u&&(t[8]=null==t[8]?e[8]:s(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=c,t}},9250:function(t,e,r){var n=r(577),i=n&&new n;t.exports=i},4536:function(t,e,r){var n=r(852)(Object,"create");t.exports=n},6916:function(t,e,r){var n=r(5569)(Object.keys,Object);t.exports=n},3498:function(t){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},1167:function(t,e,r){t=r.nmd(t);var n=r(1957),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,o=a&&a.exports===i&&n.process,s=function(){try{return a&&a.require&&a.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=s},2333:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:function(t){t.exports=function(t,e){return function(r){return t(e(r))}}},5357:function(t,e,r){var n=r(6874),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var a=arguments,o=-1,s=i(a.length-e,0),u=Array(s);++o<s;)u[o]=a[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=a[o];return c[e]=r(u),n(t,this,c)}}},292:function(t,e,r){var n=r(7786),i=r(4259);t.exports=function(t,e){return e.length<2?t:n(t,i(e,0,-1))}},2060:function(t){t.exports={}},451:function(t,e,r){var n=r(278),i=r(5776),a=Math.min;t.exports=function(t,e){for(var r=t.length,o=a(e.length,r),s=n(t);o--;){var u=e[o];t[o]=i(u,r)?s[u]:void 0}return t}},6460:function(t){var e="__lodash_placeholder__";t.exports=function(t,r){for(var n=-1,i=t.length,a=0,o=[];++n<i;){var s=t[n];s!==r&&s!==e||(t[n]=e,o[a++]=n)}return o}},5639:function(t,e,r){var n=r(1957),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();t.exports=a},6390:function(t){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},619:function(t){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:function(t){t.exports=function(t){return this.__data__.has(t)}},258:function(t,e,r){var n=r(8045),i=r(1275)(n);t.exports=i},1814:function(t){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},61:function(t,e,r){var n=r(6560),i=r(1275)(n);t.exports=i},9255:function(t,e,r){var n=r(8775),i=r(3112),a=r(61),o=r(7241);t.exports=function(t,e,r){var s=e+"";return a(t,i(s,o(n(s),r)))}},1275:function(t){var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var i=e(),a=16-(i-n);if(n=i,a>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},7465:function(t,e,r){var n=r(8407);t.exports=function(){this.__data__=new n,this.size=0}},3779:function(t){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},7599:function(t){t.exports=function(t){return this.__data__.get(t)}},4758:function(t){t.exports=function(t){return this.__data__.has(t)}},4309:function(t,e,r){var n=r(8407),i=r(7071),a=r(3369);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!i||o.length<199)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(o)}return r.set(t,e),this.size=r.size,this}},2351:function(t){t.exports=function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}},5514:function(t,e,r){var n=r(4523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(a,"$1"):r||t)})),e}));t.exports=o},327:function(t,e,r){var n=r(3448);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:function(t){var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},7241:function(t,e,r){var n=r(7412),i=r(7443),a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return n(a,(function(r){var n="_."+r[0];e&r[1]&&!i(t,n)&&t.push(n)})),t.sort()}},169:function(t,e,r){var n=r(6425),i=r(7548),a=r(278);t.exports=function(t){if(t instanceof n)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=a(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},8583:function(t,e,r){var n=r(4865),i=r(8363),a=r(1463),o=r(8612),s=r(5726),u=r(3674),c=Object.prototype.hasOwnProperty,f=a((function(t,e){if(s(e)||o(e))i(e,u(e),t);else for(var r in e)c.call(e,r)&&n(t,r,e[r])}));t.exports=f},6678:function(t,e,r){var n=r(5990);t.exports=function(t){return n(t,4)}},5703:function(t){t.exports=function(t){return function(){return t}}},7813:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},9873:function(t,e,r){var n=r(5082),i=r(6612);t.exports=function(t,e,r,a){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&i(t,e,r)&&(r=0,a=o),n(t,e,r,a)):[]}},5564:function(t,e,r){var n=r(1078);t.exports=function(t){return null!=t&&t.length?n(t,1):[]}},9095:function(t,e,r){var n=r(13),i=r(222);t.exports=function(t,e){return null!=t&&i(t,e,n)}},6557:function(t){t.exports=function(t){return t}},5325:function(t,e,r){var n=r(9932),i=r(7556),a=r(5976),o=r(4387),s=a((function(t){var e=n(t,o);return e.length&&e[0]===t[0]?i(e):[]}));t.exports=s},5694:function(t,e,r){var n=r(9454),i=r(7005),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return i(t)&&o.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},1469:function(t){var e=Array.isArray;t.exports=e},8612:function(t,e,r){var n=r(3560),i=r(1780);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},9246:function(t,e,r){var n=r(8612),i=r(7005);t.exports=function(t){return i(t)&&n(t)}},4144:function(t,e,r){t=r.nmd(t);var n=r(5639),i=r(5062),a=e&&!e.nodeType&&e,o=a&&t&&!t.nodeType&&t,s=o&&o.exports===a?n.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u},3560:function(t,e,r){var n=r(4239),i=r(3218);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:function(t,e,r){var n=r(5588),i=r(1717),a=r(1167),o=a&&a.isMap,s=o?i(o):n;t.exports=s},3218:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},8630:function(t,e,r){var n=r(4239),i=r(5924),a=r(7005),o=Function.prototype,s=Object.prototype,u=o.toString,c=s.hasOwnProperty,f=u.call(Object);t.exports=function(t){if(!a(t)||"[object Object]"!=n(t))return!1;var e=i(t);if(null===e)return!0;var r=c.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==f}},2928:function(t,e,r){var n=r(9221),i=r(1717),a=r(1167),o=a&&a.isSet,s=o?i(o):n;t.exports=s},3448:function(t,e,r){var n=r(4239),i=r(7005);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},6719:function(t,e,r){var n=r(8749),i=r(1717),a=r(1167),o=a&&a.isTypedArray,s=o?i(o):n;t.exports=s},3674:function(t,e,r){var n=r(4636),i=r(280),a=r(8612);t.exports=function(t){return a(t)?n(t):i(t)}},1704:function(t,e,r){var n=r(4636),i=r(313),a=r(8612);t.exports=function(t){return a(t)?n(t,!0):i(t)}},928:function(t){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},8306:function(t,e,r){var n=r(3369);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},2492:function(t,e,r){var n=r(2980),i=r(1463)((function(t,e,r){n(t,e,r)}));t.exports=i},308:function(t){t.exports=function(){}},7557:function(t,e,r){var n=r(9932),i=r(5990),a=r(7406),o=r(1811),s=r(8363),u=r(696),c=r(9021),f=r(6904),l=c((function(t,e){var r={};if(null==t)return r;var c=!1;e=n(e,(function(e){return e=o(e,t),c||(c=e.length>1),e})),s(t,f(t),r),c&&(r=i(r,7,u));for(var l=e.length;l--;)a(r,e[l]);return r}));t.exports=l},5544:function(t,e,r){var n=r(5976),i=r(4531),a=r(893),o=r(6460),s=n((function(t,e){var r=o(e,a(s));return i(t,64,void 0,e,r)}));s.placeholder={},t.exports=s},8718:function(t,e,r){var n=r(5970),i=r(9021)((function(t,e){return null==t?{}:n(t,e)}));t.exports=i},479:function(t){t.exports=function(){return[]}},5062:function(t){t.exports=function(){return!1}},8601:function(t,e,r){var n=r(4841);t.exports=function(t){return t?Infinity===(t=n(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},554:function(t,e,r){var n=r(8601);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},8958:function(t,e,r){var n=r(9750),i=r(554);t.exports=function(t){return t?n(i(t),0,4294967295):0}},4841:function(t,e,r){var n=r(7561),i=r(3218),a=r(3448),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(a(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=s.test(t);return r||u.test(t)?c(t.slice(2),r?2:8):o.test(t)?NaN:+t}},9881:function(t,e,r){var n=r(8363),i=r(1704);t.exports=function(t){return n(t,i(t))}},9833:function(t,e,r){var n=r(531);t.exports=function(t){return null==t?"":n(t)}},4908:function(t,e,r){var n=r(5652);t.exports=function(t){return t&&t.length?n(t):[]}},8111:function(t,e,r){var n=r(6425),i=r(7548),a=r(9435),o=r(1469),s=r(7005),u=r(169),c=Object.prototype.hasOwnProperty;function f(t){if(s(t)&&!o(t)&&!(t instanceof n)){if(t instanceof i)return t;if(c.call(t,"__wrapped__"))return u(t)}return new i(t)}f.prototype=a.prototype,f.prototype.constructor=f,t.exports=f},3720:function(t){t.exports=r;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function r(t,e,r){this.low=0|t,this.high=0|e,this.unsigned=!!r}function n(t){return!0===(t&&t.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var i={},a={};function o(t,e){var r,n,o;return e?(o=0<=(t>>>=0)&&t<256)&&(n=a[t])?n:(r=u(t,(0|t)<0?-1:0,!0),o&&(a[t]=r),r):(o=-128<=(t|=0)&&t<128)&&(n=i[t])?n:(r=u(t,t<0?-1:0,!1),o&&(i[t]=r),r)}function s(t,e){if(isNaN(t))return e?v:g;if(e){if(t<0)return v;if(t>=p)return C}else{if(t<=-d)return S;if(t+1>=d)return w}return t<0?s(-t,e).neg():u(t%h|0,t/h|0,e)}function u(t,e,n){return new r(t,e,n)}r.fromInt=o,r.fromNumber=s,r.fromBits=u;var c=Math.pow;function f(t,e,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return g;if("number"==typeof e?(r=e,e=!1):e=!!e,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return f(t.substring(1),e,r).neg();for(var i=s(c(r,8)),a=g,o=0;o<t.length;o+=8){var u=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+u),r);if(u<8){var h=s(c(r,u));a=a.mul(h).add(s(l))}else a=(a=a.mul(i)).add(s(l))}return a.unsigned=e,a}function l(t,e){return"number"==typeof t?s(t,e):"string"==typeof t?f(t,e):u(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}r.fromString=f,r.fromValue=l;var h=4294967296,p=h*h,d=p/2,y=o(1<<24),g=o(0);r.ZERO=g;var v=o(0,!0);r.UZERO=v;var m=o(1);r.ONE=m;var b=o(1,!0);r.UONE=b;var E=o(-1);r.NEG_ONE=E;var w=u(-1,2147483647,!1);r.MAX_VALUE=w;var C=u(-1,-1,!0);r.MAX_UNSIGNED_VALUE=C;var S=u(0,-2147483648,!1);r.MIN_VALUE=S;var _=r.prototype;_.toInt=function(){return this.unsigned?this.low>>>0:this.low},_.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},_.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var e=s(t),r=this.div(e),n=r.mul(e).sub(this);return r.toString(t)+n.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=s(c(t,6),this.unsigned),a=this,o="";;){var u=a.div(i),f=(a.sub(u.mul(i)).toInt()>>>0).toString(t);if((a=u).isZero())return f+o;for(;f.length<6;)f="0"+f;o=""+f+o}},_.getHighBits=function(){return this.high},_.getHighBitsUnsigned=function(){return this.high>>>0},_.getLowBits=function(){return this.low},_.getLowBitsUnsigned=function(){return this.low>>>0},_.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},_.isZero=function(){return 0===this.high&&0===this.low},_.eqz=_.isZero,_.isNegative=function(){return!this.unsigned&&this.high<0},_.isPositive=function(){return this.unsigned||this.high>=0},_.isOdd=function(){return 1==(1&this.low)},_.isEven=function(){return 0==(1&this.low)},_.equals=function(t){return n(t)||(t=l(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},_.eq=_.equals,_.notEquals=function(t){return!this.eq(t)},_.neq=_.notEquals,_.ne=_.notEquals,_.lessThan=function(t){return this.comp(t)<0},_.lt=_.lessThan,_.lessThanOrEqual=function(t){return this.comp(t)<=0},_.lte=_.lessThanOrEqual,_.le=_.lessThanOrEqual,_.greaterThan=function(t){return this.comp(t)>0},_.gt=_.greaterThan,_.greaterThanOrEqual=function(t){return this.comp(t)>=0},_.gte=_.greaterThanOrEqual,_.ge=_.greaterThanOrEqual,_.compare=function(t){if(n(t)||(t=l(t)),this.eq(t))return 0;var e=this.isNegative(),r=t.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},_.comp=_.compare,_.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(m)},_.neg=_.negate,_.add=function(t){n(t)||(t=l(t));var e=this.high>>>16,r=65535&this.high,i=this.low>>>16,a=65535&this.low,o=t.high>>>16,s=65535&t.high,c=t.low>>>16,f=0,h=0,p=0,d=0;return p+=(d+=a+(65535&t.low))>>>16,h+=(p+=i+c)>>>16,f+=(h+=r+s)>>>16,f+=e+o,u((p&=65535)<<16|(d&=65535),(f&=65535)<<16|(h&=65535),this.unsigned)},_.subtract=function(t){return n(t)||(t=l(t)),this.add(t.neg())},_.sub=_.subtract,_.multiply=function(t){if(this.isZero())return g;if(n(t)||(t=l(t)),e)return u(e.mul(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned);if(t.isZero())return g;if(this.eq(S))return t.isOdd()?S:g;if(t.eq(S))return this.isOdd()?S:g;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(y)&&t.lt(y))return s(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,i=65535&this.high,a=this.low>>>16,o=65535&this.low,c=t.high>>>16,f=65535&t.high,h=t.low>>>16,p=65535&t.low,d=0,v=0,m=0,b=0;return m+=(b+=o*p)>>>16,v+=(m+=a*p)>>>16,m&=65535,v+=(m+=o*h)>>>16,d+=(v+=i*p)>>>16,v&=65535,d+=(v+=a*h)>>>16,v&=65535,d+=(v+=o*f)>>>16,d+=r*p+i*h+a*f+o*c,u((m&=65535)<<16|(b&=65535),(d&=65535)<<16|(v&=65535),this.unsigned)},_.mul=_.multiply,_.divide=function(t){if(n(t)||(t=l(t)),t.isZero())throw Error("division by zero");var r,i,a;if(e)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?u((this.unsigned?e.div_u:e.div_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:g;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return v;if(t.gt(this.shru(1)))return b;a=v}else{if(this.eq(S))return t.eq(m)||t.eq(E)?S:t.eq(S)?m:(r=this.shr(1).div(t).shl(1)).eq(g)?t.isNegative()?m:E:(i=this.sub(t.mul(r)),a=r.add(i.div(t)));if(t.eq(S))return this.unsigned?v:g;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=g}for(i=this;i.gte(t);){r=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),f=o<=48?1:c(2,o-48),h=s(r),p=h.mul(t);p.isNegative()||p.gt(i);)p=(h=s(r-=f,this.unsigned)).mul(t);h.isZero()&&(h=m),a=a.add(h),i=i.sub(p)}return a},_.div=_.divide,_.modulo=function(t){return n(t)||(t=l(t)),e?u((this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},_.mod=_.modulo,_.rem=_.modulo,_.not=function(){return u(~this.low,~this.high,this.unsigned)},_.and=function(t){return n(t)||(t=l(t)),u(this.low&t.low,this.high&t.high,this.unsigned)},_.or=function(t){return n(t)||(t=l(t)),u(this.low|t.low,this.high|t.high,this.unsigned)},_.xor=function(t){return n(t)||(t=l(t)),u(this.low^t.low,this.high^t.high,this.unsigned)},_.shiftLeft=function(t){return n(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?u(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):u(0,this.low<<t-32,this.unsigned)},_.shl=_.shiftLeft,_.shiftRight=function(t){return n(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?u(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):u(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},_.shr=_.shiftRight,_.shiftRightUnsigned=function(t){if(n(t)&&(t=t.toInt()),0==(t&=63))return this;var e=this.high;return t<32?u(this.low>>>t|e<<32-t,e>>>t,this.unsigned):u(32===t?e:e>>>t-32,0,this.unsigned)},_.shru=_.shiftRightUnsigned,_.shr_u=_.shiftRightUnsigned,_.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},_.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},_.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},_.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},_.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},r.fromBytes=function(t,e,n){return n?r.fromBytesLE(t,e):r.fromBytesBE(t,e)},r.fromBytesLE=function(t,e){return new r(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},r.fromBytesBE=function(t,e){return new r(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},8925:function(t,e,r){var n=r(3832);function i(t,e){n.cipher.registerAlgorithm(t,(function(){return new n.aes.Algorithm(t,e)}))}r(5649),r(1967),r(7116),t.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(t,e,r,n){var i=d({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i},n.aes.createEncryptionCipher=function(t,e){return d({key:t,output:null,decrypt:!1,mode:e})},n.aes.startDecrypting=function(t,e,r,n){var i=d({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i},n.aes.createDecryptionCipher=function(t,e){return d({key:t,output:null,decrypt:!0,mode:e})},n.aes.Algorithm=function(t,e){f||l();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(t,e){return p(r._w,t,e,!1)},decrypt:function(t,e){return p(r._w,t,e,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e,r=t.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){e=r,r=n.util.createBuffer();for(var i=0;i<e.length;++i)r.putByte(e[i])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){e=r,r=[];var a=e.length();if(16===a||24===a||32===a)for(a>>>=2,i=0;i<a;++i)r.push(e.getInt32())}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var o=this.mode.name,s=-1!==["CFB","OFB","CTR","GCM"].indexOf(o);this._w=h(r,t.decrypt&&!s),this._init=!0}},n.aes._expandKey=function(t,e){return f||l(),h(t,e)},n.aes._updateBlock=p,i("AES-ECB",n.cipher.modes.ecb),i("AES-CBC",n.cipher.modes.cbc),i("AES-CFB",n.cipher.modes.cfb),i("AES-OFB",n.cipher.modes.ofb),i("AES-CTR",n.cipher.modes.ctr),i("AES-GCM",n.cipher.modes.gcm);var a,o,s,u,c,f=!1;function l(){f=!0,s=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;for(a=new Array(256),o=new Array(256),u=new Array(4),c=new Array(4),e=0;e<4;++e)u[e]=new Array(256),c[e]=new Array(256);var r,n,i,l,h,p,d,y=0,g=0;for(e=0;e<256;++e){l=(l=g^g<<1^g<<2^g<<3^g<<4)>>8^255&l^99,a[y]=l,o[l]=y,p=(h=t[l])<<24^l<<16^l<<8^l^h,d=((r=t[y])^(n=t[r])^(i=t[n]))<<24^(y^i)<<16^(y^n^i)<<8^y^r^i;for(var v=0;v<4;++v)u[v][y]=p,c[v][l]=d,p=p<<24|p>>>8,d=d<<24|d>>>8;0===y?y=g=1:(y=r^t[t[t[r^i]]],g^=t[t[g]])}}function h(t,e){for(var r,n=t.slice(0),i=1,o=n.length,u=4*(o+6+1),f=o;f<u;++f)r=n[f-1],f%o==0?(r=a[r>>>16&255]<<24^a[r>>>8&255]<<16^a[255&r]<<8^a[r>>>24]^s[i]<<24,i++):o>6&&f%o==4&&(r=a[r>>>24]<<24^a[r>>>16&255]<<16^a[r>>>8&255]<<8^a[255&r]),n[f]=n[f-o]^r;if(e){for(var l,h=c[0],p=c[1],d=c[2],y=c[3],g=n.slice(0),v=(f=0,(u=n.length)-4);f<u;f+=4,v-=4)if(0===f||f===u-4)g[f]=n[v],g[f+1]=n[v+3],g[f+2]=n[v+2],g[f+3]=n[v+1];else for(var m=0;m<4;++m)l=n[v+m],g[f+(3&-m)]=h[a[l>>>24]]^p[a[l>>>16&255]]^d[a[l>>>8&255]]^y[a[255&l]];n=g}return n}function p(t,e,r,n){var i,s,f,l,h,p,d,y,g,v,m,b,E=t.length/4-1;n?(i=c[0],s=c[1],f=c[2],l=c[3],h=o):(i=u[0],s=u[1],f=u[2],l=u[3],h=a),p=e[0]^t[0],d=e[n?3:1]^t[1],y=e[2]^t[2],g=e[n?1:3]^t[3];for(var w=3,C=1;C<E;++C)v=i[p>>>24]^s[d>>>16&255]^f[y>>>8&255]^l[255&g]^t[++w],m=i[d>>>24]^s[y>>>16&255]^f[g>>>8&255]^l[255&p]^t[++w],b=i[y>>>24]^s[g>>>16&255]^f[p>>>8&255]^l[255&d]^t[++w],g=i[g>>>24]^s[p>>>16&255]^f[d>>>8&255]^l[255&y]^t[++w],p=v,d=m,y=b;r[0]=h[p>>>24]<<24^h[d>>>16&255]<<16^h[y>>>8&255]<<8^h[255&g]^t[++w],r[n?3:1]=h[d>>>24]<<24^h[y>>>16&255]<<16^h[g>>>8&255]<<8^h[255&p]^t[++w],r[2]=h[y>>>24]<<24^h[g>>>16&255]<<16^h[p>>>8&255]<<8^h[255&d]^t[++w],r[n?1:3]=h[g>>>24]<<24^h[p>>>16&255]<<16^h[d>>>8&255]<<8^h[255&y]^t[++w]}function d(t){var e,r="AES-"+((t=t||{}).mode||"CBC").toUpperCase(),i=(e=t.decrypt?n.cipher.createDecipher(r,t.key):n.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var a=null;r instanceof n.util.ByteBuffer&&(a=r,r={}),(r=r||{}).output=a,r.iv=t,i.call(e,r)},e}},3068:function(t,e,r){var n=r(3832);r(7116),r(6270);var i=t.exports=n.asn1=n.asn1||{};function a(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}function o(t,e,r,n){var s;a(t,e,2);var u=t.getByte();e--;var c=192&u,f=31&u;s=t.length();var l,h,p=function(t,e){var r=t.getByte();if(e--,128!==r){var n;if(128&r){var i=127&r;a(t,e,i),n=t.getInt(i<<3)}else n=r;if(n<0)throw new Error("Negative length: "+n);return n}}(t,e);if(e-=s-t.length(),void 0!==p&&p>e){if(n.strict){var d=new Error("Too few bytes to read ASN.1 value.");throw d.available=t.length(),d.remaining=e,d.requested=p,d}p=e}var y=32==(32&u);if(y)if(l=[],void 0===p)for(;;){if(a(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}s=t.length(),l.push(o(t,e,r+1,n)),e-=s-t.length()}else for(;p>0;)s=t.length(),l.push(o(t,p,r+1,n)),e-=s-t.length(),p-=s-t.length();if(void 0===l&&c===i.Class.UNIVERSAL&&f===i.Type.BITSTRING&&(h=t.bytes(p)),void 0===l&&n.decodeBitStrings&&c===i.Class.UNIVERSAL&&f===i.Type.BITSTRING&&p>1){var g=t.read,v=e,m=0;if(f===i.Type.BITSTRING&&(a(t,e,1),m=t.getByte(),e--),0===m)try{s=t.length();var b=o(t,e,r+1,{verbose:n.verbose,strict:!0,decodeBitStrings:!0}),E=s-t.length();e-=E,f==i.Type.BITSTRING&&E++;var w=b.tagClass;E!==p||w!==i.Class.UNIVERSAL&&w!==i.Class.CONTEXT_SPECIFIC||(l=[b])}catch(t){}void 0===l&&(t.read=g,e=v)}if(void 0===l){if(void 0===p){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");p=e}if(f===i.Type.BMPSTRING)for(l="";p>0;p-=2)a(t,e,2),l+=String.fromCharCode(t.getInt16()),e-=2;else l=t.getBytes(p)}var C=void 0===h?null:{bitStringContents:h};return i.create(c,f,y,l,C)}i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(t,e,r,a,o){if(n.util.isArray(a)){for(var s=[],u=0;u<a.length;++u)void 0!==a[u]&&s.push(a[u]);a=s}var c={tagClass:t,type:e,constructed:r,composed:r||n.util.isArray(a),value:a};return o&&"bitStringContents"in o&&(c.bitStringContents=o.bitStringContents,c.original=i.copy(c)),c},i.copy=function(t,e){var r;if(n.util.isArray(t)){r=[];for(var a=0;a<t.length;++a)r.push(i.copy(t[a],e));return r}return"string"==typeof t?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:i.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)},i.equals=function(t,e,r){if(n.util.isArray(t)){if(!n.util.isArray(e))return!1;if(t.length!==e.length)return!1;for(var a=0;a<t.length;++a)if(!i.equals(t[a],e[a]))return!1;return!0}if(typeof t!=typeof e)return!1;if("string"==typeof t)return t===e;var o=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&i.equals(t.value,e.value);return r&&r.includeBitStringContents&&(o=o&&t.bitStringContents===e.bitStringContents),o},i.getBerValueLength=function(t){var e=t.getByte();if(128!==e)return 128&e?t.getInt((127&e)<<3):e},i.fromDer=function(t,e){return void 0===e&&(e={strict:!0,decodeBitStrings:!0}),"boolean"==typeof e&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),"string"==typeof t&&(t=n.util.createBuffer(t)),o(t,t.length(),0,e)},i.toDer=function(t){var e=n.util.createBuffer(),r=t.tagClass|t.type,a=n.util.createBuffer(),o=!1;if("bitStringContents"in t&&(o=!0,t.original&&(o=i.equals(t,t.original))),o)a.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:a.putByte(0);for(var s=0;s<t.value.length;++s)void 0!==t.value[s]&&a.putBuffer(i.toDer(t.value[s]))}else if(t.type===i.Type.BMPSTRING)for(s=0;s<t.value.length;++s)a.putInt16(t.value.charCodeAt(s));else t.type===i.Type.INTEGER&&t.value.length>1&&(0===t.value.charCodeAt(0)&&0==(128&t.value.charCodeAt(1))||255===t.value.charCodeAt(0)&&128==(128&t.value.charCodeAt(1)))?a.putBytes(t.value.substr(1)):a.putBytes(t.value);if(e.putByte(r),a.length()<=127)e.putByte(127&a.length());else{var u=a.length(),c="";do{c+=String.fromCharCode(255&u),u>>>=8}while(u>0);for(e.putByte(128|c.length),s=c.length-1;s>=0;--s)e.putByte(c.charCodeAt(s))}return e.putBuffer(a),e},i.oidToDer=function(t){var e,r,i,a,o=t.split("."),s=n.util.createBuffer();s.putByte(40*parseInt(o[0],10)+parseInt(o[1],10));for(var u=2;u<o.length;++u){e=!0,r=[],i=parseInt(o[u],10);do{a=127&i,i>>>=7,e||(a|=128),r.push(a),e=!1}while(i>0);for(var c=r.length-1;c>=0;--c)s.putByte(r[c])}return s},i.derToOid=function(t){var e;"string"==typeof t&&(t=n.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var i=0;t.length()>0;)i<<=7,128&(r=t.getByte())?i+=127&r:(e+="."+(i+r),i=0);return e},i.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),a=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),s=0;if(t.length>11){var u=t.charAt(10),c=10;"+"!==u&&"-"!==u&&(s=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(a,o,s,0),c&&("+"===(u=t.charAt(c))||"-"===u)){var f=60*parseInt(t.substr(c+1,2),10)+parseInt(t.substr(c+4,2),10);f*=6e4,"+"===u?e.setTime(+e-f):e.setTime(+e+f)}return e},i.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),o=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),u=0,c=0,f=!1;"Z"===t.charAt(t.length-1)&&(f=!0);var l=t.length-5,h=t.charAt(l);return"+"!==h&&"-"!==h||(c=60*parseInt(t.substr(l+1,2),10)+parseInt(t.substr(l+4,2),10),c*=6e4,"+"===h&&(c*=-1),f=!0),"."===t.charAt(14)&&(u=1e3*parseFloat(t.substr(14),10)),f?(e.setUTCFullYear(r,n,i),e.setUTCHours(a,o,s,u),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(a,o,s,u)),e},i.dateToUtcTime=function(t){if("string"==typeof t)return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+"Z"},i.dateToGeneralizedTime=function(t){if("string"==typeof t)return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+"Z"},i.integerToDer=function(t){var e=n.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r},i.derToInteger=function(t){"string"==typeof t&&(t=n.util.createBuffer(t));var e=8*t.length();if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)},i.validate=function(t,e,r,a){var o=!1;if(t.tagClass!==e.tagClass&&void 0!==e.tagClass||t.type!==e.type&&void 0!==e.type)a&&(t.tagClass!==e.tagClass&&a.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&a.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));else if(t.constructed===e.constructed||void 0===e.constructed){if(o=!0,e.value&&n.util.isArray(e.value))for(var s=0,u=0;o&&u<e.value.length;++u)o=e.value[u].optional||!1,t.value[s]&&((o=i.validate(t.value[s],e.value[u],r,a))?++s:e.value[u].optional&&(o=!0)),!o&&a&&a.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(o&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t))if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{if(0!==t.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}else a&&a.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');return o};var s=/[^\\u0000-\\u00ff]/;i.prettyPrint=function(t,e,r){var a="";r=r||2,(e=e||0)>0&&(a+="\n");for(var o="",u=0;u<e*r;++u)o+=" ";switch(a+=o+"Tag: ",t.tagClass){case i.Class.UNIVERSAL:a+="Universal:";break;case i.Class.APPLICATION:a+="Application:";break;case i.Class.CONTEXT_SPECIFIC:a+="Context-Specific:";break;case i.Class.PRIVATE:a+="Private:"}if(t.tagClass===i.Class.UNIVERSAL)switch(a+=t.type,t.type){case i.Type.NONE:a+=" (None)";break;case i.Type.BOOLEAN:a+=" (Boolean)";break;case i.Type.INTEGER:a+=" (Integer)";break;case i.Type.BITSTRING:a+=" (Bit string)";break;case i.Type.OCTETSTRING:a+=" (Octet string)";break;case i.Type.NULL:a+=" (Null)";break;case i.Type.OID:a+=" (Object Identifier)";break;case i.Type.ODESC:a+=" (Object Descriptor)";break;case i.Type.EXTERNAL:a+=" (External or Instance of)";break;case i.Type.REAL:a+=" (Real)";break;case i.Type.ENUMERATED:a+=" (Enumerated)";break;case i.Type.EMBEDDED:a+=" (Embedded PDV)";break;case i.Type.UTF8:a+=" (UTF8)";break;case i.Type.ROID:a+=" (Relative Object Identifier)";break;case i.Type.SEQUENCE:a+=" (Sequence)";break;case i.Type.SET:a+=" (Set)";break;case i.Type.PRINTABLESTRING:a+=" (Printable String)";break;case i.Type.IA5String:a+=" (IA5String (ASCII))";break;case i.Type.UTCTIME:a+=" (UTC time)";break;case i.Type.GENERALIZEDTIME:a+=" (Generalized time)";break;case i.Type.BMPSTRING:a+=" (BMP String)"}else a+=t.type;if(a+="\n",a+=o+"Constructed: "+t.constructed+"\n",t.composed){var c=0,f="";for(u=0;u<t.value.length;++u)void 0!==t.value[u]&&(c+=1,f+=i.prettyPrint(t.value[u],e+1,r),u+1<t.value.length&&(f+=","));a+=o+"Sub values: "+c+f}else{if(a+=o+"Value: ",t.type===i.Type.OID){var l=i.derToOid(t.value);a+=l,n.pki&&n.pki.oids&&l in n.pki.oids&&(a+=" ("+n.pki.oids[l]+") ")}if(t.type===i.Type.INTEGER)try{a+=i.derToInteger(t.value)}catch(e){a+="0x"+n.util.bytesToHex(t.value)}else if(t.type===i.Type.BITSTRING){if(t.value.length>1?a+="0x"+n.util.bytesToHex(t.value.slice(1)):a+="(none)",t.value.length>0){var h=t.value.charCodeAt(0);1==h?a+=" (1 unused bit shown)":h>1&&(a+=" ("+h+" unused bits shown)")}}else t.type===i.Type.OCTETSTRING?(s.test(t.value)||(a+="("+t.value+") "),a+="0x"+n.util.bytesToHex(t.value)):t.type===i.Type.UTF8?a+=n.util.decodeUtf8(t.value):t.type===i.Type.PRINTABLESTRING||t.type===i.Type.IA5String?a+=t.value:s.test(t.value)?a+="0x"+n.util.bytesToHex(t.value):0===t.value.length?a+="[null]":a+=t.value}return a}},8807:function(t,e,r){var n=r(2678).Buffer,i={};t.exports=i;var a={};i.encode=function(t,e,r){if("string"!=typeof e)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(t instanceof Uint8Array){var i=0,a=e.length,o=e.charAt(0),s=[0];for(i=0;i<t.length;++i){for(var u=0,c=t[i];u<s.length;++u)c+=s[u]<<8,s[u]=c%a,c=c/a|0;for(;c>0;)s.push(c%a),c=c/a|0}for(i=0;0===t[i]&&i<t.length-1;++i)n+=o;for(i=s.length-1;i>=0;--i)n+=e[s[i]]}else n=function(t,e){var r=0,n=e.length,i=e.charAt(0),a=[0];for(r=0;r<t.length();++r){for(var o=0,s=t.at(r);o<a.length;++o)s+=a[o]<<8,a[o]=s%n,s=s/n|0;for(;s>0;)a.push(s%n),s=s/n|0}var u="";for(r=0;0===t.at(r)&&r<t.length()-1;++r)u+=i;for(r=a.length-1;r>=0;--r)u+=e[a[r]];return u}(t,e);if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join("\r\n")}return n},i.decode=function(t,e){if("string"!=typeof t)throw new TypeError('"input" must be a string.');if("string"!=typeof e)throw new TypeError('"alphabet" must be a string.');var r=a[e];if(!r){r=a[e]=[];for(var i=0;i<e.length;++i)r[e.charCodeAt(i)]=i}t=t.replace(/\s/g,"");var o=e.length,s=e.charAt(0),u=[0];for(i=0;i<t.length;i++){var c=r[t.charCodeAt(i)];if(void 0===c)return;for(var f=0,l=c;f<u.length;++f)l+=u[f]*o,u[f]=255&l,l>>=8;for(;l>0;)u.push(255&l),l>>=8}for(var h=0;t[h]===s&&h<t.length-1;++h)u.push(0);return void 0!==n?n.from(u.reverse()):new Uint8Array(u.reverse())}},5649:function(t,e,r){var n=r(3832);r(7116),t.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(t,e){var r=t;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})},n.cipher.createDecipher=function(t,e){var r=t;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})},n.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),n.cipher.algorithms[t]=e},n.cipher.getAlgorithm=function(t){return(t=t.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[t]:null};var i=n.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};i.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=t.output||n.util.createBuffer(),this.mode.start(e)},i.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(t){!t||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(e){return t(this.blockSize,e,!1)},this.mode.unpad=function(e){return t(this.blockSize,e,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e)||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e)))}},1967:function(t,e,r){var n=r(3832);r(7116),n.cipher=n.cipher||{};var i=t.exports=n.cipher.modes=n.cipher.modes||{};function a(t,e){if("string"==typeof t&&(t=n.util.createBuffer(t)),n.util.isArray(t)&&t.length>4){var r=t;t=n.util.createBuffer();for(var i=0;i<r.length;++i)t.putByte(r[i])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!n.util.isArray(t)){var a=[],o=e/4;for(i=0;i<o;++i)a.push(t.getInt32());t=a}return t}function o(t){t[t.length-1]=t[t.length-1]+1&4294967295}function s(t){return[t/4294967296|0,4294967295&t]}i.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(t){},i.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2||(t.truncate(n),0))},i.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(t){if(null===t.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=a(t.iv,this.blockSize),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2||(t.truncate(n),0))},i.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=a(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;for(a>0&&(a=this.blockSize-a),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;for(a>0&&(a=this.blockSize-a),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=a(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===t.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var a=(this.blockSize-n)%this.blockSize;for(a>0&&(a=this.blockSize-a),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=a(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;for(a>0&&(a=this.blockSize-a),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}o(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e,r=n.util.createBuffer(t.iv);if(this._cipherLength=0,e="additionalData"in t?n.util.createBuffer(t.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in t?t.tagLength:128,this._tag=null,t.decrypt&&(this._tag=n.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(s(8*i)))}this._inBlock=this._j0.slice(0),o(this._inBlock),this._partialBytes=0,e=n.util.createBuffer(e),this._aDataLength=s(8*e.length());var a=e.length()%this.blockSize;for(a&&e.fillWithByte(0,this.blockSize-a),this._s=[0,0,0,0];e.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()])},i.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;for(a>0&&(a=this.blockSize-a),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),o(this._inBlock)},i.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),o(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(s(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var a=[];this.cipher.encrypt(this._j0,a);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^a[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i)t[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n);return r},i.gcm.prototype.pow=function(t,e){for(var r=1&t[3],n=3;n>0;--n)e[n]=t[n]>>>1|(1&t[n-1])<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)},i.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=t[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];e[0]^=i[0],e[1]^=i[1],e[2]^=i[2],e[3]^=i[3]}return e},i.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)},i.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,a=new Array(i),o=0;o<i;++o){var s=[0,0,0,0],u=(n-1-o%n)*e;s[o/n|0]=1<<e-1<<u,a[o]=this.generateSubHashTable(this.multiply(s,t),e)}return a},i.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var o=1;o<a;++o){var s=i[a],u=i[o];i[a+o]=[s[0]^u[0],s[1]^u[1],s[2]^u[2],s[3]^u[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var c=i[a^n];i[a]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i}},3480:function(t,e,r){var n=r(3832);function i(t,e){n.cipher.registerAlgorithm(t,(function(){return new n.des.Algorithm(t,e)}))}r(5649),r(1967),r(7116),t.exports=n.des=n.des||{},n.des.startEncrypting=function(t,e,r,n){var i=d({key:t,output:r,decrypt:!1,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},n.des.createEncryptionCipher=function(t,e){return d({key:t,output:null,decrypt:!1,mode:e})},n.des.startDecrypting=function(t,e,r,n){var i=d({key:t,output:r,decrypt:!0,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},n.des.createDecryptionCipher=function(t,e){return d({key:t,output:null,decrypt:!0,mode:e})},n.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(t,e){return p(r._keys,t,e,!1)},decrypt:function(t,e){return p(r._keys,t,e,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=n.util.createBuffer(t.key);if(0===this.name.indexOf("3DES")&&24!==e.length())throw new Error("Invalid Triple-DES key size: "+8*e.length());this._keys=function(t){for(var e,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],a=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],l=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=t.length()>8?3:1,v=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,E=0;E<g;E++){var w=t.getInt32(),C=t.getInt32();w^=(e=252645135&(w>>>4^C))<<4,w^=e=65535&((C^=e)>>>-16^w),w^=(e=858993459&(w>>>2^(C^=e<<-16)))<<2,w^=e=65535&((C^=e)>>>-16^w),w^=(e=1431655765&(w>>>1^(C^=e<<-16)))<<1,w^=e=16711935&((C^=e)>>>8^w),e=(w^=(e=1431655765&(w>>>1^(C^=e<<8)))<<1)<<8|(C^=e)>>>20&240,w=C<<24|C<<8&16711680|C>>>8&65280|C>>>24&240,C=e;for(var S=0;S<m.length;++S){m[S]?(w=w<<2|w>>>26,C=C<<2|C>>>26):(w=w<<1|w>>>27,C=C<<1|C>>>27);var _=r[(w&=-15)>>>28]|n[w>>>24&15]|i[w>>>20&15]|a[w>>>16&15]|o[w>>>12&15]|s[w>>>8&15]|u[w>>>4&15],A=c[(C&=-15)>>>28]|f[C>>>24&15]|l[C>>>20&15]|h[C>>>16&15]|p[C>>>12&15]|d[C>>>8&15]|y[C>>>4&15];e=65535&(A>>>16^_),v[b++]=_^e,v[b++]=A^e<<16}}return v}(e),this._init=!0}},i("DES-ECB",n.cipher.modes.ecb),i("DES-CBC",n.cipher.modes.cbc),i("DES-CFB",n.cipher.modes.cfb),i("DES-OFB",n.cipher.modes.ofb),i("DES-CTR",n.cipher.modes.ctr),i("3DES-ECB",n.cipher.modes.ecb),i("3DES-CBC",n.cipher.modes.cbc),i("3DES-CFB",n.cipher.modes.cfb),i("3DES-OFB",n.cipher.modes.ofb),i("3DES-CTR",n.cipher.modes.ctr);var a=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],s=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],f=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],l=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],h=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function p(t,e,r,n){var i,p,d=32===t.length?3:9;i=3===d?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var y=e[0],g=e[1];y^=(p=252645135&(y>>>4^g))<<4,y^=(p=65535&(y>>>16^(g^=p)))<<16,y^=p=858993459&((g^=p)>>>2^y),y^=p=16711935&((g^=p<<2)>>>8^y),y=(y^=(p=1431655765&(y>>>1^(g^=p<<8)))<<1)<<1|y>>>31,g=(g^=p)<<1|g>>>31;for(var v=0;v<d;v+=3){for(var m=i[v+1],b=i[v+2],E=i[v];E!=m;E+=b){var w=g^t[E],C=(g>>>4|g<<28)^t[E+1];p=y,y=g,g=p^(o[w>>>24&63]|u[w>>>16&63]|f[w>>>8&63]|h[63&w]|a[C>>>24&63]|s[C>>>16&63]|c[C>>>8&63]|l[63&C])}p=y,y=g,g=p}g=g>>>1|g<<31,g^=p=1431655765&((y=y>>>1|y<<31)>>>1^g),g^=(p=16711935&(g>>>8^(y^=p<<1)))<<8,g^=(p=858993459&(g>>>2^(y^=p)))<<2,g^=p=65535&((y^=p)>>>16^g),g^=p=252645135&((y^=p<<16)>>>4^g),y^=p<<4,r[0]=y,r[1]=g}function d(t){var e,r="DES-"+((t=t||{}).mode||"CBC").toUpperCase(),i=(e=t.decrypt?n.cipher.createDecipher(r,t.key):n.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var a=null;r instanceof n.util.ByteBuffer&&(a=r,r={}),(r=r||{}).output=a,r.iv=t,i.call(e,r)},e}},3832:function(t){t.exports={options:{usePureJavaScript:!1}}},6607:function(t,e,r){var n=r(3832);r(8991),r(7116),(t.exports=n.hmac=n.hmac||{}).create=function(){var t=null,e=null,r=null,i=null,a={start:function(a,o){if(null!==a)if("string"==typeof a){if(!((a=a.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+a+'"');e=n.md.algorithms[a].create()}else e=a;if(null===o)o=t;else{if("string"==typeof o)o=n.util.createBuffer(o);else if(n.util.isArray(o)){var s=o;o=n.util.createBuffer();for(var u=0;u<s.length;++u)o.putByte(s[u])}var c=o.length();for(c>e.blockLength&&(e.start(),e.update(o.bytes()),o=e.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),c=o.length(),u=0;u<c;++u)s=o.at(u),r.putByte(54^s),i.putByte(92^s);if(c<e.blockLength)for(s=e.blockLength-c,u=0;u<s;++u)r.putByte(54),i.putByte(92);t=o,r=r.bytes(),i=i.bytes()}e.start(),e.update(r)},update:function(t){e.update(t)},getMac:function(){var t=e.digest().bytes();return e.start(),e.update(i),e.update(t),e.digest()}};return a.digest=a.getMac,a}},5764:function(t,e,r){var n,i=r(3832);function a(t,e,r){this.data=[],null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function o(){return new a(null)}function s(t,e,r,n,i,a){for(var o=16383&e,s=e>>14;--a>=0;){var u=16383&this.data[t],c=this.data[t++]>>14,f=s*u+c*o;i=((u=o*u+((16383&f)<<14)+r.data[n]+i)>>28)+(f>>14)+s*c,r.data[n++]=268435455&u}return i}t.exports=i.jsbn=i.jsbn||{},i.jsbn.BigInteger=a,"undefined"==typeof navigator?(a.prototype.am=s,n=28):"Microsoft Internet Explorer"==navigator.appName?(a.prototype.am=function(t,e,r,n,i,a){for(var o=32767&e,s=e>>15;--a>=0;){var u=32767&this.data[t],c=this.data[t++]>>15,f=s*u+c*o;i=((u=o*u+((32767&f)<<15)+r.data[n]+(1073741823&i))>>>30)+(f>>>15)+s*c+(i>>>30),r.data[n++]=1073741823&u}return i},n=30):"Netscape"!=navigator.appName?(a.prototype.am=function(t,e,r,n,i,a){for(;--a>=0;){var o=e*this.data[t++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=67108863&o}return i},n=26):(a.prototype.am=s,n=28),a.prototype.DB=n,a.prototype.DM=(1<<n)-1,a.prototype.DV=1<<n,a.prototype.FV=Math.pow(2,52),a.prototype.F1=52-n,a.prototype.F2=2*n-52;var u,c,f=new Array;for(u="0".charCodeAt(0),c=0;c<=9;++c)f[u++]=c;for(u="a".charCodeAt(0),c=10;c<36;++c)f[u++]=c;for(u="A".charCodeAt(0),c=10;c<36;++c)f[u++]=c;function l(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function h(t,e){var r=f[t.charCodeAt(e)];return null==r?-1:r}function p(t){var e=o();return e.fromInt(t),e}function d(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function y(t){this.m=t}function g(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function v(t,e){return t&e}function m(t,e){return t|e}function b(t,e){return t^e}function E(t,e){return t&~e}function w(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function C(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function S(){}function _(t){return t}function A(t){this.r2=o(),this.q3=o(),a.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}y.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},y.prototype.revert=function(t){return t},y.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},y.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},y.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},g.prototype.convert=function(t){var e=o();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(a.ZERO)>0&&this.m.subTo(e,e),e},g.prototype.revert=function(t){var e=o();return t.copyTo(e),this.reduce(e),e},g.prototype.reduce=function(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t.data[e],n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},g.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},g.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},a.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s},a.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0},a.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var s=8==r?255&t[n]:h(t,n);s<0?"-"==t.charAt(n)&&(i=!0):(i=!1,0==o?this.data[this.t++]=s:o+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this.data[this.t++]=s>>this.DB-o):this.data[this.t-1]|=s<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&a.ZERO.subTo(this,this)},a.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t},a.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s},a.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s},a.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,a=(1<<i)-1,o=Math.floor(t/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e.data[r+o+1]=this.data[r]>>i|s,s=(this.data[r]&a)<<n;for(r=o-1;r>=0;--r)e.data[r]=0;e.data[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()},a.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,a=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)e.data[o-r-1]|=(this.data[o]&a)<<i,e.data[o-r]=this.data[o]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&a)<<i),e.t=this.t-r,e.clamp()}},a.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()},a.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&a.ZERO.subTo(e,e)},a.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()},a.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=o());var s=o(),u=this.s,c=t.s,f=this.DB-d(n.data[n.t-1]);f>0?(n.lShiftTo(f,s),i.lShiftTo(f,r)):(n.copyTo(s),i.copyTo(r));var l=s.t,h=s.data[l-1];if(0!=h){var p=h*(1<<this.F1)+(l>1?s.data[l-2]>>this.F2:0),y=this.FV/p,g=(1<<this.F1)/p,v=1<<this.F2,m=r.t,b=m-l,E=null==e?o():e;for(s.dlShiftTo(b,E),r.compareTo(E)>=0&&(r.data[r.t++]=1,r.subTo(E,r)),a.ONE.dlShiftTo(l,E),E.subTo(s,s);s.t<l;)s.data[s.t++]=0;for(;--b>=0;){var w=r.data[--m]==h?this.DM:Math.floor(r.data[m]*y+(r.data[m-1]+v)*g);if((r.data[m]+=s.am(0,w,r,b,0,l))<w)for(s.dlShiftTo(b,E),r.subTo(E,r);r.data[m]<--w;)r.subTo(E,r)}null!=e&&(r.drShiftTo(l,e),u!=c&&a.ZERO.subTo(e,e)),r.t=l,r.clamp(),f>0&&r.rShiftTo(f,r),u<0&&a.ZERO.subTo(r,r)}}},a.prototype.invDigit=function(){if(this.t<1)return 0;var t=this.data[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},a.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},a.prototype.exp=function(t,e){if(t>4294967295||t<1)return a.ONE;var r=o(),n=o(),i=e.convert(this),s=d(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var u=r;r=n,n=u}return e.revert(r)},a.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,a="",o=this.t,s=this.DB-o*this.DB%e;if(o-- >0)for(s<this.DB&&(r=this.data[o]>>s)>0&&(i=!0,a=l(r));o>=0;)s<e?(r=(this.data[o]&(1<<s)-1)<<e-s,r|=this.data[--o]>>(s+=this.DB-e)):(r=this.data[o]>>(s-=e)&n,s<=0&&(s+=this.DB,--o)),r>0&&(i=!0),i&&(a+=l(r));return i?a:"0"},a.prototype.negate=function(){var t=o();return a.ZERO.subTo(this,t),t},a.prototype.abs=function(){return this.s<0?this.negate():this},a.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this.data[r]-t.data[r]))return e;return 0},a.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+d(this.data[this.t-1]^this.s&this.DM)},a.prototype.mod=function(t){var e=o();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(a.ZERO)>0&&t.subTo(e,e),e},a.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new y(e):new g(e),this.exp(t,r)},a.ZERO=p(0),a.ONE=p(1),S.prototype.convert=_,S.prototype.revert=_,S.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},S.prototype.sqrTo=function(t,e){t.squareTo(e)},A.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=o();return t.copyTo(e),this.reduce(e),e},A.prototype.revert=function(t){return t},A.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},A.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},A.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var T=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],I=(1<<26)/T[T.length-1];a.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},a.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=p(r),i=o(),a=o(),s="";for(this.divRemTo(n,i,a);i.signum()>0;)s=(r+a.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,a);return a.intValue().toString(t)+s},a.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,s=0,u=0;u<t.length;++u){var c=h(t,u);c<0?"-"==t.charAt(u)&&0==this.signum()&&(i=!0):(s=e*s+c,++o>=r&&(this.dMultiply(n),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(s,0)),i&&a.ZERO.subTo(this,this)},a.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(a.ONE.shiftLeft(t-1),m,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(a.ONE.shiftLeft(t-1),this);else{var n=new Array,i=7&t;n.length=1+(t>>3),e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},a.prototype.bitwiseTo=function(t,e,r){var n,i,a=Math.min(t.t,this.t);for(n=0;n<a;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=a;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},a.prototype.changeBit=function(t,e){var r=a.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},a.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()},a.prototype.dMultiply=function(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},a.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}},a.prototype.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,t.data[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t.data[i],r,i,0,e-i);r.clamp()},a.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},a.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r},a.prototype.millerRabin=function(t){var e=this.subtract(a.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n,i=e.shiftRight(r),o={nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(256*Math.random())}},s=0;s<t;++s){do{n=new a(this.bitLength(),o)}while(n.compareTo(a.ONE)<=0||n.compareTo(e)>=0);var u=n.modPow(i,this);if(0!=u.compareTo(a.ONE)&&0!=u.compareTo(e)){for(var c=1;c++<r&&0!=u.compareTo(e);)if(0==(u=u.modPowInt(2,this)).compareTo(a.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0},a.prototype.clone=function(){var t=o();return this.copyTo(t),t},a.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},a.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},a.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},a.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},a.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this.data[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this.data[t]&(1<<n)-1)<<8-n,r|=this.data[--t]>>(n+=this.DB-8)):(r=this.data[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},a.prototype.equals=function(t){return 0==this.compareTo(t)},a.prototype.min=function(t){return this.compareTo(t)<0?this:t},a.prototype.max=function(t){return this.compareTo(t)>0?this:t},a.prototype.and=function(t){var e=o();return this.bitwiseTo(t,v,e),e},a.prototype.or=function(t){var e=o();return this.bitwiseTo(t,m,e),e},a.prototype.xor=function(t){var e=o();return this.bitwiseTo(t,b,e),e},a.prototype.andNot=function(t){var e=o();return this.bitwiseTo(t,E,e),e},a.prototype.not=function(){for(var t=o(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t},a.prototype.shiftLeft=function(t){var e=o();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},a.prototype.shiftRight=function(t){var e=o();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},a.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this.data[t])return t*this.DB+w(this.data[t]);return this.s<0?this.t*this.DB:-1},a.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=C(this.data[r]^e);return t},a.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this.data[e]&1<<t%this.DB)},a.prototype.setBit=function(t){return this.changeBit(t,m)},a.prototype.clearBit=function(t){return this.changeBit(t,E)},a.prototype.flipBit=function(t){return this.changeBit(t,b)},a.prototype.add=function(t){var e=o();return this.addTo(t,e),e},a.prototype.subtract=function(t){var e=o();return this.subTo(t,e),e},a.prototype.multiply=function(t){var e=o();return this.multiplyTo(t,e),e},a.prototype.divide=function(t){var e=o();return this.divRemTo(t,e,null),e},a.prototype.remainder=function(t){var e=o();return this.divRemTo(t,null,e),e},a.prototype.divideAndRemainder=function(t){var e=o(),r=o();return this.divRemTo(t,e,r),new Array(e,r)},a.prototype.modPow=function(t,e){var r,n,i=t.bitLength(),a=p(1);if(i<=0)return a;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new y(e):e.isEven()?new A(e):new g(e);var s=new Array,u=3,c=r-1,f=(1<<r)-1;if(s[1]=n.convert(this),r>1){var l=o();for(n.sqrTo(s[1],l);u<=f;)s[u]=o(),n.mulTo(l,s[u-2],s[u]),u+=2}var h,v,m=t.t-1,b=!0,E=o();for(i=d(t.data[m])-1;m>=0;){for(i>=c?h=t.data[m]>>i-c&f:(h=(t.data[m]&(1<<i+1)-1)<<c-i,m>0&&(h|=t.data[m-1]>>this.DB+i-c)),u=r;0==(1&h);)h>>=1,--u;if((i-=u)<0&&(i+=this.DB,--m),b)s[h].copyTo(a),b=!1;else{for(;u>1;)n.sqrTo(a,E),n.sqrTo(E,a),u-=2;u>0?n.sqrTo(a,E):(v=a,a=E,E=v),n.mulTo(E,s[h],a)}for(;m>=0&&0==(t.data[m]&1<<i);)n.sqrTo(a,E),v=a,a=E,E=v,--i<0&&(i=this.DB-1,--m)}return n.revert(a)},a.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return a.ZERO;for(var r=t.clone(),n=this.clone(),i=p(1),o=p(0),s=p(0),u=p(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(t,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(s,i),o.subTo(u,o)):(n.subTo(r,n),e&&s.subTo(i,s),u.subTo(o,u))}return 0!=n.compareTo(a.ONE)?a.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u},a.prototype.pow=function(t){return this.exp(t,new S)},a.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return e;for(i<a&&(a=i),a>0&&(e.rShiftTo(a,e),r.rShiftTo(a,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r},a.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r.data[0]<=T[T.length-1]){for(e=0;e<T.length;++e)if(r.data[0]==T[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<T.length;){for(var n=T[e],i=e+1;i<T.length&&n<I;)n*=T[i++];for(n=r.modInt(n);e<i;)if(n%T[e++]==0)return!1}return r.millerRabin(t)}},8991:function(t,e,r){var n=r(3832);t.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},6971:function(t,e,r){var n=r(3832);r(3453),t.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},3453:function(t,e,r){var n=r(3832);r(7116),n.mgf=n.mgf||{},(t.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(t){return{generate:function(e,r){for(var i=new n.util.ByteBuffer,a=Math.ceil(r/t.digestLength),o=0;o<a;o++){var s=new n.util.ByteBuffer;s.putInt32(o),t.start(),t.update(e+s.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-r),i.getBytes()}}}},6270:function(t,e,r){var n=r(3832);n.pki=n.pki||{};var i=t.exports=n.pki.oids=n.oids=n.oids||{};function a(t,e){i[t]=e,i[e]=t}function o(t,e){i[t]=e}a("1.2.840.113549.1.1.1","rsaEncryption"),a("1.2.840.113549.1.1.4","md5WithRSAEncryption"),a("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),a("1.2.840.113549.1.1.7","RSAES-OAEP"),a("1.2.840.113549.1.1.8","mgf1"),a("1.2.840.113549.1.1.9","pSpecified"),a("1.2.840.113549.1.1.10","RSASSA-PSS"),a("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),a("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),a("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),a("1.3.101.112","EdDSA25519"),a("1.2.840.10040.4.3","dsa-with-sha1"),a("1.3.14.3.2.7","desCBC"),a("1.3.14.3.2.26","sha1"),a("2.16.840.1.101.3.4.2.1","sha256"),a("2.16.840.1.101.3.4.2.2","sha384"),a("2.16.840.1.101.3.4.2.3","sha512"),a("1.2.840.113549.2.5","md5"),a("1.2.840.113549.1.7.1","data"),a("1.2.840.113549.1.7.2","signedData"),a("1.2.840.113549.1.7.3","envelopedData"),a("1.2.840.113549.1.7.4","signedAndEnvelopedData"),a("1.2.840.113549.1.7.5","digestedData"),a("1.2.840.113549.1.7.6","encryptedData"),a("1.2.840.113549.1.9.1","emailAddress"),a("1.2.840.113549.1.9.2","unstructuredName"),a("1.2.840.113549.1.9.3","contentType"),a("1.2.840.113549.1.9.4","messageDigest"),a("1.2.840.113549.1.9.5","signingTime"),a("1.2.840.113549.1.9.6","counterSignature"),a("1.2.840.113549.1.9.7","challengePassword"),a("1.2.840.113549.1.9.8","unstructuredAddress"),a("1.2.840.113549.1.9.14","extensionRequest"),a("1.2.840.113549.1.9.20","friendlyName"),a("1.2.840.113549.1.9.21","localKeyId"),a("1.2.840.113549.1.9.22.1","x509Certificate"),a("1.2.840.113549.1.12.10.1.1","keyBag"),a("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),a("1.2.840.113549.1.12.10.1.3","certBag"),a("1.2.840.113549.1.12.10.1.4","crlBag"),a("1.2.840.113549.1.12.10.1.5","secretBag"),a("1.2.840.113549.1.12.10.1.6","safeContentsBag"),a("1.2.840.113549.1.5.13","pkcs5PBES2"),a("1.2.840.113549.1.5.12","pkcs5PBKDF2"),a("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),a("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),a("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),a("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),a("1.2.840.113549.2.7","hmacWithSHA1"),a("1.2.840.113549.2.8","hmacWithSHA224"),a("1.2.840.113549.2.9","hmacWithSHA256"),a("1.2.840.113549.2.10","hmacWithSHA384"),a("1.2.840.113549.2.11","hmacWithSHA512"),a("1.2.840.113549.3.7","des-EDE3-CBC"),a("2.16.840.1.101.3.4.1.2","aes128-CBC"),a("2.16.840.1.101.3.4.1.22","aes192-CBC"),a("2.16.840.1.101.3.4.1.42","aes256-CBC"),a("2.5.4.3","commonName"),a("2.5.4.5","serialName"),a("2.5.4.6","countryName"),a("2.5.4.7","localityName"),a("2.5.4.8","stateOrProvinceName"),a("2.5.4.9","streetAddress"),a("2.5.4.10","organizationName"),a("2.5.4.11","organizationalUnitName"),a("2.5.4.13","description"),a("2.5.4.15","businessCategory"),a("2.5.4.17","postalCode"),a("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),a("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),a("2.16.840.1.113730.1.1","nsCertType"),a("2.16.840.1.113730.1.13","nsComment"),o("2.5.29.1","authorityKeyIdentifier"),o("2.5.29.2","keyAttributes"),o("2.5.29.3","certificatePolicies"),o("2.5.29.4","keyUsageRestriction"),o("2.5.29.5","policyMapping"),o("2.5.29.6","subtreesConstraint"),o("2.5.29.7","subjectAltName"),o("2.5.29.8","issuerAltName"),o("2.5.29.9","subjectDirectoryAttributes"),o("2.5.29.10","basicConstraints"),o("2.5.29.11","nameConstraints"),o("2.5.29.12","policyConstraints"),o("2.5.29.13","basicConstraints"),a("2.5.29.14","subjectKeyIdentifier"),a("2.5.29.15","keyUsage"),o("2.5.29.16","privateKeyUsagePeriod"),a("2.5.29.17","subjectAltName"),a("2.5.29.18","issuerAltName"),a("2.5.29.19","basicConstraints"),o("2.5.29.20","cRLNumber"),o("2.5.29.21","cRLReason"),o("2.5.29.22","expirationDate"),o("2.5.29.23","instructionCode"),o("2.5.29.24","invalidityDate"),o("2.5.29.25","cRLDistributionPoints"),o("2.5.29.26","issuingDistributionPoint"),o("2.5.29.27","deltaCRLIndicator"),o("2.5.29.28","issuingDistributionPoint"),o("2.5.29.29","certificateIssuer"),o("2.5.29.30","nameConstraints"),a("2.5.29.31","cRLDistributionPoints"),a("2.5.29.32","certificatePolicies"),o("2.5.29.33","policyMappings"),o("2.5.29.34","policyConstraints"),a("2.5.29.35","authorityKeyIdentifier"),o("2.5.29.36","policyConstraints"),a("2.5.29.37","extKeyUsage"),o("2.5.29.46","freshestCRL"),o("2.5.29.54","inhibitAnyPolicy"),a("1.3.6.1.4.1.11129.2.4.2","timestampList"),a("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),a("1.3.6.1.5.5.7.3.1","serverAuth"),a("1.3.6.1.5.5.7.3.2","clientAuth"),a("1.3.6.1.5.5.7.3.3","codeSigning"),a("1.3.6.1.5.5.7.3.4","emailProtection"),a("1.3.6.1.5.5.7.3.8","timeStamping")},7450:function(t,e,r){var n=r(3832);if(r(8925),r(3068),r(3480),r(8991),r(6270),r(8960),r(6953),r(9563),r(9372),r(8095),r(7116),void 0===i)var i=n.jsbn.BigInteger;var a=n.asn1,o=n.pki=n.pki||{};t.exports=o.pbe=n.pbe=n.pbe||{};var s=o.oids,u={name:"EncryptedPrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c={name:"PBES2Algorithms",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},f={name:"pkcs-12PbeParams",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"iterations"}]};function l(t,e){return t.start().update(e).digest().getBytes()}function h(t){var e;if(t){if(!(e=o.oids[a.derToOid(t)])){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else e="hmacWithSHA1";return p(e)}function p(t){var e=n.md;switch(t){case"hmacWithSHA224":e=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}o.encryptPrivateKeyInfo=function(t,e,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i,u,c,f=n.random.getBytesSync(r.saltSize),l=r.count,h=a.integerToDer(l);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var d,y,g;switch(r.algorithm){case"aes128":i=16,d=16,y=s["aes128-CBC"],g=n.aes.createEncryptionCipher;break;case"aes192":i=24,d=16,y=s["aes192-CBC"],g=n.aes.createEncryptionCipher;break;case"aes256":i=32,d=16,y=s["aes256-CBC"],g=n.aes.createEncryptionCipher;break;case"des":i=8,d=8,y=s.desCBC,g=n.des.createEncryptionCipher;break;default:throw(C=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,C}var v="hmacWith"+r.prfAlgorithm.toUpperCase(),m=p(v),b=n.pkcs5.pbkdf2(e,f,l,i,m),E=n.random.getBytesSync(d);(S=g(b)).start(E),S.update(a.toDer(t)),S.finish(),c=S.output.getBytes();var w=function(t,e,r,i){var s=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,t),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,e.getBytes())]);return"hmacWithSHA1"!==i&&s.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(o.oids[i]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])),s}(f,h,i,v);u=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.pkcs5PBES2).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.pkcs5PBKDF2).getBytes()),w]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(y).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,E)])])])}else{var C;if("3des"!==r.algorithm)throw(C=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,C;i=24;var S,_=new n.util.ByteBuffer(f);b=o.pbe.generatePkcs12Key(e,_,1,l,i),E=o.pbe.generatePkcs12Key(e,_,2,l,i),(S=n.des.createEncryptionCipher(b)).start(E),S.update(a.toDer(t)),S.finish(),c=S.output.getBytes(),u=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,f),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,h.getBytes())])])}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[u,a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,c)])},o.decryptPrivateKeyInfo=function(t,e){var r=null,i={},s=[];if(!a.validate(t,u,i,s)){var c=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=s,c}var f=a.derToOid(i.encryptionOid),l=o.pbe.getCipher(f,i.encryptionParams,e),h=n.util.createBuffer(i.encryptedData);return l.update(h),l.finish()&&(r=a.fromDer(l.output)),r},o.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:a.toDer(t).getBytes()};return n.pem.encode(r,{maxline:e})},o.encryptedPrivateKeyFromPem=function(t){var e=n.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==e.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return a.fromDer(e.body)},o.encryptRsaPrivateKey=function(t,e,r){if(!(r=r||{}).legacy){var i=o.wrapRsaPrivateKey(o.privateKeyToAsn1(t));return i=o.encryptPrivateKeyInfo(i,e,r),o.encryptedPrivateKeyToPem(i)}var s,u,c,f;switch(r.algorithm){case"aes128":s="AES-128-CBC",c=16,u=n.random.getBytesSync(16),f=n.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",c=24,u=n.random.getBytesSync(16),f=n.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",c=32,u=n.random.getBytesSync(16),f=n.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",c=24,u=n.random.getBytesSync(8),f=n.des.createEncryptionCipher;break;case"des":s="DES-CBC",c=8,u=n.random.getBytesSync(8),f=n.des.createEncryptionCipher;break;default:var l=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw l.algorithm=r.algorithm,l}var h=f(n.pbe.opensslDeriveBytes(e,u.substr(0,8),c));h.start(u),h.update(a.toDer(o.privateKeyToAsn1(t))),h.finish();var p={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:n.util.bytesToHex(u).toUpperCase()},body:h.output.getBytes()};return n.pem.encode(p)},o.decryptRsaPrivateKey=function(t,e){var r=null,i=n.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(c=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=c,c;if(i.procType&&"ENCRYPTED"===i.procType.type){var s,u;switch(i.dekInfo.algorithm){case"DES-CBC":s=8,u=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,u=n.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,u=n.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,u=n.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,u=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,u=function(t){return n.rc2.createDecryptionCipher(t,40)};break;case"RC2-64-CBC":s=8,u=function(t){return n.rc2.createDecryptionCipher(t,64)};break;case"RC2-128-CBC":s=16,u=function(t){return n.rc2.createDecryptionCipher(t,128)};break;default:var c;throw(c=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,c}var f=n.util.hexToBytes(i.dekInfo.parameters),l=u(n.pbe.opensslDeriveBytes(e,f.substr(0,8),s));if(l.start(f),l.update(n.util.createBuffer(i.body)),!l.finish())return r;r=l.output.getBytes()}else r=i.body;return null!==(r="ENCRYPTED PRIVATE KEY"===i.type?o.decryptPrivateKeyInfo(a.fromDer(r),e):a.fromDer(r))&&(r=o.privateKeyFromAsn1(r)),r},o.pbe.generatePkcs12Key=function(t,e,r,i,a,o){var s,u;if(null==o){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');o=n.md.sha1.create()}var c=o.digestLength,f=o.blockLength,l=new n.util.ByteBuffer,h=new n.util.ByteBuffer;if(null!=t){for(u=0;u<t.length;u++)h.putInt16(t.charCodeAt(u));h.putInt16(0)}var p=h.length(),d=e.length(),y=new n.util.ByteBuffer;y.fillWithByte(r,f);var g=f*Math.ceil(d/f),v=new n.util.ByteBuffer;for(u=0;u<g;u++)v.putByte(e.at(u%d));var m=f*Math.ceil(p/f),b=new n.util.ByteBuffer;for(u=0;u<m;u++)b.putByte(h.at(u%p));var E=v;E.putBuffer(b);for(var w=Math.ceil(a/c),C=1;C<=w;C++){var S=new n.util.ByteBuffer;S.putBytes(y.bytes()),S.putBytes(E.bytes());for(var _=0;_<i;_++)o.start(),o.update(S.getBytes()),S=o.digest();var A=new n.util.ByteBuffer;for(u=0;u<f;u++)A.putByte(S.at(u%c));var T=Math.ceil(d/f)+Math.ceil(p/f),I=new n.util.ByteBuffer;for(s=0;s<T;s++){var B=new n.util.ByteBuffer(E.getBytes(f)),k=511;for(u=A.length()-1;u>=0;u--)k>>=8,k+=A.at(u)+B.at(u),B.setAt(u,255&k);I.putBuffer(B)}E=I,l.putBuffer(S)}return l.truncate(l.length()-a),l},o.pbe.getCipher=function(t,e,r){switch(t){case o.oids.pkcs5PBES2:return o.pbe.getCipherForPBES2(t,e,r);case o.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case o.oids["pbewithSHAAnd40BitRC2-CBC"]:return o.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},o.pbe.getCipherForPBES2=function(t,e,r){var i,s={},u=[];if(!a.validate(e,c,s,u))throw(i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=u,i;if((t=a.derToOid(s.kdfOid))!==o.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=t,i.supportedOids=["pkcs5PBKDF2"],i;if((t=a.derToOid(s.encOid))!==o.oids["aes128-CBC"]&&t!==o.oids["aes192-CBC"]&&t!==o.oids["aes256-CBC"]&&t!==o.oids["des-EDE3-CBC"]&&t!==o.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=t,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var f,l,p=s.kdfSalt,d=n.util.createBuffer(s.kdfIterationCount);switch(d=d.getInt(d.length()<<3),o.oids[t]){case"aes128-CBC":f=16,l=n.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,l=n.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,l=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,l=n.des.createDecryptionCipher;break;case"desCBC":f=8,l=n.des.createDecryptionCipher}var y=h(s.prfOid),g=n.pkcs5.pbkdf2(r,p,d,f,y),v=s.encIv,m=l(g);return m.start(v),m},o.pbe.getCipherForPKCS12PBE=function(t,e,r){var i={},s=[];if(!a.validate(e,f,i,s))throw(y=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=s,y;var u,c,l,p=n.util.createBuffer(i.salt),d=n.util.createBuffer(i.iterations);switch(d=d.getInt(d.length()<<3),t){case o.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,c=8,l=n.des.startDecrypting;break;case o.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,c=8,l=function(t,e){var r=n.rc2.createDecryptionCipher(t,40);return r.start(e,null),r};break;default:var y;throw(y=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=t,y}var g=h(i.prfOid),v=o.pbe.generatePkcs12Key(r,p,1,d,u,g);return g.start(),l(v,o.pbe.generatePkcs12Key(r,p,2,d,c,g))},o.pbe.opensslDeriveBytes=function(t,e,r,i){if(null==i){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');i=n.md.md5.create()}null===e&&(e="");for(var a=[l(i,t+e)],o=16,s=1;o<r;++s,o+=16)a.push(l(i,a[s-1]+t+e));return a.join("").substr(0,r)}},8960:function(t,e,r){var n=r(2678).Buffer,i=r(3832);r(6607),r(8991),r(7116);var a,o=i.pkcs5=i.pkcs5||{};i.util.isNodejs&&!i.options.usePureJavaScript&&(a=r(5819)),t.exports=i.pbkdf2=o.pbkdf2=function(t,e,r,o,s,u){if("function"==typeof s&&(u=s,s=null),i.util.isNodejs&&!i.options.usePureJavaScript&&a.pbkdf2&&(null===s||"object"!=typeof s)&&(a.pbkdf2Sync.length>4||!s||"sha1"===s))return"string"!=typeof s&&(s="sha1"),t=n.from(t,"binary"),e=n.from(e,"binary"),u?4===a.pbkdf2Sync.length?a.pbkdf2(t,e,r,o,(function(t,e){if(t)return u(t);u(null,e.toString("binary"))})):a.pbkdf2(t,e,r,o,s,(function(t,e){if(t)return u(t);u(null,e.toString("binary"))})):4===a.pbkdf2Sync.length?a.pbkdf2Sync(t,e,r,o).toString("binary"):a.pbkdf2Sync(t,e,r,o,s).toString("binary");if(null==s&&(s="sha1"),"string"==typeof s){if(!(s in i.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=i.md[s].create()}var c=s.digestLength;if(o>4294967295*c){var f=new Error("Derived key is too long.");if(u)return u(f);throw f}var l=Math.ceil(o/c),h=o-(l-1)*c,p=i.hmac.create();p.start(s,t);var d,y,g,v="";if(!u){for(var m=1;m<=l;++m){p.start(null,null),p.update(e),p.update(i.util.int32ToBytes(m)),d=g=p.digest().getBytes();for(var b=2;b<=r;++b)p.start(null,null),p.update(g),y=p.digest().getBytes(),d=i.util.xorBytes(d,y,c),g=y;v+=m<l?d:d.substr(0,h)}return v}function E(){if(m>l)return u(null,v);p.start(null,null),p.update(e),p.update(i.util.int32ToBytes(m)),d=g=p.digest().getBytes(),b=2,w()}function w(){if(b<=r)return p.start(null,null),p.update(g),y=p.digest().getBytes(),d=i.util.xorBytes(d,y,c),g=y,++b,i.util.setImmediate(w);v+=m<l?d:d.substr(0,h),++m,E()}m=1,E()}},6953:function(t,e,r){var n=r(3832);r(7116);var i=t.exports=n.pem=n.pem||{};function a(t){for(var e=t.name+": ",r=[],n=function(t,e){return" "+e},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+"\r\n";var a=0,o=-1;for(i=0;i<e.length;++i,++a)if(a>65&&-1!==o){var s=e[o];","===s?(++o,e=e.substr(0,o)+"\r\n "+e.substr(o)):e=e.substr(0,o)+"\r\n"+s+e.substr(o+1),a=i-o-1,o=-1,++i}else" "!==e[i]&&"\t"!==e[i]&&","!==e[i]||(o=i);return e}function o(t){return t.replace(/^\s+/,"")}i.encode=function(t,e){e=e||{};var r,i="-----BEGIN "+t.type+"-----\r\n";if(t.procType&&(i+=a(r={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]})),t.contentDomain&&(i+=a(r={name:"Content-Domain",values:[t.contentDomain]})),t.dekInfo&&(r={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&r.values.push(t.dekInfo.parameters),i+=a(r)),t.headers)for(var o=0;o<t.headers.length;++o)i+=a(t.headers[o]);return t.procType&&(i+="\r\n"),(i+=n.util.encode64(t.body,e.maxline||64)+"\r\n")+"-----END "+t.type+"-----\r\n"},i.decode=function(t){for(var e,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,a=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/;e=i.exec(t);){var u={type:e[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(e[3])};if(r.push(u),e[2]){for(var c=e[2].split(s),f=0;e&&f<c.length;){for(var l=c[f].replace(/\s+$/,""),h=f+1;h<c.length;++h){var p=c[h];if(!/\s/.test(p[0]))break;l+=p,f=h}if(e=l.match(a)){for(var d={name:e[1],values:[]},y=e[2].split(","),g=0;g<y.length;++g)d.values.push(o(y[g]));if(u.procType)if(u.contentDomain||"Content-Domain"!==d.name)if(u.dekInfo||"DEK-Info"!==d.name)u.headers.push(d);else{if(0===d.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:y[0],parameters:y[1]||null}}else u.contentDomain=y[0]||"";else{if("Proc-Type"!==d.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==d.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:y[0],type:y[1]}}}++f}if("ENCRYPTED"===u.procType&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},8936:function(t,e,r){var n=r(3832);r(7116),r(9563),r(137);var i=t.exports=n.pkcs1=n.pkcs1||{};function a(t,e,r){r||(r=n.md.sha1.create());for(var i="",a=Math.ceil(e/r.digestLength),o=0;o<a;++o){var s=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,255&o);r.start(),r.update(t+s),i+=r.digest().getBytes()}return i.substring(0,e)}i.encode_rsa_oaep=function(t,e,r){var i,o,s,u;"string"==typeof r?(i=r,o=arguments[3]||void 0,s=arguments[4]||void 0):r&&(i=r.label||void 0,o=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(u=r.mgf1.md)),s?s.start():s=n.md.sha1.create(),u||(u=s);var c=Math.ceil(t.n.bitLength()/8),f=c-2*s.digestLength-2;if(e.length>f)throw(g=new Error("RSAES-OAEP input message length is too long.")).length=e.length,g.maxLength=f,g;i||(i=""),s.update(i,"raw");for(var l=s.digest(),h="",p=f-e.length,d=0;d<p;d++)h+="\0";var y=l.getBytes()+h+""+e;if(o){if(o.length!==s.digestLength){var g;throw(g=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=o.length,g.digestLength=s.digestLength,g}}else o=n.random.getBytes(s.digestLength);var v=a(o,c-s.digestLength-1,u),m=n.util.xorBytes(y,v,y.length),b=a(m,s.digestLength,u),E=n.util.xorBytes(o,b,o.length);return"\0"+E+m},i.decode_rsa_oaep=function(t,e,r){var i,o,s;"string"==typeof r?(i=r,o=arguments[3]||void 0):r&&(i=r.label||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var u=Math.ceil(t.n.bitLength()/8);if(e.length!==u)throw(m=new Error("RSAES-OAEP encoded message length is invalid.")).length=e.length,m.expectedLength=u,m;if(void 0===o?o=n.md.sha1.create():o.start(),s||(s=o),u<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),o.update(i,"raw");for(var c=o.digest().getBytes(),f=e.charAt(0),l=e.substring(1,o.digestLength+1),h=e.substring(1+o.digestLength),p=a(h,o.digestLength,s),d=n.util.xorBytes(l,p,l.length),y=a(d,u-o.digestLength-1,s),g=n.util.xorBytes(h,y,h.length),v=g.substring(0,o.digestLength),m="\0"!==f,b=0;b<o.digestLength;++b)m|=c.charAt(b)!==v.charAt(b);for(var E=1,w=o.digestLength,C=o.digestLength;C<g.length;C++){var S=g.charCodeAt(C),_=1&S^1,A=E?65534:0;m|=S&A,w+=E&=_}if(m||1!==g.charCodeAt(w))throw new Error("Invalid RSAES-OAEP padding.");return g.substring(w+1)}},5147:function(t,e,r){var n=r(3832);r(3068),r(6607),r(6270),r(5496),r(7450),r(9563),r(8095),r(137),r(7116),r(5414);var i=n.asn1,a=n.pki,o=t.exports=n.pkcs12=n.pkcs12||{},s={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},u={name:"PFX",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},c={name:"SafeBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},f={name:"Attribute",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:"values"}]},l={name:"CertBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function h(t,e,r,n){for(var i=[],a=0;a<t.length;a++)for(var o=0;o<t[a].safeBags.length;o++){var s=t[a].safeBags[o];void 0!==n&&s.type!==n||(null!==e?void 0!==s.attributes[e]&&s.attributes[e].indexOf(r)>=0&&i.push(s):i.push(s))}return i}function p(t){if(t.composed||t.constructed){for(var e=n.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}function d(t,e){var r={},o=[];if(!i.validate(t,n.pkcs7.asn1.encryptedDataValidator,r,o))throw(s=new Error("Cannot read EncryptedContentInfo.")).errors=o,s;var s,u=i.derToOid(r.contentType);if(u!==a.oids.data)throw(s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=u,s;u=i.derToOid(r.encAlgorithm);var c=a.pbe.getCipher(u,r.encParameter,e),f=p(r.encryptedContentAsn1),l=n.util.createBuffer(f.value);if(c.update(l),!c.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return c.output.getBytes()}function y(t,e,r){if(!e&&0===t.length)return[];if((t=i.fromDer(t,e)).tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],o=0;o<t.value.length;o++){var s=t.value[o],u={},f=[];if(!i.validate(s,c,u,f))throw(v=new Error("Cannot read SafeBag.")).errors=f,v;var h,p,d={type:i.derToOid(u.bagId),attributes:g(u.bagAttributes)};n.push(d);var y=u.bagValue.value[0];switch(d.type){case a.oids.pkcs8ShroudedKeyBag:if(null===(y=a.decryptPrivateKeyInfo(y,r)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case a.oids.keyBag:try{d.key=a.privateKeyFromAsn1(y)}catch(t){d.key=null,d.asn1=y}continue;case a.oids.certBag:h=l,p=function(){if(i.derToOid(u.certId)!==a.oids.x509Certificate){var t=new Error("Unsupported certificate type, only X.509 supported.");throw t.oid=i.derToOid(u.certId),t}var r=i.fromDer(u.cert,e);try{d.cert=a.certificateFromAsn1(r,!0)}catch(t){d.cert=null,d.asn1=r}};break;default:var v;throw(v=new Error("Unsupported PKCS#12 SafeBag type.")).oid=d.type,v}if(void 0!==h&&!i.validate(y,h,u,f))throw(v=new Error("Cannot read PKCS#12 "+h.name)).errors=f,v;p()}return n}function g(t){var e={};if(void 0!==t)for(var r=0;r<t.length;++r){var n={},o=[];if(!i.validate(t[r],f,n,o)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=o,s}var u=i.derToOid(n.oid);if(void 0!==a.oids[u]){e[a.oids[u]]=[];for(var c=0;c<n.values.length;++c)e[a.oids[u]].push(n.values[c].value)}}return e}o.pkcs12FromAsn1=function(t,e,r){"string"==typeof e?(r=e,e=!0):void 0===e&&(e=!0);var c={};if(!i.validate(t,u,c,[]))throw(f=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=f,f;var f,l={version:c.version.charCodeAt(0),safeContents:[],getBags:function(t){var e,r={};return"localKeyId"in t?e=t.localKeyId:"localKeyIdHex"in t&&(e=n.util.hexToBytes(t.localKeyIdHex)),void 0===e&&!("friendlyName"in t)&&"bagType"in t&&(r[t.bagType]=h(l.safeContents,null,null,t.bagType)),void 0!==e&&(r.localKeyId=h(l.safeContents,"localKeyId",e,t.bagType)),"friendlyName"in t&&(r.friendlyName=h(l.safeContents,"friendlyName",t.friendlyName,t.bagType)),r},getBagsByFriendlyName:function(t,e){return h(l.safeContents,"friendlyName",t,e)},getBagsByLocalKeyId:function(t,e){return h(l.safeContents,"localKeyId",t,e)}};if(3!==c.version.charCodeAt(0))throw(f=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=c.version.charCodeAt(0),f;if(i.derToOid(c.contentType)!==a.oids.data)throw(f=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=i.derToOid(c.contentType),f;var g=c.content.value[0];if(g.tagClass!==i.Class.UNIVERSAL||g.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(g=p(g),c.mac){var v=null,m=0,b=i.derToOid(c.macAlgorithm);switch(b){case a.oids.sha1:v=n.md.sha1.create(),m=20;break;case a.oids.sha256:v=n.md.sha256.create(),m=32;break;case a.oids.sha384:v=n.md.sha384.create(),m=48;break;case a.oids.sha512:v=n.md.sha512.create(),m=64;break;case a.oids.md5:v=n.md.md5.create(),m=16}if(null===v)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+b);var E=new n.util.ByteBuffer(c.macSalt),w="macIterations"in c?parseInt(n.util.bytesToHex(c.macIterations),16):1,C=o.generateKey(r,E,3,w,m,v),S=n.hmac.create();if(S.start(v,C),S.update(g.value),S.getMac().getBytes()!==c.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(t,e,r,n){if((e=i.fromDer(e,r)).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var o=0;o<e.value.length;o++){var u=e.value[o],c={},f=[];if(!i.validate(u,s,c,f))throw(v=new Error("Cannot read ContentInfo.")).errors=f,v;var l={encrypted:!1},h=null,g=c.content.value[0];switch(i.derToOid(c.contentType)){case a.oids.data:if(g.tagClass!==i.Class.UNIVERSAL||g.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");h=p(g).value;break;case a.oids.encryptedData:h=d(g,n),l.encrypted=!0;break;default:var v;throw(v=new Error("Unsupported PKCS#12 contentType.")).contentType=i.derToOid(c.contentType),v}l.safeBags=y(h,r,n),t.safeContents.push(l)}}(l,g.value,e,r),l},o.toPkcs12Asn1=function(t,e,r,s){(s=s||{}).saltSize=s.saltSize||8,s.count=s.count||2048,s.algorithm=s.algorithm||s.encAlgorithm||"aes128","useMac"in s||(s.useMac=!0),"localKeyId"in s||(s.localKeyId=null),"generateLocalKeyId"in s||(s.generateLocalKeyId=!0);var u,c=s.localKeyId;if(null!==c)c=n.util.hexToBytes(c);else if(s.generateLocalKeyId)if(e){var f=n.util.isArray(e)?e[0]:e;"string"==typeof f&&(f=a.certificateFromPem(f)),(I=n.md.sha1.create()).update(i.toDer(a.certificateToAsn1(f)).getBytes()),c=I.digest().getBytes()}else c=n.random.getBytes(20);var l=[];null!==c&&l.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,c)])])),"friendlyName"in s&&l.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,s.friendlyName)])])),l.length>0&&(u=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,l));var h=[],p=[];null!==e&&(p=n.util.isArray(e)?e:[e]);for(var d=[],y=0;y<p.length;++y){"string"==typeof(e=p[y])&&(e=a.certificateFromPem(e));var g=0===y?u:void 0,v=a.certificateToAsn1(e),m=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(v).getBytes())])])]),g]);d.push(m)}if(d.length>0){var b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,d),E=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(b).getBytes())])]);h.push(E)}var w=null;if(null!==t){var C=a.wrapRsaPrivateKey(a.privateKeyToAsn1(t));w=null===r?i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[C]),u]):i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[a.encryptPrivateKeyInfo(C,r,s)]),u]);var S=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[w]),_=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(S).getBytes())])]);h.push(_)}var A,T=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,h);if(s.useMac){var I=n.md.sha1.create(),B=new n.util.ByteBuffer(n.random.getBytes(s.saltSize)),k=s.count,x=(t=o.generateKey(r,B,3,k,20),n.hmac.create());x.start(I,t),x.update(i.toDer(T).getBytes());var R=x.getMac();A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,R.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,B.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(k).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(T).getBytes())])]),A])},o.generateKey=n.pbe.generatePkcs12Key},9437:function(t,e,r){var n=r(3832);r(8925),r(3068),r(3480),r(6270),r(6953),r(5496),r(9563),r(7116),r(5414);var i=n.asn1,a=t.exports=n.pkcs7=n.pkcs7||{};function o(t){var e={},r=[];if(!i.validate(t,a.asn1.recipientInfoValidator,e,r)){var o=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw o.errors=r,o}return{version:e.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(e.issuer),serialNumber:n.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:i.derToOid(e.encAlgorithm),parameter:e.encParameter.value,content:e.encKey}}}function s(t){for(var e,r=[],a=0;a<t.length;++a)r.push((e=t[a],i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.encryptedContent.content)])));return r}function u(t){var e=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),e.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),a=0;a<t.unauthenticatedAttributes.length;++a){var o=t.unauthenticatedAttributes[a];r.values.push(c(o))}e.value.push(r)}return e}function c(t){var e;if(t.type===n.pki.oids.contentType)e=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.value).getBytes());else if(t.type===n.pki.oids.messageDigest)e=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),a=new Date("2050-01-01T00:00:00Z"),o=t.value;if("string"==typeof o){var s=Date.parse(o);o=isNaN(s)?13===o.length?i.utcTimeToDate(o):i.generalizedTimeToDate(o):new Date(s)}e=o>=r&&o<a?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(o)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(o))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[e])])}function f(t,e,r){var a={};if(!i.validate(e,r,a,[])){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}if(i.derToOid(a.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(a.encryptedContent){var s="";if(n.util.isArray(a.encryptedContent))for(var u=0;u<a.encryptedContent.length;++u){if(a.encryptedContent[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");s+=a.encryptedContent[u].value}else s=a.encryptedContent;t.encryptedContent={algorithm:i.derToOid(a.encAlgorithm),parameter:n.util.createBuffer(a.encParameter.value),content:n.util.createBuffer(s)}}if(a.content){if(s="",n.util.isArray(a.content))for(u=0;u<a.content.length;++u){if(a.content[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");s+=a.content[u].value}else s=a.content;t.content=n.util.createBuffer(s)}return t.version=a.version.charCodeAt(0),t.rawCapture=a,a}function l(t){if(void 0===t.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===t.content){var e;switch(t.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:e=n.aes.createDecryptionCipher(t.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:e=n.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}a.messageFromPem=function(t){var e=n.pem.decode(t)[0];if("PKCS7"!==e.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var o=i.fromDer(e.body);return a.messageFromAsn1(o)},a.messageToPem=function(t,e){var r={type:"PKCS7",body:i.toDer(t.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:e})},a.messageFromAsn1=function(t){var e={},r=[];if(!i.validate(t,a.asn1.contentInfoValidator,e,r)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw o.errors=r,o}var s,u=i.derToOid(e.contentType);switch(u){case n.pki.oids.envelopedData:s=a.createEnvelopedData();break;case n.pki.oids.encryptedData:s=a.createEncryptedData();break;case n.pki.oids.signedData:s=a.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+u+" is not (yet) supported.")}return s.fromAsn1(e.content.value[0]),s},a.createSignedData=function(){var t=null;return t={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(e){if(f(t,e,a.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var r=t.rawCapture.certificates.value,i=0;i<r.length;++i)t.certificates.push(n.pki.certificateFromAsn1(r[i]))},toAsn1:function(){t.contentInfo||t.sign();for(var e=[],r=0;r<t.certificates.length;++r)e.push(n.pki.certificateToAsn1(t.certificates[r]));var a=[],o=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return e.length>0&&o.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,e)),a.length>0&&o.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,a)),o.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,t.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),o])},addSigner:function(e){var r=e.issuer,i=e.serialNumber;if(e.certificate){var a=e.certificate;"string"==typeof a&&(a=n.pki.certificateFromPem(a)),r=a.issuer.attributes,i=a.serialNumber}var o=e.key;if(!o)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof o&&(o=n.pki.privateKeyFromPem(o));var s=e.digestAlgorithm||n.pki.oids.sha1;switch(s){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+s)}var u=e.authenticatedAttributes||[];if(u.length>0){for(var c=!1,f=!1,l=0;l<u.length;++l){var h=u[l];if(c||h.type!==n.pki.oids.contentType){if(f||h.type!==n.pki.oids.messageDigest);else if(f=!0,c)break}else if(c=!0,f)break}if(!c||!f)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:o,version:1,issuer:r,serialNumber:i,digestAlgorithm:s,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(e){var r;e=e||{},("object"!=typeof t.content||null===t.contentInfo)&&(t.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes())]),"content"in t&&(t.content instanceof n.util.ByteBuffer?r=t.content.bytes():"string"==typeof t.content&&(r=n.util.encodeUtf8(t.content)),e.detached?t.detachedContent=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r):t.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)])))),0!==t.signers.length&&function(e){var r;if(!(r=t.detachedContent?t.detachedContent:(r=t.contentInfo.value[1]).value[0]))throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=i.derToOid(t.contentInfo.value[0].value),o=i.toDer(r);for(var s in o.getByte(),i.getBerValueLength(o),o=o.getBytes(),e)e[s].start().update(o);for(var f=new Date,l=0;l<t.signers.length;++l){var h=t.signers[l];if(0===h.authenticatedAttributes.length){if(a!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{h.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),d=0;d<h.authenticatedAttributes.length;++d){var y=h.authenticatedAttributes[d];y.type===n.pki.oids.messageDigest?y.value=e[h.digestAlgorithm].digest():y.type===n.pki.oids.signingTime&&(y.value||(y.value=f)),p.value.push(c(y)),h.authenticatedAttributesAsn1.value.push(c(y))}o=i.toDer(p).getBytes(),h.md.start().update(o)}h.signature=h.key.sign(h.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=function(t){for(var e=[],r=0;r<t.length;++r)e.push(u(t[r]));return e}(t.signers)}(function(){for(var e={},r=0;r<t.signers.length;++r){var a=t.signers[r];(o=a.digestAlgorithm)in e||(e[o]=n.md[n.pki.oids[o]].create()),0===a.authenticatedAttributes.length?a.md=e[o]:a.md=n.md[n.pki.oids[o]].create()}for(var o in t.digestAlgorithmIdentifiers=[],e)t.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return e}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(e){"string"==typeof e&&(e=n.pki.certificateFromPem(e)),t.certificates.push(e)},addCertificateRevokationList:function(t){throw new Error("PKCS#7 CRL support not yet implemented.")}}},a.createEncryptedData=function(){var t=null;return t={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(e){f(t,e,a.asn1.encryptedDataValidator)},decrypt:function(e){void 0!==e&&(t.encryptedContent.key=e),l(t)}}},a.createEnvelopedData=function(){var t=null;return t={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(e){var r=f(t,e,a.asn1.envelopedDataValidator);t.recipients=function(t){for(var e=[],r=0;r<t.length;++r)e.push(o(t[r]));return e}(r.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,s(t.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(e=t.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.parameter.getBytes())]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.content.getBytes())])]))])])]);var e},findRecipient:function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var i=t.recipients[n],a=i.issuer;if(i.serialNumber===e.serialNumber&&a.length===r.length){for(var o=!0,s=0;s<r.length;++s)if(a[s].type!==r[s].type||a[s].value!==r[s].value){o=!1;break}if(o)return i}}return null},decrypt:function(e,r){if(void 0===t.encryptedContent.key&&void 0!==e&&void 0!==r)switch(e.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var i=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=n.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}l(t)},addRecipient:function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:e.publicKey}})},encrypt:function(e,r){if(void 0===t.encryptedContent.content){var i,a,o;switch(r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key,r){case n.pki.oids["aes128-CBC"]:i=16,a=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:i=24,a=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:i=32,a=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:i=24,a=8,o=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===e)e=n.util.createBuffer(n.random.getBytes(i));else if(e.length()!=i)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+i+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(a));var s=o(e);if(s.start(t.encryptedContent.parameter.copy()),s.update(t.content),!s.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=s.output}for(var u=0;u<t.recipients.length;++u){var c=t.recipients[u];if(void 0===c.encryptedContent.content)switch(c.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}}}},5496:function(t,e,r){var n=r(3832);r(3068),r(7116);var i=n.asn1,a=t.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=a;var o={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};a.contentInfoValidator=o;var s={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};a.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(s)},a.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(s)};var u={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};a.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},o,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[u]}]},a.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},4742:function(t,e,r){var n=r(3832);r(3068),r(6270),r(7450),r(6953),r(8960),r(5147),r(6007),r(8095),r(7116),r(5414);var i=n.asn1,a=t.exports=n.pki=n.pki||{};a.pemToDer=function(t){var e=n.pem.decode(t)[0];if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(e.body)},a.privateKeyFromPem=function(t){var e=n.pem.decode(t)[0];if("PRIVATE KEY"!==e.type&&"RSA PRIVATE KEY"!==e.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var o=i.fromDer(e.body);return a.privateKeyFromAsn1(o)},a.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:i.toDer(a.privateKeyToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},a.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:i.toDer(t).getBytes()};return n.pem.encode(r,{maxline:e})}},9654:function(t,e,r){var n=r(3832);r(7116),r(5764),r(9563),function(){if(n.prime)t.exports=n.prime;else{var e=t.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],a=new r(null);a.fromInt(30);var o=function(t,e){return t|e};e.generateProbablePrime=function(t,e,i){"function"==typeof e&&(i=e,e={});var a=(e=e||{}).algorithm||"PRIMEINC";"string"==typeof a&&(a={name:a}),a.options=a.options||{};var o=e.prng||n.random,u={nextBytes:function(t){for(var e=o.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}};if("PRIMEINC"===a.name)return function(t,e,i,a){return"workers"in i?function(t,e,i,a){if("undefined"==typeof Worker)return s(t,e,i,a);var o=c(t,e),u=i.workers,f=i.workLoad||100,l=30*f/8,h=i.workerScript||"forge/prime.worker.js";if(-1===u)return n.util.estimateCores((function(t,e){t&&(e=2),u=e-1,p()}));function p(){u=Math.max(1,u);for(var n=[],i=0;i<u;++i)n[i]=new Worker(h);for(i=0;i<u;++i)n[i].addEventListener("message",p);var s=!1;function p(i){if(!s){var u=i.data;if(u.found){for(var h=0;h<n.length;++h)n[h].terminate();return s=!0,a(null,new r(u.prime,16))}o.bitLength()>t&&(o=c(t,e));var p=o.toString(16);i.target.postMessage({hex:p,workLoad:f}),o.dAddOffset(l,0)}}}p()}(t,e,i,a):s(t,e,i,a)}(t,u,a.options,i);throw new Error("Invalid prime generation algorithm: "+a.name)}}function s(t,e,r,n){var i=c(t,e),a=function(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}(i.bitLength());"millerRabinTests"in r&&(a=r.millerRabinTests);var o=10;"maxBlockTime"in r&&(o=r.maxBlockTime),u(i,t,e,0,a,o,n)}function u(t,e,r,a,o,s,f){var l=+new Date;do{if(t.bitLength()>e&&(t=c(e,r)),t.isProbablePrime(o))return f(null,t);t.dAddOffset(i[a++%8],0)}while(s<0||+new Date-l<s);n.util.setImmediate((function(){u(t,e,r,a,o,s,f)}))}function c(t,e){var n=new r(t,e),i=t-1;return n.testBit(i)||n.bitwiseTo(r.ONE.shiftLeft(i),o,n),n.dAddOffset(31-n.mod(a).byteValue(),0),n}}()},4933:function(t,e,r){var n=r(4155),i=r(3832);r(7116);var a=null;!i.util.isNodejs||i.options.usePureJavaScript||n.versions["node-webkit"]||(a=r(5819)),(t.exports=i.prng=i.prng||{}).create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),o=0;o<32;++o)n[o]=r.create();function s(){if(e.pools[0].messageLength>=32)return u();var t=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(t)),u()}function u(){e.reseeds=4294967295===e.reseeds?0:e.reseeds+1;var t=e.plugin.md.create();t.update(e.keyBytes);for(var r=1,n=0;n<32;++n)e.reseeds%r==0&&(t.update(e.pools[n].digest().getBytes()),e.pools[n].start()),r<<=1;e.keyBytes=t.digest().getBytes(),t.start(),t.update(e.keyBytes);var i=t.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(i),e.generated=0}function c(t){var e=null,r=i.util.globalScope,n=r.crypto||r.msCrypto;n&&n.getRandomValues&&(e=function(t){return n.getRandomValues(t)});var a=i.util.createBuffer();if(e)for(;a.length()<t;){var o=Math.max(1,Math.min(t-a.length(),65536)/4),s=new Uint32Array(Math.floor(o));try{e(s);for(var u=0;u<s.length;++u)a.putInt32(s[u])}catch(t){if(!("undefined"!=typeof QuotaExceededError&&t instanceof QuotaExceededError))throw t}}if(a.length()<t)for(var c,f,l,h=Math.floor(65536*Math.random());a.length()<t;)for(f=16807*(65535&h),f+=(32767&(c=16807*(h>>16)))<<16,h=4294967295&(f=(2147483647&(f+=c>>15))+(f>>31)),u=0;u<3;++u)l=h>>>(u<<3),l^=Math.floor(256*Math.random()),a.putByte(String.fromCharCode(255&l));return a.getBytes(t)}return e.pools=n,e.pool=0,e.generate=function(t,r){if(!r)return e.generateSync(t);var n=e.plugin.cipher,a=e.plugin.increment,o=e.plugin.formatKey,s=e.plugin.formatSeed,c=i.util.createBuffer();e.key=null,function f(l){if(l)return r(l);if(c.length()>=t)return r(null,c.getBytes(t));if(e.generated>1048575&&(e.key=null),null===e.key)return i.util.nextTick((function(){!function(t){if(e.pools[0].messageLength>=32)return u(),t();var r=32-e.pools[0].messageLength<<5;e.seedFile(r,(function(r,n){if(r)return t(r);e.collect(n),u(),t()}))}(f)}));var h=n(e.key,e.seed);e.generated+=h.length,c.putBytes(h),e.key=o(n(e.key,a(e.seed))),e.seed=s(n(e.key,e.seed)),i.util.setImmediate(f)}()},e.generateSync=function(t){var r=e.plugin.cipher,n=e.plugin.increment,a=e.plugin.formatKey,o=e.plugin.formatSeed;e.key=null;for(var u=i.util.createBuffer();u.length()<t;){e.generated>1048575&&(e.key=null),null===e.key&&s();var c=r(e.key,e.seed);e.generated+=c.length,u.putBytes(c),e.key=a(r(e.key,n(e.seed))),e.seed=o(r(e.key,e.seed))}return u.getBytes(t)},a?(e.seedFile=function(t,e){a.randomBytes(t,(function(t,r){if(t)return e(t);e(null,r.toString())}))},e.seedFileSync=function(t){return a.randomBytes(t).toString()}):(e.seedFile=function(t,e){try{e(null,c(t))}catch(t){e(t)}},e.seedFileSync=c),e.collect=function(t){for(var r=t.length,n=0;n<r;++n)e.pools[e.pool].update(t.substr(n,1)),e.pool=31===e.pool?0:e.pool+1},e.collectInt=function(t,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(t>>i&255);e.collect(n)},e.registerWorker=function(t){t===self?e.seedFile=function(t,e){self.addEventListener("message",(function t(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",t),e(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:t}}})}:t.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&e.seedFile(n.forge.prng.needed,(function(e,r){t.postMessage({forge:{prng:{err:e,bytes:r}}})}))}))},e}},6007:function(t,e,r){var n=r(3832);r(9563),r(7116),(t.exports=n.pss=n.pss||{}).create=function(t){3===arguments.length&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e,r=t.md,i=t.mgf,a=r.digestLength,o=t.salt||null;if("string"==typeof o&&(o=n.util.createBuffer(o)),"saltLength"in t)e=t.saltLength;else{if(null===o)throw new Error("Salt length not specified or specific salt not given.");e=o.length()}if(null!==o&&o.length()!==e)throw new Error("Given salt length does not match length of given salt.");var s=t.prng||n.random,u={encode:function(t,u){var c,f,l=u-1,h=Math.ceil(l/8),p=t.digest().getBytes();if(h<a+e+2)throw new Error("Message is too long to encrypt.");f=null===o?s.getBytesSync(e):o.bytes();var d=new n.util.ByteBuffer;d.fillWithByte(0,8),d.putBytes(p),d.putBytes(f),r.start(),r.update(d.getBytes());var y=r.digest().getBytes(),g=new n.util.ByteBuffer;g.fillWithByte(0,h-e-a-2),g.putByte(1),g.putBytes(f);var v=g.getBytes(),m=h-a-1,b=i.generate(y,m),E="";for(c=0;c<m;c++)E+=String.fromCharCode(v.charCodeAt(c)^b.charCodeAt(c));var w=65280>>8*h-l&255;return(E=String.fromCharCode(E.charCodeAt(0)&~w)+E.substr(1))+y+String.fromCharCode(188)},verify:function(t,o,s){var u,c=s-1,f=Math.ceil(c/8);if(o=o.substr(-f),f<a+e+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==o.charCodeAt(f-1))throw new Error("Encoded message does not end in 0xBC.");var l=f-a-1,h=o.substr(0,l),p=o.substr(l,a),d=65280>>8*f-c&255;if(0!=(h.charCodeAt(0)&d))throw new Error("Bits beyond keysize not zero as expected.");var y=i.generate(p,l),g="";for(u=0;u<l;u++)g+=String.fromCharCode(h.charCodeAt(u)^y.charCodeAt(u));g=String.fromCharCode(g.charCodeAt(0)&~d)+g.substr(1);var v=f-a-e-2;for(u=0;u<v;u++)if(0!==g.charCodeAt(u))throw new Error("Leftmost octets not zero as expected");if(1!==g.charCodeAt(v))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var m=g.substr(-e),b=new n.util.ByteBuffer;return b.fillWithByte(0,8),b.putBytes(t),b.putBytes(m),r.start(),r.update(b.getBytes()),p===r.digest().getBytes()}};return u}},9563:function(t,e,r){var n=r(3832);r(8925),r(1668),r(4933),r(7116),n.random&&n.random.getBytes?t.exports=n.random:function(e){var r={},i=new Array(4),a=n.util.createBuffer();function o(){var t=n.prng.create(r);return t.getBytes=function(e,r){return t.generate(e,r)},t.getBytesSync=function(e){return t.generate(e)},t}r.formatKey=function(t){var e=n.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),n.aes._expandKey(t,!1)},r.formatSeed=function(t){var e=n.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),t},r.cipher=function(t,e){return n.aes._updateBlock(t,e,i,!1),a.putInt32(i[0]),a.putInt32(i[1]),a.putInt32(i[2]),a.putInt32(i[3]),a.getBytes()},r.increment=function(t){return++t[3],t},r.md=n.md.sha256;var s=o(),u=null,c=n.util.globalScope,f=c.crypto||c.msCrypto;if(f&&f.getRandomValues&&(u=function(t){return f.getRandomValues(t)}),n.options.usePureJavaScript||!n.util.isNodejs&&!u){if("undefined"==typeof window||window.document,s.collectInt(+new Date,32),"undefined"!=typeof navigator){var l="";for(var h in navigator)try{"string"==typeof navigator[h]&&(l+=navigator[h])}catch(t){}s.collect(l),l=null}e&&(e().mousemove((function(t){s.collectInt(t.clientX,16),s.collectInt(t.clientY,16)})),e().keypress((function(t){s.collectInt(t.charCode,8)})))}if(n.random)for(var h in s)n.random[h]=s[h];else n.random=s;n.random.createInstance=o,t.exports=n.random}("undefined"!=typeof jQuery?jQuery:null)},9372:function(t,e,r){var n=r(3832);r(7116);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],a=[1,2,3,5],o=function(t,e){return t<<e&65535|(65535&t)>>16-e},s=function(t,e){return(65535&t)>>e|t<<16-e&65535};t.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(t,e){"string"==typeof t&&(t=n.util.createBuffer(t)),e=e||128;var r,a=t,o=t.length(),s=e,u=Math.ceil(s/8),c=255>>(7&s);for(r=o;r<128;r++)a.putByte(i[a.at(r-1)+a.at(r-o)&255]);for(a.setAt(128-u,i[a.at(128-u)&c]),r=127-u;r>=0;r--)a.setAt(r,i[a.at(r+1)^a.at(r+u)]);return a};var u=function(t,e,r){var i,u,c,f,l=!1,h=null,p=null,d=null,y=[];for(t=n.rc2.expandKey(t,e),c=0;c<64;c++)y.push(t.getInt16Le());r?(i=function(t){for(c=0;c<4;c++)t[c]+=y[f]+(t[(c+3)%4]&t[(c+2)%4])+(~t[(c+3)%4]&t[(c+1)%4]),t[c]=o(t[c],a[c]),f++},u=function(t){for(c=0;c<4;c++)t[c]+=y[63&t[(c+3)%4]]}):(i=function(t){for(c=3;c>=0;c--)t[c]=s(t[c],a[c]),t[c]-=y[f]+(t[(c+3)%4]&t[(c+2)%4])+(~t[(c+3)%4]&t[(c+1)%4]),f--},u=function(t){for(c=3;c>=0;c--)t[c]-=y[63&t[(c+3)%4]]});var g=function(t){var e=[];for(c=0;c<4;c++){var n=h.getInt16Le();null!==d&&(r?n^=d.getInt16Le():d.putInt16Le(n)),e.push(65535&n)}f=r?0:63;for(var i=0;i<t.length;i++)for(var a=0;a<t[i][0];a++)t[i][1](e);for(c=0;c<4;c++)null!==d&&(r?d.putInt16Le(e[c]):e[c]^=d.getInt16Le()),p.putInt16Le(e[c])},v=null;return v={start:function(t,e){t&&"string"==typeof t&&(t=n.util.createBuffer(t)),l=!1,h=n.util.createBuffer(),p=e||new n.util.createBuffer,d=t,v.output=p},update:function(t){for(l||h.putBuffer(t);h.length()>=8;)g([[5,i],[1,u],[6,i],[1,u],[5,i]])},finish:function(t){var e=!0;if(r)if(t)e=t(8,h,!r);else{var n=8===h.length()?8:8-h.length();h.fillWithByte(n,n)}if(e&&(l=!0,v.update()),!r&&(e=0===h.length()))if(t)e=t(8,p,!r);else{var i=p.length(),a=p.at(i-1);a>i?e=!1:p.truncate(a)}return e}}};n.rc2.startEncrypting=function(t,e,r){var i=n.rc2.createEncryptionCipher(t,128);return i.start(e,r),i},n.rc2.createEncryptionCipher=function(t,e){return u(t,e,!0)},n.rc2.startDecrypting=function(t,e,r){var i=n.rc2.createDecryptionCipher(t,128);return i.start(e,r),i},n.rc2.createDecryptionCipher=function(t,e){return u(t,e,!1)}},8095:function(t,e,r){var n=r(3832);if(r(3068),r(5764),r(6270),r(8936),r(9654),r(9563),r(7116),void 0===i)var i=n.jsbn.BigInteger;var a=n.util.isNodejs?r(5819):null,o=n.asn1,s=n.util;n.pki=n.pki||{},t.exports=n.pki.rsa=n.rsa=n.rsa||{};var u=n.pki,c=[6,4,2,4,2,4,6,2],f={name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},l={name:"RSAPrivateKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},h={name:"RSAPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},p=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},d=function(t){var e;if(!(t.algorithm in u.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}e=u.oids[t.algorithm];var n=o.oidToDer(e).getBytes(),i=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),a=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);a.value.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,n)),a.value.push(o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,""));var s=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(a),i.value.push(s),o.toDer(i).getBytes()},y=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);var a;e.dP||(e.dP=e.d.mod(e.p.subtract(i.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(i.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));do{a=new i(n.util.bytesToHex(n.random.getBytes(e.n.bitLength()/8)),16)}while(a.compareTo(e.n)>=0||!a.gcd(e.n).equals(i.ONE));for(var o=(t=t.multiply(a.modPow(e.e,e.n)).mod(e.n)).mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);o.compareTo(s)<0;)o=o.add(e.p);var u=o.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return u.multiply(a.modInverse(e.n)).mod(e.n)};function g(t,e,r){var i=n.util.createBuffer(),a=Math.ceil(e.n.bitLength()/8);if(t.length>a-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=t.length,o.max=a-11,o}i.putByte(0),i.putByte(r);var s,u=a-3-t.length;if(0===r||1===r){s=0===r?0:255;for(var c=0;c<u;++c)i.putByte(s)}else for(;u>0;){var f=0,l=n.random.getBytes(u);for(c=0;c<u;++c)0===(s=l.charCodeAt(c))?++f:i.putByte(s);u=f}return i.putByte(0),i.putBytes(t),i}function v(t,e,r,i){var a=Math.ceil(e.n.bitLength()/8),o=n.util.createBuffer(t),s=o.getByte(),u=o.getByte();if(0!==s||r&&0!==u&&1!==u||!r&&2!=u||r&&0===u&&void 0===i)throw new Error("Encryption block is invalid.");var c=0;if(0===u){c=a-3-i;for(var f=0;f<c;++f)if(0!==o.getByte())throw new Error("Encryption block is invalid.")}else if(1===u)for(c=0;o.length()>1;){if(255!==o.getByte()){--o.read;break}++c}else if(2===u)for(c=0;o.length()>1;){if(0===o.getByte()){--o.read;break}++c}if(0!==o.getByte()||c!==a-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function m(t,e,r){"function"==typeof e&&(r=e,e={});var a={algorithm:{name:(e=e||{}).algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};function o(){s(t.pBits,(function(e,n){return e?r(e):(t.p=n,null!==t.q?c(e,t.q):void s(t.qBits,c))}))}function s(t,e){n.prime.generateProbablePrime(t,a,e)}function c(e,n){if(e)return r(e);if(t.q=n,t.p.compareTo(t.q)<0){var a=t.p;t.p=t.q,t.q=a}if(0!==t.p.subtract(i.ONE).gcd(t.e).compareTo(i.ONE))return t.p=null,void o();if(0!==t.q.subtract(i.ONE).gcd(t.e).compareTo(i.ONE))return t.q=null,void s(t.qBits,c);if(t.p1=t.p.subtract(i.ONE),t.q1=t.q.subtract(i.ONE),t.phi=t.p1.multiply(t.q1),0!==t.phi.gcd(t.e).compareTo(i.ONE))return t.p=t.q=null,void o();if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits)return t.q=null,void s(t.qBits,c);var f=t.e.modInverse(t.phi);t.keys={privateKey:u.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:u.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}"prng"in e&&(a.prng=e.prng),o()}function b(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=n.util.hexToBytes(e);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function E(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function w(t){return n.util.isNodejs&&"function"==typeof a[t]}function C(t){return void 0!==s.globalScope&&"object"==typeof s.globalScope.crypto&&"object"==typeof s.globalScope.crypto.subtle&&"function"==typeof s.globalScope.crypto.subtle[t]}function S(t){return void 0!==s.globalScope&&"object"==typeof s.globalScope.msCrypto&&"object"==typeof s.globalScope.msCrypto.subtle&&"function"==typeof s.globalScope.msCrypto.subtle[t]}function _(t){for(var e=n.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),i=0;i<e.length;++i)r[i]=e.charCodeAt(i);return r}u.rsa.encrypt=function(t,e,r){var a,o=r,s=Math.ceil(e.n.bitLength()/8);!1!==r&&!0!==r?(o=2===r,a=g(t,e,r)):(a=n.util.createBuffer()).putBytes(t);for(var u=new i(a.toHex(),16),c=y(u,e,o).toString(16),f=n.util.createBuffer(),l=s-Math.ceil(c.length/2);l>0;)f.putByte(0),--l;return f.putBytes(n.util.hexToBytes(c)),f.getBytes()},u.rsa.decrypt=function(t,e,r,a){var o=Math.ceil(e.n.bitLength()/8);if(t.length!==o){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=o,s}var u=new i(n.util.createBuffer(t).toHex(),16);if(u.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=y(u,e,r).toString(16),f=n.util.createBuffer(),l=o-Math.ceil(c.length/2);l>0;)f.putByte(0),--l;return f.putBytes(n.util.hexToBytes(c)),!1!==a?v(f.getBytes(),e,r):f.getBytes()},u.rsa.createKeyPairGenerationState=function(t,e,r){"string"==typeof t&&(t=parseInt(t,10)),t=t||2048;var a,o=(r=r||{}).prng||n.random,s={nextBytes:function(t){for(var e=o.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}},u=r.algorithm||"PRIMEINC";if("PRIMEINC"!==u)throw new Error("Invalid key generation algorithm: "+u);return(a={algorithm:u,state:0,bits:t,rng:s,eInt:e||65537,e:new i(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null}).e.fromInt(a.eInt),a},u.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new i(null);r.fromInt(30);for(var n,a=0,o=function(t,e){return t|e},s=+new Date,f=0;null===t.keys&&(e<=0||f<e);){if(0===t.state){var l=null===t.p?t.pBits:t.qBits,h=l-1;0===t.pqState?(t.num=new i(l,t.rng),t.num.testBit(h)||t.num.bitwiseTo(i.ONE.shiftLeft(h),o,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),a=0,++t.pqState):1===t.pqState?t.num.bitLength()>l?t.pqState=0:t.num.isProbablePrime(E(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(c[a++%8],0):2===t.pqState?t.pqState=0===t.num.subtract(i.ONE).gcd(t.e).compareTo(i.ONE)?3:0:3===t.pqState&&(t.pqState=0,null===t.p?t.p=t.num:t.q=t.num,null!==t.p&&null!==t.q&&++t.state,t.num=null)}else if(1===t.state)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(2===t.state)t.p1=t.p.subtract(i.ONE),t.q1=t.q.subtract(i.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(3===t.state)0===t.phi.gcd(t.e).compareTo(i.ONE)?++t.state:(t.p=null,t.q=null,t.state=0);else if(4===t.state)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(5===t.state){var p=t.e.modInverse(t.phi);t.keys={privateKey:u.rsa.setPrivateKey(t.n,t.e,p,t.p,t.q,p.mod(t.p1),p.mod(t.q1),t.q.modInverse(t.p)),publicKey:u.rsa.setPublicKey(t.n,t.e)}}f+=(n=+new Date)-s,s=n}return null!==t.keys},u.rsa.generateKeyPair=function(t,e,r,i){if(1===arguments.length?"object"==typeof t?(r=t,t=void 0):"function"==typeof t&&(i=t,t=void 0):2===arguments.length?"number"==typeof t?"function"==typeof e?(i=e,e=void 0):"number"!=typeof e&&(r=e,e=void 0):(r=t,i=e,t=void 0,e=void 0):3===arguments.length&&("number"==typeof e?"function"==typeof r&&(i=r,r=void 0):(i=r,r=e,e=void 0)),r=r||{},void 0===t&&(t=r.bits||2048),void 0===e&&(e=r.e||65537),!n.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(65537===e||3===e))if(i){if(w("generateKeyPair"))return a.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(t,e,r){if(t)return i(t);i(null,{privateKey:u.privateKeyFromPem(r),publicKey:u.publicKeyFromPem(e)})}));if(C("generateKey")&&C("exportKey"))return s.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:_(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(t){return s.globalScope.crypto.subtle.exportKey("pkcs8",t.privateKey)})).then(void 0,(function(t){i(t)})).then((function(t){if(t){var e=u.privateKeyFromAsn1(o.fromDer(n.util.createBuffer(t)));i(null,{privateKey:e,publicKey:u.setRsaPublicKey(e.n,e.e)})}}));if(S("generateKey")&&S("exportKey")){var c=s.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:_(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);return c.oncomplete=function(t){var e=t.target.result,r=s.globalScope.msCrypto.subtle.exportKey("pkcs8",e.privateKey);r.oncomplete=function(t){var e=t.target.result,r=u.privateKeyFromAsn1(o.fromDer(n.util.createBuffer(e)));i(null,{privateKey:r,publicKey:u.setRsaPublicKey(r.n,r.e)})},r.onerror=function(t){i(t)}},void(c.onerror=function(t){i(t)})}}else if(w("generateKeyPairSync")){var f=a.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:u.privateKeyFromPem(f.privateKey),publicKey:u.publicKeyFromPem(f.publicKey)}}var l=u.rsa.createKeyPairGenerationState(t,e,r);if(!i)return u.rsa.stepKeyPairGenerationState(l,0),l.keys;m(l,r,i)},u.setRsaPublicKey=u.rsa.setPublicKey=function(t,e){var r={n:t,e:e,encrypt:function(t,e,i){if("string"==typeof e?e=e.toUpperCase():void 0===e&&(e="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===e)e={encode:function(t,e,r){return g(t,e,2).getBytes()}};else if("RSA-OAEP"===e||"RSAES-OAEP"===e)e={encode:function(t,e){return n.pkcs1.encode_rsa_oaep(e,t,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(e))e={encode:function(t){return t}};else if("string"==typeof e)throw new Error('Unsupported encryption scheme: "'+e+'".');var a=e.encode(t,r,!0);return u.rsa.encrypt(a,r,!0)},verify:function(t,e,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(t,e){return e=v(e,r,!0),t===o.fromDer(e).value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(t,e){return t===v(e,r,!0)}});var i=u.rsa.decrypt(e,r,!0,!1);return n.verify(t,i,r.n.bitLength())}};return r},u.setRsaPrivateKey=u.rsa.setPrivateKey=function(t,e,r,i,a,o,s,c){var f={n:t,e:e,d:r,p:i,q:a,dP:o,dQ:s,qInv:c,decrypt:function(t,e,r){"string"==typeof e?e=e.toUpperCase():void 0===e&&(e="RSAES-PKCS1-V1_5");var i=u.rsa.decrypt(t,f,!1,!1);if("RSAES-PKCS1-V1_5"===e)e={decode:v};else if("RSA-OAEP"===e||"RSAES-OAEP"===e)e={decode:function(t,e){return n.pkcs1.decode_rsa_oaep(e,t,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(e))throw new Error('Unsupported encryption scheme: "'+e+'".');e={decode:function(t){return t}}}return e.decode(i,f,!1)},sign:function(t,e){var r=!1;"string"==typeof e&&(e=e.toUpperCase()),void 0===e||"RSASSA-PKCS1-V1_5"===e?(e={encode:d},r=1):"NONE"!==e&&"NULL"!==e&&null!==e||(e={encode:function(){return t}},r=1);var n=e.encode(t,f.n.bitLength());return u.rsa.encrypt(n,f,r)}};return f},u.wrapRsaPrivateKey=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(u.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(t).getBytes())])},u.privateKeyFromAsn1=function(t){var e,r,a,s,c,h,p,d,y={},g=[];if(o.validate(t,f,y,g)&&(t=o.fromDer(n.util.createBuffer(y.privateKey))),y={},g=[],!o.validate(t,l,y,g)){var v=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw v.errors=g,v}return e=n.util.createBuffer(y.privateKeyModulus).toHex(),r=n.util.createBuffer(y.privateKeyPublicExponent).toHex(),a=n.util.createBuffer(y.privateKeyPrivateExponent).toHex(),s=n.util.createBuffer(y.privateKeyPrime1).toHex(),c=n.util.createBuffer(y.privateKeyPrime2).toHex(),h=n.util.createBuffer(y.privateKeyExponent1).toHex(),p=n.util.createBuffer(y.privateKeyExponent2).toHex(),d=n.util.createBuffer(y.privateKeyCoefficient).toHex(),u.setRsaPrivateKey(new i(e,16),new i(r,16),new i(a,16),new i(s,16),new i(c,16),new i(h,16),new i(p,16),new i(d,16))},u.privateKeyToAsn1=u.privateKeyToRSAPrivateKey=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.e)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.d)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.p)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.q)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.dP)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.dQ)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.qInv))])},u.publicKeyFromAsn1=function(t){var e={},r=[];if(o.validate(t,p,e,r)){var a,s=o.derToOid(e.publicKeyOid);if(s!==u.oids.rsaEncryption)throw(a=new Error("Cannot read public key. Unknown OID.")).oid=s,a;t=e.rsaPublicKey}if(r=[],!o.validate(t,h,e,r))throw(a=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,a;var c=n.util.createBuffer(e.publicKeyModulus).toHex(),f=n.util.createBuffer(e.publicKeyExponent).toHex();return u.setRsaPublicKey(new i(c,16),new i(f,16))},u.publicKeyToAsn1=u.publicKeyToSubjectPublicKeyInfo=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(u.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,[u.publicKeyToRSAPublicKey(t)])])},u.publicKeyToRSAPublicKey=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,b(t.e))])}},137:function(t,e,r){var n=r(3832);r(8991),r(7116);var i=t.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){o||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),64),o=!0);var t=null,e=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,a=0;a<r;++a)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(a,o){"utf8"===o&&(a=n.util.encodeUtf8(a));var u=a.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return e.putBytes(a),s(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var o=n.util.createBuffer();o.putBytes(e.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;o.putBytes(a.substr(0,i.blockLength-c));for(var f=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)f+=(u=8*i.fullMessageLength[l+1])/4294967296>>>0,o.putInt32(f>>>0),f=u>>>0;o.putInt32(f);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};s(h,r,o);var p=n.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p},i};var a=null,o=!1;function s(t,e,r){for(var n,i,a,o,s,u,c,f=r.length();f>=64;){for(i=t.h0,a=t.h1,o=t.h2,s=t.h3,u=t.h4,c=0;c<16;++c)n=r.getInt32(),e[c]=n,n=(i<<5|i>>>27)+(s^a&(o^s))+u+1518500249+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<20;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(s^a&(o^s))+u+1518500249+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<32;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(a^o^s)+u+1859775393+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<40;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(a^o^s)+u+1859775393+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<60;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(a&o|s&(a^o))+u+2400959708+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<80;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(a^o^s)+u+3395469782+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+a|0,t.h2=t.h2+o|0,t.h3=t.h3+s|0,t.h4=t.h4+u|0,f-=64}}},1668:function(t,e,r){var n=r(3832);r(8991),r(7116);var i=t.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){o||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=!0);var t=null,e=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,a=0;a<r;++a)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(a,o){"utf8"===o&&(a=n.util.encodeUtf8(a));var s=a.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=s[1],s[1]=s[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(a),u(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var o=n.util.createBuffer();o.putBytes(e.bytes());var s,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;o.putBytes(a.substr(0,i.blockLength-c));for(var f=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)f+=(s=8*i.fullMessageLength[l+1])/4294967296>>>0,o.putInt32(f>>>0),f=s>>>0;o.putInt32(f);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};u(h,r,o);var p=n.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p.putInt32(h.h5),p.putInt32(h.h6),p.putInt32(h.h7),p},i};var a=null,o=!1,s=null;function u(t,e,r){for(var n,i,a,o,u,c,f,l,h,p,d,y,g,v=r.length();v>=64;){for(u=0;u<16;++u)e[u]=r.getInt32();for(;u<64;++u)n=((n=e[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=e[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[u]=n+e[u-7]+i+e[u-16]|0;for(c=t.h0,f=t.h1,l=t.h2,h=t.h3,p=t.h4,d=t.h5,y=t.h6,g=t.h7,u=0;u<64;++u)a=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),o=c&f|l&(c^f),n=g+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(y^p&(d^y))+s[u]+e[u],g=y,y=d,d=p,p=h+n>>>0,h=l,l=f,f=c,c=n+(i=a+o)>>>0;t.h0=t.h0+c|0,t.h1=t.h1+f|0,t.h2=t.h2+l|0,t.h3=t.h3+h|0,t.h4=t.h4+p|0,t.h5=t.h5+d|0,t.h6=t.h6+y|0,t.h7=t.h7+g|0,v-=64}}},3219:function(t,e,r){var n=r(3832);r(8991),r(7116);var i=t.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=i;var a=n.sha384=n.sha512.sha384=n.sha512.sha384||{};a.create=function(){return i.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=a,n.sha512.sha256=n.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,i.create=function(t){if(s||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),128),u=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(c={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],c["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],c["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],c["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s=!0),void 0===t&&(t="SHA-512"),!(t in c))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=c[t],r=null,i=n.util.createBuffer(),a=new Array(80),l=0;l<80;++l)a[l]=new Array(2);var h=64;switch(t){case"SHA-384":h=48;break;case"SHA-512/256":h=32;break;case"SHA-512/224":h=28}var p={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:h,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){p.messageLength=0,p.fullMessageLength=p.messageLength128=[];for(var t=p.messageLengthSize/4,a=0;a<t;++a)p.fullMessageLength.push(0);for(i=n.util.createBuffer(),r=new Array(e.length),a=0;a<e.length;++a)r[a]=e[a].slice(0);return p}};return p.start(),p.update=function(t,e){"utf8"===e&&(t=n.util.encodeUtf8(t));var o=t.length;p.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var s=p.fullMessageLength.length-1;s>=0;--s)p.fullMessageLength[s]+=o[1],o[1]=o[0]+(p.fullMessageLength[s]/4294967296>>>0),p.fullMessageLength[s]=p.fullMessageLength[s]>>>0,o[0]=o[1]/4294967296>>>0;return i.putBytes(t),f(r,a,i),(i.read>2048||0===i.length())&&i.compact(),p},p.digest=function(){var e=n.util.createBuffer();e.putBytes(i.bytes());var s,u=p.fullMessageLength[p.fullMessageLength.length-1]+p.messageLengthSize&p.blockLength-1;e.putBytes(o.substr(0,p.blockLength-u));for(var c=8*p.fullMessageLength[0],l=0;l<p.fullMessageLength.length-1;++l)c+=(s=8*p.fullMessageLength[l+1])/4294967296>>>0,e.putInt32(c>>>0),c=s>>>0;e.putInt32(c);var h=new Array(r.length);for(l=0;l<r.length;++l)h[l]=r[l].slice(0);f(h,a,e);var d,y=n.util.createBuffer();for(d="SHA-512"===t?h.length:"SHA-384"===t?h.length-2:h.length-4,l=0;l<d;++l)y.putInt32(h[l][0]),l===d-1&&"SHA-512/224"===t||y.putInt32(h[l][1]);return y},p};var o=null,s=!1,u=null,c=null;function f(t,e,r){for(var n,i,a,o,s,c,f,l,h,p,d,y,g,v,m,b,E,w,C,S,_,A,T,I,B,k,x,R,N,P,O,U,L,F=r.length();F>=128;){for(x=0;x<16;++x)e[x][0]=r.getInt32()>>>0,e[x][1]=r.getInt32()>>>0;for(;x<80;++x)n=(((R=(P=e[x-2])[0])>>>19|(N=P[1])<<13)^(N>>>29|R<<3)^R>>>6)>>>0,i=((R<<13|N>>>19)^(N<<3|R>>>29)^(R<<26|N>>>6))>>>0,a=(((R=(U=e[x-15])[0])>>>1|(N=U[1])<<31)^(R>>>8|N<<24)^R>>>7)>>>0,o=((R<<31|N>>>1)^(R<<24|N>>>8)^(R<<25|N>>>7))>>>0,O=e[x-7],L=e[x-16],N=i+O[1]+o+L[1],e[x][0]=n+O[0]+a+L[0]+(N/4294967296>>>0)>>>0,e[x][1]=N>>>0;for(d=t[0][0],y=t[0][1],g=t[1][0],v=t[1][1],m=t[2][0],b=t[2][1],E=t[3][0],w=t[3][1],C=t[4][0],S=t[4][1],_=t[5][0],A=t[5][1],T=t[6][0],I=t[6][1],B=t[7][0],k=t[7][1],x=0;x<80;++x)f=((C>>>14|S<<18)^(C>>>18|S<<14)^(S>>>9|C<<23))>>>0,l=(T^C&(_^T))>>>0,s=((d>>>28|y<<4)^(y>>>2|d<<30)^(y>>>7|d<<25))>>>0,c=((d<<4|y>>>28)^(y<<30|d>>>2)^(y<<25|d>>>7))>>>0,h=(d&g|m&(d^g))>>>0,p=(y&v|b&(y^v))>>>0,N=k+(((C<<18|S>>>14)^(C<<14|S>>>18)^(S<<23|C>>>9))>>>0)+((I^S&(A^I))>>>0)+u[x][1]+e[x][1],n=B+f+l+u[x][0]+e[x][0]+(N/4294967296>>>0)>>>0,i=N>>>0,a=s+h+((N=c+p)/4294967296>>>0)>>>0,o=N>>>0,B=T,k=I,T=_,I=A,_=C,A=S,C=E+n+((N=w+i)/4294967296>>>0)>>>0,S=N>>>0,E=m,w=b,m=g,b=v,g=d,v=y,d=n+a+((N=i+o)/4294967296>>>0)>>>0,y=N>>>0;N=t[0][1]+y,t[0][0]=t[0][0]+d+(N/4294967296>>>0)>>>0,t[0][1]=N>>>0,N=t[1][1]+v,t[1][0]=t[1][0]+g+(N/4294967296>>>0)>>>0,t[1][1]=N>>>0,N=t[2][1]+b,t[2][0]=t[2][0]+m+(N/4294967296>>>0)>>>0,t[2][1]=N>>>0,N=t[3][1]+w,t[3][0]=t[3][0]+E+(N/4294967296>>>0)>>>0,t[3][1]=N>>>0,N=t[4][1]+S,t[4][0]=t[4][0]+C+(N/4294967296>>>0)>>>0,t[4][1]=N>>>0,N=t[5][1]+A,t[5][0]=t[5][0]+_+(N/4294967296>>>0)>>>0,t[5][1]=N>>>0,N=t[6][1]+I,t[6][0]=t[6][0]+T+(N/4294967296>>>0)>>>0,t[6][1]=N>>>0,N=t[7][1]+k,t[7][0]=t[7][0]+B+(N/4294967296>>>0)>>>0,t[7][1]=N>>>0,F-=128}}},7116:function(t,e,r){var n=r(4155),i=r(2678).Buffer,a=r(3832),o=r(8807),s=t.exports=a.util=a.util||{};function u(t){if(8!==t&&16!==t&&24!==t&&32!==t)throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}function c(t){if(this.data="",this.read=0,"string"==typeof t)this.data=t;else if(s.isArrayBuffer(t)||s.isArrayBufferView(t))if(void 0!==i&&t instanceof i)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(t){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof c||"object"==typeof t&&"string"==typeof t.data&&"number"==typeof t.read)&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}!function(){if(void 0!==n&&n.nextTick&&!n.browser)return s.nextTick=n.nextTick,void("function"==typeof setImmediate?s.setImmediate=setImmediate:s.setImmediate=s.nextTick);if("function"==typeof setImmediate)return s.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(s.nextTick=function(t){return setImmediate(t)});if(s.setImmediate=function(t){setTimeout(t,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var t="forge.setImmediate",e=[];s.setImmediate=function(r){e.push(r),1===e.length&&window.postMessage(t,"*")},window.addEventListener("message",(function(r){if(r.source===window&&r.data===t){r.stopPropagation();var n=e.slice();e.length=0,n.forEach((function(t){t()}))}}),!0)}if("undefined"!=typeof MutationObserver){var r=Date.now(),i=!0,a=document.createElement("div");e=[],new MutationObserver((function(){var t=e.slice();e.length=0,t.forEach((function(t){t()}))})).observe(a,{attributes:!0});var o=s.setImmediate;s.setImmediate=function(t){Date.now()-r>15?(r=Date.now(),o(t)):(e.push(t),1===e.length&&a.setAttribute("a",i=!i))}}s.nextTick=s.setImmediate}(),s.isNodejs=void 0!==n&&n.versions&&n.versions.node,s.globalScope=s.isNodejs?r.g:"undefined"==typeof self?window:self,s.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s.isArrayBuffer=function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer},s.isArrayBufferView=function(t){return t&&s.isArrayBuffer(t.buffer)&&void 0!==t.byteLength},s.ByteBuffer=c,s.ByteStringBuffer=c,s.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},s.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))},s.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this},s.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this},s.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(s.encodeUtf8(t))},s.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},s.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},s.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},s.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))},s.ByteStringBuffer.prototype.putInt=function(t,e){u(e);var r="";do{e-=8,r+=String.fromCharCode(t>>e&255)}while(e>0);return this.putBytes(r)},s.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},s.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t},s.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t},s.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t},s.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t},s.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t},s.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t},s.ByteStringBuffer.prototype.getInt=function(t){u(t);var e=0;do{e=(e<<8)+this.data.charCodeAt(this.read++),t-=8}while(t>0);return e},s.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},s.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},s.ByteStringBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},s.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)},s.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var t=s.createBuffer(this.data);return t.read=this.read,t},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())},s.DataBuffer=function(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=s.isArrayBuffer(t),n=s.isArrayBufferView(t);if(r||n)return this.data=r?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),void(this.write="writeOffset"in e?e.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=t&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)},s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},s.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this},s.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this},s.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this},s.DataBuffer.prototype.putBytes=function(t,e){if(s.isArrayBufferView(t)){var r=(n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(s.isArrayBuffer(t)){var n=new Uint8Array(t);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(t instanceof s.DataBuffer||"object"==typeof t&&"number"==typeof t.read&&"number"==typeof t.write&&s.isArrayBufferView(t.data))return n=new Uint8Array(t.data.byteLength,t.read,t.length()),this.accommodate(n.byteLength),new Uint8Array(t.data.byteLength,this.write).set(n),this.write+=n.byteLength,this;if(t instanceof s.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary","string"==typeof t){var i;if("hex"===e)return this.accommodate(Math.ceil(t.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(t,i,this.write),this;if("base64"===e)return this.accommodate(3*Math.ceil(t.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(t,i,this.write),this;if("utf8"===e&&(t=s.encodeUtf8(t),e="binary"),"binary"===e||"raw"===e)return this.accommodate(t.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(i),this;if("utf16"===e)return this.accommodate(2*t.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)},s.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this},s.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")},s.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(t,e){u(e),this.accommodate(e/8);do{e-=8,this.data.setInt8(this.write++,t>>e&255)}while(e>0);return this},s.DataBuffer.prototype.putSignedInt=function(t,e){return u(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t},s.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t},s.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t},s.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t},s.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t},s.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t},s.DataBuffer.prototype.getInt=function(t){u(t);var e=0;do{e=(e<<8)+this.data.getInt8(this.read++),t-=8}while(t>0);return e},s.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},s.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},s.DataBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},s.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)},s.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t},s.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if("binary"===(t=t||"utf8")||"raw"===t)return s.binary.raw.encode(e);if("hex"===t)return s.binary.hex.encode(e);if("base64"===t)return s.binary.base64.encode(e);if("utf8"===t)return s.text.utf8.decode(e);if("utf16"===t)return s.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)},s.createBuffer=function(t,e){return e=e||"raw",void 0!==t&&"utf8"===e&&(t=s.encodeUtf8(t)),new s.ByteBuffer(t)},s.fillString=function(t,e){for(var r="";e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return r},s.xorBytes=function(t,e,r){for(var n="",i="",a="",o=0,s=0;r>0;--r,++o)i=t.charCodeAt(o)^e.charCodeAt(o),s>=10&&(n+=a,a="",s=0),a+=String.fromCharCode(i),++s;return n+a},s.hexToBytes=function(t){var e="",r=0;for(!0&t.length&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e},s.bytesToHex=function(t){return s.createBuffer(t).toHex()},s.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)};var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],h="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(t,e){for(var r,n,i,a="",o="",s=0;s<t.length;)r=t.charCodeAt(s++),n=t.charCodeAt(s++),i=t.charCodeAt(s++),a+=f.charAt(r>>2),a+=f.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=f.charAt((15&n)<<2|i>>6),a+=isNaN(i)?"=":f.charAt(63&i)),e&&a.length>e&&(o+=a.substr(0,e)+"\r\n",a=a.substr(e));return o+a},s.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e,r,n,i,a="",o=0;o<t.length;)e=l[t.charCodeAt(o++)-43],r=l[t.charCodeAt(o++)-43],n=l[t.charCodeAt(o++)-43],i=l[t.charCodeAt(o++)-43],a+=String.fromCharCode(e<<2|r>>4),64!==n&&(a+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(a+=String.fromCharCode((3&n)<<6|i)));return a},s.encodeUtf8=function(t){return unescape(encodeURIComponent(t))},s.decodeUtf8=function(t){return decodeURIComponent(escape(t))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:o.encode,decode:o.decode}},s.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)},s.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2)));var i=0,a=r=r||0;for(1&t.length&&(i=1,n[a++]=parseInt(t[0],16));i<t.length;i+=2)n[a++]=parseInt(t.substr(i,2),16);return e?a-r:n},s.binary.base64.encode=function(t,e){for(var r,n,i,a="",o="",s=0;s<t.byteLength;)r=t[s++],n=t[s++],i=t[s++],a+=f.charAt(r>>2),a+=f.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=f.charAt((15&n)<<2|i>>6),a+=isNaN(i)?"=":f.charAt(63&i)),e&&a.length>e&&(o+=a.substr(0,e)+"\r\n",a=a.substr(e));return o+a},s.binary.base64.decode=function(t,e,r){var n,i,a,o,s=e;s||(s=new Uint8Array(3*Math.ceil(t.length/4))),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,c=r=r||0;u<t.length;)n=l[t.charCodeAt(u++)-43],i=l[t.charCodeAt(u++)-43],a=l[t.charCodeAt(u++)-43],o=l[t.charCodeAt(u++)-43],s[c++]=n<<2|i>>4,64!==a&&(s[c++]=(15&i)<<4|a>>2,64!==o&&(s[c++]=(3&a)<<6|o));return e?c-r:s.subarray(0,c)},s.binary.base58.encode=function(t,e){return s.binary.baseN.encode(t,h,e)},s.binary.base58.decode=function(t,e){return s.binary.baseN.decode(t,h,e)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(t,e,r){t=s.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n},s.text.utf8.decode=function(t){return s.decodeUtf8(String.fromCharCode.apply(null,t))},s.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(2*t.length));for(var i=new Uint16Array(n.buffer),a=r=r||0,o=r,s=0;s<t.length;++s)i[o++]=t.charCodeAt(s),a+=2;return e?a-r:n},s.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))},s.deflate=function(t,e,r){if(e=s.decode64(t.deflate(s.encode64(e)).rval),r){var n=2;32&e.charCodeAt(1)&&(n=6),e=e.substring(n,e.length-4)}return e},s.inflate=function(t,e,r){var n=t.inflate(s.encode64(e)).rval;return null===n?null:s.decode64(n)};var p=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(null===r?n=t.removeItem(e):(r=s.encode64(JSON.stringify(r)),n=t.setItem(e,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},d=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(s.decode64(r))),r},y=function(t,e,r,n){var i=d(t,e);null===i&&(i={}),i[r]=n,p(t,e,i)},g=function(t,e,r){var n=d(t,e);return null!==n&&(n=r in n?n[r]:null),n},v=function(t,e,r){var n=d(t,e);if(null!==n&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),p(t,e,n)}},m=function(t,e){p(t,e,null)},b=function(t,e,r){var n,i=null;void 0===r&&(r=["web","flash"]);var a=!1,o=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===e[0])throw new Error("Flash local storage not available.");i=t.apply(this,e),a="flash"===n}"web"!==n&&"both"!==n||(e[0]=localStorage,i=t.apply(this,e),a=!0)}catch(t){o=t}if(a)break}if(!a)throw o;return i};s.setItem=function(t,e,r,n,i){b(y,arguments,i)},s.getItem=function(t,e,r,n){return b(g,arguments,n)},s.removeItem=function(t,e,r,n){b(v,arguments,n)},s.clearItems=function(t,e,r){b(m,arguments,r)},s.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=null===r?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(80!==n.port&&"http"===n.scheme||443!==n.port&&"https"===n.scheme)&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var E=null;s.getQueryVariables=function(t){var e,r=function(t){for(var e={},r=t.split("&"),n=0;n<r.length;n++){var i,a,o=r[n].indexOf("=");o>0?(i=r[n].substring(0,o),a=r[n].substring(o+1)):(i=r[n],a=null),i in e||(e[i]=[]),i in Object.prototype||null===a||e[i].push(unescape(a))}return e};return void 0===t?(null===E&&(E="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),e=E):e=r(t),e},s.parseFragment=function(t){var e=t,r="",n=t.indexOf("?");n>0&&(e=t.substring(0,n),r=t.substring(n+1));var i=e.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:e,queryString:r,path:i,query:""===r?{}:s.getQueryVariables(r)}},s.makeRequest=function(t){var e=s.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(t){return void 0===t?e.path:e.path[t]},getQuery:function(t,r){var n;return void 0===t?n=e.query:(n=e.query[t])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(t,e){var n=r.getQuery(t);return n?n[n.length-1]:e}};return r},s.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return r=r||"",t+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},s.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},s.format=function(t){for(var e,r,n=/%./g,i=0,a=[],o=0;e=n.exec(t);){(r=t.substring(o,n.lastIndex-2)).length>0&&a.push(r),o=n.lastIndex;var s=e[0][1];switch(s){case"s":case"o":i<arguments.length?a.push(arguments[1+i++]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+s+"?>")}}return a.push(t.substring(o)),a.join("")},s.formatNumber=function(t,e,r,n){var i=t,a=isNaN(e=Math.abs(e))?2:e,o=void 0===r?",":r,s=void 0===n?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",f=c.length>3?c.length%3:0;return u+(f?c.substr(0,f)+s:"")+c.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?o+Math.abs(i-c).toFixed(a).slice(2):"")},s.formatSize=function(t){return t>=1073741824?s.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?s.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?s.formatNumber(t/1024,0)+" KiB":s.formatNumber(t,0)+" bytes"},s.bytesFromIP=function(t){return-1!==t.indexOf(".")?s.bytesFromIPv4(t):-1!==t.indexOf(":")?s.bytesFromIPv6(t):null},s.bytesFromIPv4=function(t){if(4!==(t=t.split(".")).length)return null;for(var e=s.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()},s.bytesFromIPv6=function(t){for(var e=0,r=2*(8-(t=t.split(":").filter((function(t){return 0===t.length&&++e,!0}))).length+e),n=s.createBuffer(),i=0;i<8;++i)if(t[i]&&0!==t[i].length){var a=s.hexToBytes(t[i]);a.length<2&&n.putByte(0),n.putBytes(a)}else n.fillWithByte(0,r),r=0;return n.getBytes()},s.bytesToIP=function(t){return 4===t.length?s.bytesToIPv4(t):16===t.length?s.bytesToIPv6(t):null},s.bytesToIPv4=function(t){if(4!==t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")},s.bytesToIPv6=function(t){if(16!==t.length)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var a=s.bytesToHex(t[i]+t[i+1]);"0"===a[0]&&"0"!==a;)a=a.substr(1);if("0"===a){var o=r[r.length-1],u=e.length;o&&u===o.end+1?(o.end=u,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}e.push(a)}if(r.length>0){var c=r[n];c.end-c.start>0&&(e.splice(c.start,c.end-c.start+1,""),0===c.start&&e.unshift(""),7===c.end&&e.push(""))}return e.join(":")},s.estimateCores=function(t,e){if("function"==typeof t&&(e=t,t={}),t=t||{},"cores"in s&&!t.update)return e(null,s.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,e(null,s.cores);if("undefined"==typeof Worker)return s.cores=1,e(null,s.cores);if("undefined"==typeof Blob)return s.cores=2,e(null,s.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(t){for(var e=Date.now(),r=e+4;Date.now()<r;);self.postMessage({st:e,et:r})}))}.toString(),")()"],{type:"application/javascript"}));!function t(n,i,a){if(0===i){var o=Math.floor(n.reduce((function(t,e){return t+e}),0)/n.length);return s.cores=Math.max(1,o),URL.revokeObjectURL(r),e(null,s.cores)}!function(t,e){for(var n=[],i=[],a=0;a<t;++a){var o=new Worker(r);o.addEventListener("message",(function(r){if(i.push(r.data),i.length===t){for(var a=0;a<t;++a)n[a].terminate();e(0,i)}})),n.push(o)}for(a=0;a<t;++a)n[a].postMessage(a)}(a,(function(e,r){n.push(function(t,e){for(var r=[],n=0;n<t;++n)for(var i=e[n],a=r[n]=[],o=0;o<t;++o)if(n!==o){var s=e[o];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&a.push(o)}return r.reduce((function(t,e){return Math.max(t,e.length)}),0)}(a,r)),t(n,i-1,a)}))}([],5,16)}},5414:function(t,e,r){var n=r(3832);r(8925),r(3068),r(3480),r(8991),r(6971),r(6270),r(6953),r(6007),r(8095),r(7116);var i=n.asn1,a=t.exports=n.pki=n.pki||{},o=a.oids,s={};s.CN=o.commonName,s.commonName="CN",s.C=o.countryName,s.countryName="C",s.L=o.localityName,s.localityName="L",s.ST=o.stateOrProvinceName,s.stateOrProvinceName="ST",s.O=o.organizationName,s.organizationName="O",s.OU=o.organizationalUnitName,s.organizationalUnitName="OU",s.E=o.emailAddress,s.emailAddress="E";var u=n.pki.rsa.publicKeyValidator,c={name:"Certificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},u,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},f={name:"rsapss",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},l={name:"CertificationRequestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},u,{name:"CertificationRequestInfo.attributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},h={name:"CertificationRequest",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[l,{name:"CertificationRequest.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function p(t,e){"string"==typeof e&&(e={shortName:e});for(var r,n=null,i=0;null===n&&i<t.attributes.length;++i)r=t.attributes[i],(e.type&&e.type===r.type||e.name&&e.name===r.name||e.shortName&&e.shortName===r.shortName)&&(n=r);return n}a.RDNAttributesAsArray=function(t,e){for(var r,n,a,u=[],c=0;c<t.value.length;++c){r=t.value[c];for(var f=0;f<r.value.length;++f)a={},n=r.value[f],a.type=i.derToOid(n.value[0].value),a.value=n.value[1].value,a.valueTagClass=n.value[1].type,a.type in o&&(a.name=o[a.type],a.name in s&&(a.shortName=s[a.name])),e&&(e.update(a.type),e.update(a.value)),u.push(a)}return u},a.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],u=i.derToOid(n.value[0].value),c=n.value[1].value,f=0;f<c.length;++f){var l={};if(l.type=u,l.value=c[f].value,l.valueTagClass=c[f].type,l.type in o&&(l.name=o[l.type],l.name in s&&(l.shortName=s[l.name])),l.type===o.extensionRequest){l.extensions=[];for(var h=0;h<l.value.length;++h)l.extensions.push(a.certificateExtensionFromAsn1(l.value[h]))}e.push(l)}return e};var d=function(t,e,r){var n={};if(t!==o["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:o.sha1},mgf:{algorithmOid:o.mgf1,hash:{algorithmOid:o.sha1}},saltLength:20});var a={},s=[];if(!i.validate(e,f,a,s)){var u=new Error("Cannot read RSASSA-PSS parameter block.");throw u.errors=s,u}return void 0!==a.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=i.derToOid(a.hashOid)),void 0!==a.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=i.derToOid(a.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=i.derToOid(a.maskGenHashOid)),void 0!==a.saltLength&&(n.saltLength=a.saltLength.charCodeAt(0)),n};function y(t){for(var e,r,a=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),o=t.attributes,s=0;s<o.length;++s){var u=(e=o[s]).value,c=i.Type.PRINTABLESTRING;"valueTagClass"in e&&(c=e.valueTagClass)===i.Type.UTF8&&(u=n.util.encodeUtf8(u)),r=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,c,!1,u)])]),a.value.push(r)}return a}function g(t){for(var e,r=0;r<t.length;++r){if(void 0===(e=t[r]).name&&(e.type&&e.type in a.oids?e.name=a.oids[e.type]:e.shortName&&e.shortName in s&&(e.name=a.oids[s[e.shortName]])),void 0===e.type){if(!e.name||!(e.name in a.oids))throw(u=new Error("Attribute type not specified.")).attribute=e,u;e.type=a.oids[e.name]}if(void 0===e.shortName&&e.name&&e.name in s&&(e.shortName=s[e.name]),e.type===o.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=i.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var n=0;n<e.extensions.length;++n)e.value.push(a.certificateExtensionToAsn1(v(e.extensions[n])))}var u;if(void 0===e.value)throw(u=new Error("Attribute value not specified.")).attribute=e,u}}function v(t,e){if(e=e||{},void 0===t.name&&t.id&&t.id in a.oids&&(t.name=a.oids[t.id]),void 0===t.id){if(!t.name||!(t.name in a.oids))throw(w=new Error("Extension ID not specified.")).extension=t,w;t.id=a.oids[t.name]}if(void 0!==t.value)return t;if("keyUsage"===t.name){var r=0,s=0,u=0;t.digitalSignature&&(s|=128,r=7),t.nonRepudiation&&(s|=64,r=6),t.keyEncipherment&&(s|=32,r=5),t.dataEncipherment&&(s|=16,r=4),t.keyAgreement&&(s|=8,r=3),t.keyCertSign&&(s|=4,r=2),t.cRLSign&&(s|=2,r=1),t.encipherOnly&&(s|=1,r=0),t.decipherOnly&&(u|=128,r=7);var c=String.fromCharCode(r);0!==u?c+=String.fromCharCode(s)+String.fromCharCode(u):0!==s&&(c+=String.fromCharCode(s)),t.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if("basicConstraints"===t.name)t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in t&&t.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.pathLenConstraint).getBytes()));else if("extKeyUsage"===t.name){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var f=t.value.value;for(var l in t)!0===t[l]&&(l in o?f.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o[l]).getBytes())):-1!==l.indexOf(".")&&f.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(l).getBytes())))}else if("nsCertType"===t.name)r=0,s=0,t.client&&(s|=128,r=7),t.server&&(s|=64,r=6),t.email&&(s|=32,r=5),t.objsign&&(s|=16,r=4),t.reserved&&(s|=8,r=3),t.sslCA&&(s|=4,r=2),t.emailCA&&(s|=2,r=1),t.objCA&&(s|=1,r=0),c=String.fromCharCode(r),0!==s&&(c+=String.fromCharCode(s)),t.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c);else if("subjectAltName"===t.name||"issuerAltName"===t.name){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var h=0;h<t.altNames.length;++h){if(c=(m=t.altNames[h]).value,7===m.type&&m.ip){if(null===(c=n.util.bytesFromIP(m.ip)))throw(w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=t,w}else 8===m.type&&(c=m.oid?i.oidToDer(i.oidToDer(m.oid)):i.oidToDer(c));t.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,m.type,!1,c))}}else if("nsComment"===t.name&&e.cert){if(!/^[\x00-\x7F]*$/.test(t.comment)||t.comment.length<1||t.comment.length>128)throw new Error('Invalid "nsComment" content.');t.value=i.create(i.Class.UNIVERSAL,i.Type.IA5STRING,!1,t.comment)}else if("subjectKeyIdentifier"===t.name&&e.cert){var p=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=p.toHex(),t.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,p.getBytes())}else if("authorityKeyIdentifier"===t.name&&e.cert){if(t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),f=t.value.value,t.keyIdentifier){var d=!0===t.keyIdentifier?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;f.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,d))}if(t.authorityCertIssuer){var g=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[y(!0===t.authorityCertIssuer?e.cert.issuer:t.authorityCertIssuer)])];f.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,g))}if(t.serialNumber){var v=n.util.hexToBytes(!0===t.serialNumber?e.cert.serialNumber:t.serialNumber);f.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if("cRLDistributionPoints"===t.name){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),f=t.value.value;var m,b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),E=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(h=0;h<t.altNames.length;++h){if(c=(m=t.altNames[h]).value,7===m.type&&m.ip){if(null===(c=n.util.bytesFromIP(m.ip)))throw(w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=t,w}else 8===m.type&&(c=m.oid?i.oidToDer(i.oidToDer(m.oid)):i.oidToDer(c));E.value.push(i.create(i.Class.CONTEXT_SPECIFIC,m.type,!1,c))}b.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[E])),f.push(b)}var w;if(void 0===t.value)throw(w=new Error("Extension value not specified.")).extension=t,w;return t}function m(t,e){switch(t){case o["RSASSA-PSS"]:var r=[];return void 0!==e.hash.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])),void 0!==e.mgf.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])])),void 0!==e.saltLength&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,r);default:return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")}}function b(t){var e=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===t.attributes.length)return e;for(var r=t.attributes,a=0;a<r.length;++a){var o=r[a],s=o.value,u=i.Type.UTF8;"valueTagClass"in o&&(u=o.valueTagClass),u===i.Type.UTF8&&(s=n.util.encodeUtf8(s));var c=!1;"valueConstructed"in o&&(c=o.valueConstructed);var f=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,u,c,s)])]);e.value.push(f)}return e}a.certificateFromPem=function(t,e,r){var o=n.pem.decode(t)[0];if("CERTIFICATE"!==o.type&&"X509 CERTIFICATE"!==o.type&&"TRUSTED CERTIFICATE"!==o.type){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=o.type,s}if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=i.fromDer(o.body,r);return a.certificateFromAsn1(u,e)},a.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:i.toDer(a.certificateToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},a.publicKeyFromPem=function(t){var e=n.pem.decode(t)[0];if("PUBLIC KEY"!==e.type&&"RSA PUBLIC KEY"!==e.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var o=i.fromDer(e.body);return a.publicKeyFromAsn1(o)},a.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:i.toDer(a.publicKeyToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},a.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:i.toDer(a.publicKeyToRSAPublicKey(t)).getBytes()};return n.pem.encode(r,{maxline:e})},a.getPublicKeyFingerprint=function(t,e){var r,o=(e=e||{}).md||n.md.sha1.create();switch(e.type||"RSAPublicKey"){case"RSAPublicKey":r=i.toDer(a.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":r=i.toDer(a.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}o.start(),o.update(r);var s=o.digest();if("hex"===e.encoding){var u=s.toHex();return e.delimiter?u.match(/.{2}/g).join(e.delimiter):u}if("binary"===e.encoding)return s.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".');return s},a.certificationRequestFromPem=function(t,e,r){var o=n.pem.decode(t)[0];if("CERTIFICATE REQUEST"!==o.type){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=o.type,s}if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var u=i.fromDer(o.body,r);return a.certificationRequestFromAsn1(u,e)},a.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:i.toDer(a.certificationRequestToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},a.createCertificate=function(){var t={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return p(t.issuer,e)},t.issuer.addField=function(e){g([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return p(t.subject,e)},t.subject.addField=function(e){g([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){g(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){g(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)v(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){"string"==typeof e&&(e={name:e});for(var r,n=null,i=0;null===n&&i<t.extensions.length;++i)r=t.extensions[i],(e.id&&r.id===e.id||e.name&&r.name===e.name)&&(n=r);return n},t.sign=function(e,r){t.md=r||n.md.sha1.create();var s=o[t.md.algorithm+"WithRSAEncryption"];if(!s){var u=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw u.algorithm=t.md.algorithm,u}t.signatureOid=t.siginfo.algorithmOid=s,t.tbsCertificate=a.getTBSCertificate(t);var c=i.toDer(t.tbsCertificate);t.md.update(c.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var s=e.issuer,u=t.subject;throw(y=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=s.attributes,y.actualIssuer=u.attributes,y}var c=e.md;if(null===c){if(e.signatureOid in o)switch(o[e.signatureOid]){case"sha1WithRSAEncryption":c=n.md.sha1.create();break;case"md5WithRSAEncryption":c=n.md.md5.create();break;case"sha256WithRSAEncryption":c=n.md.sha256.create();break;case"sha384WithRSAEncryption":c=n.md.sha384.create();break;case"sha512WithRSAEncryption":c=n.md.sha512.create();break;case"RSASSA-PSS":c=n.md.sha256.create()}if(null===c)throw(y=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=e.signatureOid,y;var f=e.tbsCertificate||a.getTBSCertificate(e),l=i.toDer(f);c.update(l.getBytes())}if(null!==c){var h;switch(e.signatureOid){case o.sha1WithRSAEncryption:h=void 0;break;case o["RSASSA-PSS"]:var p,d,y;if(void 0===(p=o[e.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[p])throw(y=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,y.name=p,y;if(void 0===(d=o[e.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[d])throw(y=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,y.name=d,y;if(d=n.mgf[d].create(n.md[p].create()),void 0===(p=o[e.signatureParameters.hash.algorithmOid])||void 0===n.md[p])throw{message:"Unsupported RSASSA-PSS hash function.",oid:e.signatureParameters.hash.algorithmOid,name:p};h=n.pss.create(n.md[p].create(),d,e.signatureParameters.saltLength)}r=t.publicKey.verify(c.digest().getBytes(),e.signature,h)}return r},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var a,o;r=!0;for(var s=0;r&&s<n.attributes.length;++s)a=n.attributes[s],o=i.attributes[s],a.type===o.type&&a.value===o.value||(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return a.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=o.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var i=t.extensions[r];if(i.id===e){var a=t.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(i.subjectKeyIdentifier)===a}}return!1},t},a.certificateFromAsn1=function(t,e){var r={},s=[];if(!i.validate(t,c,r,s))throw(h=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=s,h;if(i.derToOid(r.publicKeyOid)!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=a.createCertificate();u.version=r.certVersion?r.certVersion.charCodeAt(0):0;var f=n.util.createBuffer(r.certSerialNumber);u.serialNumber=f.toHex(),u.signatureOid=n.asn1.derToOid(r.certSignatureOid),u.signatureParameters=d(u.signatureOid,r.certSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.certinfoSignatureParams,!1),u.signature=r.certSignature;var l=[];if(void 0!==r.certValidity1UTCTime&&l.push(i.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&l.push(i.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&l.push(i.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&l.push(i.generalizedTimeToDate(r.certValidity4GeneralizedTime)),l.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(l.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(u.validity.notBefore=l[0],u.validity.notAfter=l[1],u.tbsCertificate=r.tbsCertificate,e){var h;if(u.md=null,u.signatureOid in o)switch(o[u.signatureOid]){case"sha1WithRSAEncryption":u.md=n.md.sha1.create();break;case"md5WithRSAEncryption":u.md=n.md.md5.create();break;case"sha256WithRSAEncryption":u.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=n.md.sha512.create();break;case"RSASSA-PSS":u.md=n.md.sha256.create()}if(null===u.md)throw(h=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=u.signatureOid,h;var y=i.toDer(u.tbsCertificate);u.md.update(y.getBytes())}var v=n.md.sha1.create();u.issuer.getField=function(t){return p(u.issuer,t)},u.issuer.addField=function(t){g([t]),u.issuer.attributes.push(t)},u.issuer.attributes=a.RDNAttributesAsArray(r.certIssuer,v),r.certIssuerUniqueId&&(u.issuer.uniqueId=r.certIssuerUniqueId),u.issuer.hash=v.digest().toHex();var m=n.md.sha1.create();return u.subject.getField=function(t){return p(u.subject,t)},u.subject.addField=function(t){g([t]),u.subject.attributes.push(t)},u.subject.attributes=a.RDNAttributesAsArray(r.certSubject,m),r.certSubjectUniqueId&&(u.subject.uniqueId=r.certSubjectUniqueId),u.subject.hash=m.digest().toHex(),r.certExtensions?u.extensions=a.certificateExtensionsFromAsn1(r.certExtensions):u.extensions=[],u.publicKey=a.publicKeyFromAsn1(r.subjectPublicKeyInfo),u},a.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],i=0;i<n.value.length;++i)e.push(a.certificateExtensionFromAsn1(n.value[i]));return e},a.certificateExtensionFromAsn1=function(t){var e={};if(e.id=i.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===i.Type.BOOLEAN?(e.critical=0!==t.value[1].value.charCodeAt(0),e.value=t.value[2].value):e.value=t.value[1].value,e.id in o)if(e.name=o[e.id],"keyUsage"===e.name){var r=0,a=0;(u=i.fromDer(e.value)).value.length>1&&(r=u.value.charCodeAt(1),a=u.value.length>2?u.value.charCodeAt(2):0),e.digitalSignature=128==(128&r),e.nonRepudiation=64==(64&r),e.keyEncipherment=32==(32&r),e.dataEncipherment=16==(16&r),e.keyAgreement=8==(8&r),e.keyCertSign=4==(4&r),e.cRLSign=2==(2&r),e.encipherOnly=1==(1&r),e.decipherOnly=128==(128&a)}else if("basicConstraints"===e.name){(u=i.fromDer(e.value)).value.length>0&&u.value[0].type===i.Type.BOOLEAN?e.cA=0!==u.value[0].value.charCodeAt(0):e.cA=!1;var s=null;u.value.length>0&&u.value[0].type===i.Type.INTEGER?s=u.value[0].value:u.value.length>1&&(s=u.value[1].value),null!==s&&(e.pathLenConstraint=i.derToInteger(s))}else if("extKeyUsage"===e.name)for(var u=i.fromDer(e.value),c=0;c<u.value.length;++c){var f=i.derToOid(u.value[c].value);f in o?e[o[f]]=!0:e[f]=!0}else if("nsCertType"===e.name)r=0,(u=i.fromDer(e.value)).value.length>1&&(r=u.value.charCodeAt(1)),e.client=128==(128&r),e.server=64==(64&r),e.email=32==(32&r),e.objsign=16==(16&r),e.reserved=8==(8&r),e.sslCA=4==(4&r),e.emailCA=2==(2&r),e.objCA=1==(1&r);else if("subjectAltName"===e.name||"issuerAltName"===e.name){var l;e.altNames=[],u=i.fromDer(e.value);for(var h=0;h<u.value.length;++h){var p={type:(l=u.value[h]).type,value:l.value};switch(e.altNames.push(p),l.type){case 1:case 2:case 6:break;case 7:p.ip=n.util.bytesToIP(l.value);break;case 8:p.oid=i.derToOid(l.value)}}}else"subjectKeyIdentifier"===e.name&&(u=i.fromDer(e.value),e.subjectKeyIdentifier=n.util.bytesToHex(u.value));return e},a.certificationRequestFromAsn1=function(t,e){var r={},s=[];if(!i.validate(t,h,r,s))throw(c=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=s,c;if(i.derToOid(r.publicKeyOid)!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=a.createCertificationRequest();if(u.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,u.signatureOid=n.asn1.derToOid(r.csrSignatureOid),u.signatureParameters=d(u.signatureOid,r.csrSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.csrSignatureParams,!1),u.signature=r.csrSignature,u.certificationRequestInfo=r.certificationRequestInfo,e){var c;if(u.md=null,u.signatureOid in o)switch(o[u.signatureOid]){case"sha1WithRSAEncryption":u.md=n.md.sha1.create();break;case"md5WithRSAEncryption":u.md=n.md.md5.create();break;case"sha256WithRSAEncryption":u.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=n.md.sha512.create();break;case"RSASSA-PSS":u.md=n.md.sha256.create()}if(null===u.md)throw(c=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=u.signatureOid,c;var f=i.toDer(u.certificationRequestInfo);u.md.update(f.getBytes())}var l=n.md.sha1.create();return u.subject.getField=function(t){return p(u.subject,t)},u.subject.addField=function(t){g([t]),u.subject.attributes.push(t)},u.subject.attributes=a.RDNAttributesAsArray(r.certificationRequestInfoSubject,l),u.subject.hash=l.digest().toHex(),u.publicKey=a.publicKeyFromAsn1(r.subjectPublicKeyInfo),u.getAttribute=function(t){return p(u,t)},u.addAttribute=function(t){g([t]),u.attributes.push(t)},u.attributes=a.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),u},a.createCertificationRequest=function(){var t={version:0,signatureOid:null,signature:null,siginfo:{}};return t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return p(t.subject,e)},t.subject.addField=function(e){g([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return p(t,e)},t.addAttribute=function(e){g([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){g(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){g(e),t.attributes=e},t.sign=function(e,r){t.md=r||n.md.sha1.create();var s=o[t.md.algorithm+"WithRSAEncryption"];if(!s){var u=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw u.algorithm=t.md.algorithm,u}t.signatureOid=t.siginfo.algorithmOid=s,t.certificationRequestInfo=a.getCertificationRequestInfo(t);var c=i.toDer(t.certificationRequestInfo);t.md.update(c.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(null===r){if(t.signatureOid in o)switch(o[t.signatureOid]){case"sha1WithRSAEncryption":r=n.md.sha1.create();break;case"md5WithRSAEncryption":r=n.md.md5.create();break;case"sha256WithRSAEncryption":r=n.md.sha256.create();break;case"sha384WithRSAEncryption":r=n.md.sha384.create();break;case"sha512WithRSAEncryption":r=n.md.sha512.create();break;case"RSASSA-PSS":r=n.md.sha256.create()}if(null===r)throw(h=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=t.signatureOid,h;var s=t.certificationRequestInfo||a.getCertificationRequestInfo(t),u=i.toDer(s);r.update(u.getBytes())}if(null!==r){var c;switch(t.signatureOid){case o.sha1WithRSAEncryption:break;case o["RSASSA-PSS"]:var f,l,h;if(void 0===(f=o[t.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[f])throw(h=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,h.name=f,h;if(void 0===(l=o[t.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[l])throw(h=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,h.name=l,h;if(l=n.mgf[l].create(n.md[f].create()),void 0===(f=o[t.signatureParameters.hash.algorithmOid])||void 0===n.md[f])throw(h=new Error("Unsupported RSASSA-PSS hash function.")).oid=t.signatureParameters.hash.algorithmOid,h.name=f,h;c=n.pss.create(n.md[f].create(),l,t.signatureParameters.saltLength)}e=t.publicKey.verify(r.digest().getBytes(),t.signature,c)}return e},t};var E=new Date("1950-01-01T00:00:00Z"),w=new Date("2050-01-01T00:00:00Z");function C(t){return t>=E&&t<w?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(t)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(t))}a.getTBSCertificate=function(t){var e=C(t.validity.notBefore),r=C(t.validity.notAfter),o=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.siginfo.algorithmOid).getBytes()),m(t.siginfo.algorithmOid,t.siginfo.parameters)]),y(t.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[e,r]),y(t.subject),a.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&o.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.issuer.uniqueId)])),t.subject.uniqueId&&o.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.subject.uniqueId)])),t.extensions.length>0&&o.value.push(a.certificateExtensionsToAsn1(t.extensions)),o},a.getCertificationRequestInfo=function(t){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),y(t.subject),a.publicKeyToAsn1(t.publicKey),b(t)])},a.distinguishedNameToAsn1=function(t){return y(t)},a.certificateToAsn1=function(t){var e=t.tbsCertificate||a.getTBSCertificate(t);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[e,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.signatureOid).getBytes()),m(t.signatureOid,t.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},a.certificateExtensionsToAsn1=function(t){var e=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),r=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(a.certificateExtensionToAsn1(t[n]));return e},a.certificateExtensionToAsn1=function(t){var e=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);e.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.id).getBytes())),t.critical&&e.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=t.value;return"string"!=typeof t.value&&(r=i.toDer(r).getBytes()),e.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)),e},a.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||a.getCertificationRequestInfo(t);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[e,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.signatureOid).getBytes()),m(t.signatureOid,t.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},a.createCaStore=function(t){var e={certs:{}};function r(t){return o(t),e.certs[t.hash]||null}function o(t){if(!t.hash){var e=n.md.sha1.create();t.attributes=a.RDNAttributesAsArray(y(t),e),t.hash=e.digest().toHex()}}if(e.getIssuer=function(t){return r(t.issuer)},e.addCertificate=function(t){if("string"==typeof t&&(t=n.pki.certificateFromPem(t)),o(t.subject),!e.hasCertificate(t))if(t.subject.hash in e.certs){var r=e.certs[t.subject.hash];n.util.isArray(r)||(r=[r]),r.push(t),e.certs[t.subject.hash]=r}else e.certs[t.subject.hash]=t},e.hasCertificate=function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t));var e=r(t.subject);if(!e)return!1;n.util.isArray(e)||(e=[e]);for(var o=i.toDer(a.certificateToAsn1(t)).getBytes(),s=0;s<e.length;++s)if(o===i.toDer(a.certificateToAsn1(e[s])).getBytes())return!0;return!1},e.listAllCertificates=function(){var t=[];for(var r in e.certs)if(e.certs.hasOwnProperty(r)){var i=e.certs[r];if(n.util.isArray(i))for(var a=0;a<i.length;++a)t.push(i[a]);else t.push(i)}return t},e.removeCertificate=function(t){var s;if("string"==typeof t&&(t=n.pki.certificateFromPem(t)),o(t.subject),!e.hasCertificate(t))return null;var u=r(t.subject);if(!n.util.isArray(u))return s=e.certs[t.subject.hash],delete e.certs[t.subject.hash],s;for(var c=i.toDer(a.certificateToAsn1(t)).getBytes(),f=0;f<u.length;++f)c===i.toDer(a.certificateToAsn1(u[f])).getBytes()&&(s=u[f],u.splice(f,1));return 0===u.length&&delete e.certs[t.subject.hash],s},t)for(var s=0;s<t.length;++s){var u=t[s];e.addCertificate(u)}return e},a.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},a.verifyCertificateChain=function(t,e,r){"function"==typeof r&&(r={verify:r}),r=r||{};var i=(e=e.slice(0)).slice(0),o=r.validityCheckDate;void 0===o&&(o=new Date);var s=!0,u=null,c=0;do{var f=e.shift(),l=null,h=!1;if(o&&(o<f.validity.notBefore||o>f.validity.notAfter)&&(u={message:"Certificate is not valid yet or has expired.",error:a.certificateError.certificate_expired,notBefore:f.validity.notBefore,notAfter:f.validity.notAfter,now:o}),null===u){if(null===(l=e[0]||t.getIssuer(f))&&f.isIssuer(f)&&(h=!0,l=f),l){var p=l;n.util.isArray(p)||(p=[p]);for(var d=!1;!d&&p.length>0;){l=p.shift();try{d=l.verify(f)}catch(t){}}d||(u={message:"Certificate signature is invalid.",error:a.certificateError.bad_certificate})}null!==u||l&&!h||t.hasCertificate(f)||(u={message:"Certificate is not trusted.",error:a.certificateError.unknown_ca})}if(null===u&&l&&!f.isIssuer(l)&&(u={message:"Certificate issuer is invalid.",error:a.certificateError.bad_certificate}),null===u)for(var y={keyUsage:!0,basicConstraints:!0},g=0;null===u&&g<f.extensions.length;++g){var v=f.extensions[g];v.critical&&!(v.name in y)&&(u={message:"Certificate has an unsupported critical extension.",error:a.certificateError.unsupported_certificate})}if(null===u&&(!s||0===e.length&&(!l||h))){var m=f.getExtension("basicConstraints"),b=f.getExtension("keyUsage");null!==b&&(b.keyCertSign&&null!==m||(u={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:a.certificateError.bad_certificate})),null!==u||null===m||m.cA||(u={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:a.certificateError.bad_certificate}),null===u&&null!==b&&"pathLenConstraint"in m&&c-1>m.pathLenConstraint&&(u={message:"Certificate basicConstraints pathLenConstraint violated.",error:a.certificateError.bad_certificate})}var E=null===u||u.error,w=r.verify?r.verify(E,c,i):E;if(!0!==w)throw!0===E&&(u={message:"The application rejected the certificate.",error:a.certificateError.bad_certificate}),(w||0===w)&&("object"!=typeof w||n.util.isArray(w)?"string"==typeof w&&(u.error=w):(w.message&&(u.message=w.message),w.error&&(u.error=w.error))),u;u=null,s=!1,++c}while(e.length>0);return!0}},1379:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(3748),a=r(1733),o=r(8545),s=r(6280),u=r(4678),c=r(4237);function f(t){if(16!==t.length)throw new Error("invalid iv")}function l(t){return i.setupFallback((function(e,r,a){try{f(a)}catch(t){return Promise.reject(t)}var o=Promise.resolve(r);return o.then((function(r){var o="AES-"+t+"-CBC",s=i.nodeCrypto.createCipheriv(o,e,a);return n.concat([s.update(r),s.final()])}))}),(function(t,e,r){try{f(r)}catch(t){return Promise.reject(t)}var a=Promise.resolve();return(a=(a=a.then((function(){return i.subtleCrypto.importKey("raw",t,{name:"AES-CBC"},!0,["encrypt"])}))).then((function(t){var n={name:"AES-CBC",iv:r};return i.subtleCrypto.encrypt(n,t,e)}))).then((function(t){return n.from(t)}))}),(function(t,e,r){try{f(r)}catch(t){return Promise.reject(t)}var i=Promise.resolve();return i.then((function(){var i=s.cipher.createCipher("AES-CBC",new u(t));return i.start({iv:new u(r)}),i.update(new u(e)),i.finish()?n.from(i.output.bytes(),"binary"):Promise.reject(new Error("encryption failed"))}))}))}function h(t){return i.setupFallback((function(e,r,a){try{f(a)}catch(t){return Promise.reject(t)}var o=Promise.resolve();return o.then((function(){var o="AES-"+t+"-CBC",s=i.nodeCrypto.createDecipheriv(o,e,a);return n.concat([s.update(r),s.final()])}))}),(function(t,e,r){try{f(r)}catch(t){return Promise.reject(t)}var a=Promise.resolve();return(a=(a=a.then((function(){return i.subtleCrypto.importKey("raw",t,{name:"AES-CBC"},!0,["decrypt"])}))).then((function(t){var n={name:"AES-CBC",iv:r};return i.subtleCrypto.decrypt(n,t,e)}))).then((function(t){return n.from(t)}))}),(function(t,e,r){try{f(r)}catch(t){return Promise.reject(t)}var i=Promise.resolve();return i.then((function(){var i=s.cipher.createDecipher("AES-CBC",new u(t));return i.start({iv:new u(r)}),i.update(new u(e)),i.finish()?n.from(i.output.bytes(),"binary"):Promise.reject(new Error("encryption failed"))}))}))}function p(t,e){if(e<<1!=t.length<<3)throw new Error("invalid encryption key size")}function d(t){var e=l(t);return function(r,o,s){try{p(r,t)}catch(t){return Promise.reject(t)}var u=r.slice(t/8),c=r.slice(0,t/8),f=s.iv||n.alloc(0),l=s.aad||s.adata||n.alloc(0),h=e(u,o,f);return h.then((function(e){var r=n.concat([l,f,e,i.int64ToBuffer(8*l.length)]);return a["HS"+2*t].sign(c,r,{length:t}).then((function(r){var n=r.mac.slice(0,t/8);return{data:e,tag:n}}))}))}}function y(t){var e=h(t);return function(r,o,s){try{p(r,t)}catch(t){return Promise.reject(t)}var u=r.slice(t/8),c=r.slice(0,t/8),f=s.iv||n.alloc(0),l=s.aad||s.adata||n.alloc(0),h=s.tag||s.mac||n.alloc(0),d=Promise.resolve();return(d=d.then((function(){var e=n.concat([l,f,o,i.int64ToBuffer(8*l.length)]);return a["HS"+2*t].verify(c,e,h,{length:t}).then((function(){return o}),(function(){throw new Error("mac check failed")}))}))).then((function(){return e(u,o,f)}))}}var g=n.from("Encryption","utf8"),v=n.from("Integrity","utf8"),m=n.from(".","utf8");function b(t,e,r,a){var s=8*t.length,u=s/2,c=Promise.resolve();return c=(c=c.then((function(){return n.concat([i.int32ToBuffer(1),t,i.int32ToBuffer(u),n.from(e,"utf8"),r,a,g])}))).then((function(t){return o["SHA-"+s].digest(t).then((function(t){return t.slice(0,u/8)}))})),Promise.resolve(c)}function E(t,e,r,a){var s=8*t.length,u=s,c=Promise.resolve();return c=(c=c.then((function(){return n.concat([i.int32ToBuffer(1),t,i.int32ToBuffer(u),n.from(e,"utf8"),r,a,v])}))).then((function(t){return o["SHA-"+s].digest(t).then((function(t){return t.slice(0,u/8)}))})),Promise.resolve(c)}function w(t,e){var r=l(t);return function(o,s,u){var f,l,h=u.epu||i.int32ToBuffer(0),p=u.epv||i.int32ToBuffer(0),d=u.iv||n.alloc(0),y=u.aad||u.adata||n.alloc(0),g=u.kdata||n.alloc(0),v=[b(o,e,h,p),E(o,e,h,p)],w=Promise.all(v).then((function(t){f=t[0],l=t[1]}));return(w=(w=w.then((function(){return r(f,s,d)}))).then((function(e){var r=n.concat([y,m,n.from(g),m,n.from(c.base64url.encode(d),"utf8"),m,n.from(c.base64url.encode(e),"utf8")]);return Promise.all([Promise.resolve(e),a["HS"+2*t].sign(l,r,{length:t})])}))).then((function(t){return{data:t[0],tag:t[1].mac}}))}}function C(t,e){var r=h(t);return function(o,s,u){var f,l,h=u.epu||i.int32ToBuffer(0),p=u.epv||i.int32ToBuffer(0),d=u.iv||n.alloc(0),y=u.aad||u.adata||n.alloc(0),g=u.kdata||n.alloc(0),v=u.tag||u.mac||n.alloc(0),w=[b(o,e,h,p),E(o,e,h,p)],C=Promise.all(w).then((function(t){f=t[0],l=t[1]}));return(C=C.then((function(){var e=n.concat([y,m,n.from(g),m,n.from(c.base64url.encode(d),"utf8"),m,n.from(c.base64url.encode(s),"utf8")]);try{return a["HS"+2*t].verify(l,e,v,{loose:!1})}catch(t){throw new Error("mac check failed")}}))).then((function(){return r(f,s,d)}))}}var S={};["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"].forEach((function(t){var e=parseInt(/A(\d+)CBC-HS(\d+)?/g.exec(t)[1]);S[t]={encrypt:d(e),decrypt:y(e)}})),["A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"].forEach((function(t){var e=parseInt(/A(\d+)CBC\+HS(\d+)?/g.exec(t)[1]);S[t]={encrypt:w(e,t),decrypt:C(e,t)}})),t.exports=S},2736:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(3748),a=r(4237),o=r(414),s=r(9560);function u(t,e){function r(r,n){if(t!==r.length<<3)throw new Error("invalid key size");if(!n&&!e)throw new Error("invalid iv");if(n&&12!==n.length)throw new Error("invalid iv")}function u(t){if(e){var r=a.base64url.encode(t.iv),n=a.base64url.encode(t.tag);t={data:t.data,header:{iv:r,tag:n}}}return t}return i.setupFallback((function(t,e,o){var s=o.iv,c=o.aad||o.adata||n.alloc(0);try{r(t,s)}catch(t){return Promise.reject(t)}s=s||a.randomBytes(12);var f,l="aes-"+8*t.length+"-gcm";try{f=i.nodeCrypto.createCipheriv(l,t,s)}catch(t){throw new Error("unsupported algorithm: "+l)}if("function"!=typeof f.setAAD)throw new Error("unsupported algorithm: "+l);return c.length&&f.setAAD(c),u({data:n.concat([f.update(e),f.final()]),iv:s,tag:f.getAuthTag()})}),(function(t,e,o){var s=o.iv,c=o.aad||o.adata||n.alloc(0);try{r(t,s)}catch(t){return Promise.reject(t)}s=s||a.randomBytes(12);var f={name:"AES-GCM"};return i.subtleCrypto.importKey("raw",t,f,!0,["encrypt"]).then((function(t){return f.iv=s,f.tagLength=128,c.length&&(f.additionalData=c),i.subtleCrypto.encrypt(f,t,e)})).then((function(t){var e=t.byteLength-16,r=t.slice(e);r=n.from(r);var i=t.slice(0,e);return u({data:i=n.from(i),iv:s,tag:r})}))}),(function(t,e,i){var c,f,l=i.iv,h=i.aad||i.adata||n.alloc(0);try{r(t,l)}catch(t){return Promise.reject(t)}return l=l||a.randomBytes(12),c=s.createCipher({key:t,iv:l,additionalData:h}),f=n.alloc(e.length),new Promise((function(t,r){var n=o.CHUNK_SIZE,i=0,a=0;!function o(){var s=Math.min(n,e.length-a);if(i+=c.update(e,a,s,f,i),a+=s,e.length>a)setTimeout(o,0);else if((i+=c.finish(f,i))===e.length){var h=c.tag;t(u({data:f,iv:l,tag:h}))}else r(new Error("encryption failed"))}()}))}))}function c(t){function e(e,r,n){if(t!==e.length<<3)throw new Error("invalid key size");if(12!==r.length)throw new Error("invalid iv");if(16!==n.length)throw new Error("invalid tag length")}return i.setupFallback((function(t,r,a){var o=a.aad||a.adata||n.alloc(0),s=a.iv||n.alloc(0),u=a.tag||a.mac||n.alloc(0);try{e(t,s,u)}catch(t){return Promise.reject(t)}var c,f="aes-"+8*t.length+"-gcm";try{c=i.nodeCrypto.createDecipheriv(f,t,s)}catch(t){throw new Error("unsupported algorithm: "+f)}if("function"!=typeof c.setAAD)throw new Error("unsupported algorithm: "+f);c.setAuthTag(u),o.length&&c.setAAD(o);try{return n.concat([c.update(r),c.final()])}catch(t){throw new Error("decryption failed")}}),(function(t,r,a){var o=a.aad||a.adata||n.alloc(0),s=a.iv||n.alloc(0),u=a.tag||a.mac||n.alloc(0);try{e(t,s,u)}catch(t){return Promise.reject(t)}var c={name:"AES-GCM"};return i.subtleCrypto.importKey("raw",t,c,!0,["decrypt"]).then((function(t){return c.iv=s,c.tagLength=128,o.length&&(c.additionalData=o),r=n.concat([r,u],r.length+u.length),i.subtleCrypto.decrypt(c,t,r)})).then((function(t){return n.from(t)}))}),(function(t,r,i){var a,u,c=i.aad||i.adata||n.alloc(0),f=i.iv||n.alloc(0),l=i.tag||i.mac||n.alloc(0);try{e(t,f,l)}catch(t){return Promise.reject(t)}return a=s.createDecipher({key:t,iv:f,additionalData:c,tag:l}),u=n.alloc(r.length),new Promise((function(t,e){var n=o.CHUNK_SIZE,i=0,s=0;!function o(){var c=Math.min(n,r.length-s);if(i+=a.update(r,s,c,u,i),s+=c,r.length>s)setTimeout(o,0);else{try{i+=a.finish(u,i)}catch(t){return void e(new Error("decryption failed"))}i===r.length?t(u):e(new Error("decryption failed"))}}()}))}))}var f={};["A128GCM","A192GCM","A256GCM","A128GCMKW","A192GCMKW","A256GCMKW"].forEach((function(t){var e=/A(\d+)GCM(KW)?/g.exec(t),r=parseInt(e[1]),n="KW"===e[2];f[t]={encrypt:u(r,n),decrypt:c(r)}})),t.exports=f},4179:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(3748),a=r(6280),o=r(4678),s=n.from("a6a6a6a6a6a6a6a6","hex");function u(t,e){for(var r=Math.max(t.length,e.length),i=n.alloc(r),a=0;r>a;a++)i[a]=(t[a]||0)^(e[a]||0);return i}function c(t,e){for(var r=[],n=0;t.length>n;n+=e)r.push(t.slice(n,n+e));return r}function f(t){var e=Math.floor(t/4294967296),r=t%4294967296,i=n.alloc(8);return i[0]=255&e>>>24,i[1]=255&e>>>16,i[2]=255&e>>>8,i[3]=255&e>>>0,i[4]=255&r>>>24,i[5]=255&r>>>16,i[6]=255&r>>>8,i[7]=255&r>>>0,i}function l(t){function e(e,r){if(t!==e.length<<3)throw new Error("invalid key size");if(0<r.length&&0!=r.length%8)throw new Error("invalid data length")}return i.setupFallback((function(r,a){try{e(r,a)}catch(t){return Promise.reject(t)}var o,l,h,p=c(a,8),d=n.alloc(16);o=s;for(var y=0;6>y;y++)for(var g=0;p.length>g;g++)h=p.length*y+g+1,l=n.concat([o,p[g]]),o=u((l=i.nodeCrypto.createCipheriv("AES"+t,r,d).update(l)).slice(0,8),f(h)),p[g]=l.slice(8,16);p=[o].concat(p);var v=n.concat(p);return Promise.resolve({data:v})}),(function(t,r){try{e(t,r)}catch(t){return Promise.reject(t)}var a={name:"AES-KW"},o=[i.subtleCrypto.importKey("raw",r,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),i.subtleCrypto.importKey("raw",t,a,!0,["wrapKey"])];return(o=(o=Promise.all(o)).then((function(t){return i.subtleCrypto.wrapKey("raw",t[0],t[1],a)}))).then((function(t){return{data:t=n.from(t)}}))}),(function(t,r){try{e(t,r)}catch(t){return Promise.reject(t)}var i,l,h,p=a.cipher.createCipher("AES",new o(t)),d=c(r,8);i=s;for(var y=0;6>y;y++)for(var g=0;d.length>g;g++)h=d.length*y+g+1,l=n.concat([i,d[g]]),p.start(),p.update(new o(l)),p.finish(),i=u((l=n.from(p.output.bytes(),"binary")).slice(0,8),f(h)),d[g]=l.slice(8,16);d=[i].concat(d);var v=n.concat(d);return Promise.resolve({data:v})}))}function h(t){function e(e,r){if(t!==e.length<<3)throw new Error("invalid key size");if(0<r.length-8&&0!=r.length%8)throw new Error("invalid data length")}return i.setupFallback((function(r,a){try{e(r,a)}catch(t){return Promise.reject(t)}var o,l,h=c(a,8),p=n.alloc(16);o=h[0],h=h.slice(1);for(var d=5;0<=d;--d)for(var y=h.length-1;0<=y;--y)l=u(o,f(h.length*d+y+1)),l=n.concat([l,h[y],p]),o=(l=i.nodeCrypto.createDecipheriv("AES"+t,r,p).update(l)).slice(0,8),h[y]=l.slice(8,16);if(o.toString()!==s.toString())return Promise.reject(new Error("decryption failed"));var g=n.concat(h);return Promise.resolve(g)}),(function(t,r){try{e(t,r)}catch(t){return Promise.reject(t)}var a={name:"AES-KW"},o=i.subtleCrypto.importKey("raw",t,a,!0,["unwrapKey"]);return(o=(o=o.then((function(t){return i.subtleCrypto.unwrapKey("raw",r,t,a,{name:"HMAC",hash:"SHA-256"},!0,["sign"])}))).then((function(t){return i.subtleCrypto.exportKey("raw",t)}))).then((function(t){return n.from(t)}))}),(function(t,r){try{e(t,r)}catch(t){return Promise.reject(t)}var i,l,h=a.cipher.createDecipher("AES",new o(t)),p=c(r,8);i=p[0],p=p.slice(1);for(var d=5;0<=d;--d)for(var y=p.length-1;0<=y;--y)l=u(i,f(p.length*d+y+1)),l=n.concat([l,p[y]]),h.start(),h.update(new o(l)),h.finish(),i=(l=n.from(h.output.bytes(),"binary")).slice(0,8),p[y]=l.slice(8,16);if(i.toString()!==s.toString())return Promise.reject(new Error("decryption failed"));var g=n.concat(p);return Promise.resolve(g)}))}var p={};["A128KW","A192KW","A256KW"].forEach((function(t){var e=parseInt(/A(\d+)KW/g.exec(t)[1]);p[t]={encrypt:l(e),decrypt:h(e)}})),t.exports=p},2319:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(414),a=r(8545);function o(t){return t=t.replace("CONCAT-",""),function(e,r){var o=(r=r||{}).length,s=i.HASHLENGTH[t];if(!o)return Promise.reject(new Error("invalid key length"));if(!r.otherInfo)return Promise.reject(new Error("invalid otherInfo"));var u=r.otherInfo,c=a[t].digest,f=Math.ceil(o/s),l=0,h=[];return function t(){if(f===l++)return n.concat(h).slice(0,o);var r=n.alloc(4+e.length+u.length);return r.writeUInt32BE(l,0),e.copy(r,4),u.copy(r,4+e.length),c(r).then((function(e){return h.push(e),t()}))}()}}var s={};["CONCAT-SHA-1","CONCAT-SHA-256","CONCAT-SHA-384","CONCAT-SHA-512"].forEach((function(t){s[t]={derive:o(t)}})),t.exports=s},414:function(t){"use strict";t.exports={CHUNK_SIZE:1024,HASHLENGTH:{"SHA-1":160,"SHA-256":256,"SHA-384":384,"SHA-512":512},ENCLENGTH:{"AES-128-CBC":128,"AES-192-CBC":192,"AES-256-CBC":256,"AES-128-KW":128,"AES-192-KW":192,"AES-256-KW":256},KEYLENGTH:{"A128CBC-HS256":256,"A192CBC-HS384":384,"A256CBC-HS512":512,"A128CBC+HS256":256,"A192CBC+HS384":384,"A256CBC+HS512":512,A128GCM:128,A192GCM:192,A256GCM:256,A128KW:128,A192KW:192,A256KW:256,"ECDH-ES+A128KW":128,"ECDH-ES+A192KW":192,"ECDH-ES+A256KW":256},NONCELENGTH:{"A128CBC-HS256":128,"A192CBC-HS384":128,"A256CBC-HS512":128,"A128CBC+HS256":128,"A192CBC+HS384":128,"A256CBC+HS512":128,A128GCM:96,A192GCM:96,A256GCM:96}}},2274:function(t){"use strict";var e={dir:{encrypt:function(t){return Promise.resolve({data:t,once:!0,direct:!0})},decrypt:function(t){return Promise.resolve(t)}}};t.exports=e},1762:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(6678),a=r(1634),o=r(6280),s=r(4237),u={"P-256":256,"P-384":384,"P-521":521};function c(t,e){var r=i(t);return(e?["x","y"]:["d"]).forEach((function(t){r[t]=s.asBuffer(r[t],"base64url")})),r}var f=n.from([4]),l="1.2.840.10045.2.1",h="Could not extract parameters from DER signature";function p(t,e,r){for(var n=0;e+n<r&&0===t[e+n];)++n;return t[e+n]>=128&&--n,n}t.exports={convertToForge:function(t,e){var r=e?["x","y"]:["d"];return r=r.map((function(e){return new o.jsbn.BigInteger(t[e].toString("hex"),16)})),r=[t.crv].concat(r),(e?a.asPublicKey:a.asPrivateKey).apply(a,r)},convertToJWK:function(t,e){var r=i(t);return(e?["x","y"]:["x","y","d"]).forEach((function(t){r[t]=s.base64url.encode(r[t])})),delete r.key_ops,delete r.use,delete r.alg,e&&delete r.d,r},convertToObj:c,convertToBuffer:function(t,e){return t=c(t,e),e?n.concat([f,t.x,t.y]):t.d},curveSize:function(t){return u[t||""]||NaN},derToConcat:function(t,e){var r=0;if(48!==t[r++])throw new Error(h);var i=t[r++];if(129===i&&(i=t[r++]),i>t.length-r)throw new Error(h);if(2!==t[r++])throw new Error(h);var a=t[r++];if(a>t.length-r-2)throw new Error(h);if(a>e+1)throw new Error(h);var o=r;if(r+=a,2!==t[r++])throw new Error(h);var s=t[r++];if(s!==t.length-r)throw new Error(h);if(s>e+1)throw new Error(h);var u=r;if((r+=s)!==t.length)throw new Error(h);var c=e-a,f=e-s,l=n.alloc(c+a+f+s);for(r=0;r<c;++r)l[r]=0;var p=Math.max(-c,0);t.copy(l,r,o+p,o+a);for(var d=r=e;r<d+f;++r)l[r]=0;var y=Math.max(-f,0);return t.copy(l,r,u+y,u+s),l},concatToDer:function(t,e){var r=p(t,0,e),i=p(t,e,t.length),a=e-r,o=e-i,s=a+o+4,u=s<128,c=n.alloc((u?2:3)+s),f=0;return c[f++]=48,u?c[f++]=s:(c[f++]=129,c[f++]=255&s),c[f++]=2,c[f++]=a,r<0?(c[f++]=0,f+=t.copy(c,f,0,e)):f+=t.copy(c,f,r,e),c[f++]=2,c[f++]=o,i<0?(c[f++]=0,t.copy(c,f,e)):t.copy(c,f,e+i),c},convertToPEM:function(t,e){var r,i,a,s=t.crv;return s=function(t){switch(t){case"P-256":return"1.2.840.10045.3.1.7";case"P-384":return"1.3.132.0.34";case"P-521":return"1.3.132.0.35";default:return null}}(s),s=o.asn1.oidToDer(s),e?(r="EC PRIVATE KEY",i=n.concat([n.from([0,4]),t.x,t.y]).toString("binary"),t=t.d.toString("binary"),a=o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.SEQUENCE,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.INTEGER,!1,""),o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OCTETSTRING,!1,t),o.asn1.create(o.asn1.Class.CONTEXT_SPECIFIC,0,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OID,!1,s.bytes())]),o.asn1.create(o.asn1.Class.CONTEXT_SPECIFIC,1,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.BITSTRING,!1,i)])])):(r="PUBLIC KEY",t=n.concat([n.from([0,4]),t.x,t.y]).toString("binary"),a=o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.SEQUENCE,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.SEQUENCE,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OID,!1,o.asn1.oidToDer(l).bytes()),o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OID,!1,s.bytes())]),o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.BITSTRING,!1,t)])),a=o.asn1.toDer(a).bytes(),o.pem.encode({type:r,body:a})},EC_OID:l}},3724:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(5029),a=r(4237),o=r(1762),s=r(5141),u=r(2319),c=r(4179),f=r(3748),l=r(414),h=r(6678),p=r(7557),d=r(8718);function y(t){switch(t){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new Error("unsupported curve: "+t)}}var g=t.exports={};function v(t,e,r){function i(t){return n.concat([f.int32ToBuffer(t.length),t])}var o=r.algorithm||"",s=l.KEYLENGTH[o],u=a.asBuffer(r.apu||"","base64url"),c=a.asBuffer(r.apv||"","base64url"),h={public:e,length:s/8,hash:"SHA-256",otherInfo:n.concat([i(n.from(o,"utf8")),i(u),i(c),f.int32ToBuffer(s)])};return g["ECDH-CONCAT"].derive(t,h)}["ECDH","ECDH-HKDF","ECDH-CONCAT"].forEach((function(t){var e,r,a=/^ECDH(?:-(\w+))?$/g.exec(t||"")[1],c=g[t]=g[t]||{};switch(a||""){case"CONCAT":c.derive=function(t,e){var r;e=e||{};try{if(!(r=e.hash||y(t.crv)))throw new Error("invalid hash: "+r);r.toUpperCase()}catch(t){return Promise.reject(t)}var n=["public"];return g.ECDH.derive(t,d(e,n)).then((function(t){return u["CONCAT-"+r].derive(t,p(e,n))}))};break;case"HKDF":c.derive=function(t,e){var r;e=e||{};try{if(!(r=e.hash||y(t.crv)))throw new Error("invalid hash: "+r);r.toUpperCase()}catch(t){return Promise.reject(t)}var n=["public"];return g.ECDH.derive(t,d(e,n)).then((function(t){return s["HKDF-"+r].derive(t,p(e,n))}))};break;case"":c.derive=(e={name:"ECDH"},r=function(t,e){var r=t&&o.convertToForge(t,!0);if(!r||!r.isValid())return Promise.reject(new Error("invalid EC public key"));switch(e){case"jwk":r=o.convertToJWK(t,!0);break;case"buffer":r=o.convertToBuffer(t,!0)}return Promise.resolve(r)},f.setupFallback((function(t,e){if("function"!=typeof f.nodeCrypto.createECDH)throw new Error("unsupported algorithm: ECDH");var n,i=(e=e||{}).length||0;switch(t.crv){case"P-256":n="prime256v1";break;case"P-384":n="secp384r1";break;case"P-521":n="secp521r1";break;default:return Promise.reject(new Error("invalid curve: "+n))}var a=o.convertToBuffer(t,!1);return r(e.public,"buffer").then((function(t){var e=f.nodeCrypto.createECDH(n);e.setPrivateKey(a);var r=e.computeSecret(t);if(i){if(r.length<i)return Promise.reject(new Error("key length too large: "+i));r=r.slice(0,i)}return r}))}),(function(t,a){t=t||{};var s=(a=a||{}).length||0,u=i(h(e),{namedCurve:t.crv});s||(s=t.d.length);var c=o.convertToJWK(t,!1);c=f.subtleCrypto.importKey("jwk",c,u,!1,["deriveBits"]);var l=r(a.public,"jwk");l=l.then((function(t){return f.subtleCrypto.importKey("jwk",t,u,!1,[])}));var p=Promise.all([c,l]);return(p=p.then((function(t){var r=t[0],n=t[1],a=i(h(e),{public:n});return f.subtleCrypto.deriveBits(a,r,8*s)}))).then((function(t){return n.from(t)}))}),(function(t,e){var n=(e=e||{}).length||0,i=o.convertToForge(t,!1);return r(e.public,"forge").then((function(t){var e=i.computeSecret(t);if(n){if(e.length<n)return Promise.reject(new Error("key length too large: "+n));e=e.slice(0,n)}return e}))})));break;default:c.derive=null}})),["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"].forEach((function(t){var e,r,n=/^ECDH-ES(?:\+(.+))?/g.exec(t||"")[1],i=g[t]=g[t]||{};n?(n=c[n])?(i.encrypt=(r=n.encrypt,function(t,e,n){if(!(n=n||{}).epk||!n.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var i=o.convertToObj(n.epk,!1);return t&&t.x&&t.y?v(i,o.convertToObj(t,!0),{algorithm:n.alg,apu:n.apu,apv:n.apv}).then((function(t){return r(t,e)})):Promise.reject(new Error("missing static public key"))}),i.decrypt=(e=n.decrypt,function(t,r,n){if(!(n=n||{}).epk||!n.epk.x||!n.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var i=o.convertToObj(n.epk,!0);return t&&t.d?v(o.convertToObj(t,!1),i,{algorithm:n.alg,apu:n.apu,apv:n.apv}).then((function(t){return e(t,r)})):Promise.reject(new Error("missing static private key"))})):i.ecrypt=i.decrypt=null:(i.encrypt=function(t,e,r){if(!(r=r||{}).epk||!r.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var n=o.convertToObj(r.epk,!1);return t&&t.x&&t.y?v(n,o.convertToObj(t,!0),{algorithm:r.enc,apu:r.apu,apv:r.apv}).then((function(t){return{data:t,once:!0,direct:!0}})):Promise.reject(new Error("missing static public key"))},i.decrypt=function(t,e,r){if(!(r=r||{}).epk||!r.epk.x||!r.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var n=o.convertToObj(r.epk,!0);return t&&t.d?v(o.convertToObj(t,!1),n,{algorithm:r.enc,apu:r.apu,apv:r.apv}).then((function(t){return t})):Promise.reject(new Error("missing static private key"))})}))},4008:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(1762),a=r(3748),o=r(8545);function s(t){switch(t){case"SHA-256":return"P-256";case"SHA-384":return"P-384";case"SHA-512":return"P-521";default:throw new Error("unsupported hash: "+t)}}function u(t){var e,r=s(t),u=t.toLowerCase().replace("-","");return a.nodeCrypto&&a.nodeCrypto.getHashes().indexOf(u)>-1&&(e=function(t,e){if(r!==t.crv)return Promise.reject(new Error("invalid curve"));var n,o;switch(n=(n=Promise.resolve(a.nodeCrypto.createSign(u))).then((function(t){return t.update(e),t})),u.slice(-3)){case"384":o=48;break;case"512":o=66;break;default:o=32}return(n=n.then((function(e){return i.derToConcat(e.sign(i.convertToPEM(t,!0)),o)}))).then((function(t){return{data:e,mac:t}}))}),a.setupFallback(e,(function(e,o){if(r!==e.crv)return Promise.reject(new Error("invalid curve"));var s=i.convertToJWK(e,!1),u={name:"ECDSA",namedCurve:s.crv,hash:{name:t}};return a.subtleCrypto.importKey("jwk",s,u,!0,["sign"]).then((function(t){return a.subtleCrypto.sign(u,t,o)})).then((function(t){return t=n.from(t),{data:o,mac:t}}))}),(function(e,a){if(r!==e.crv)return Promise.reject(new Error("invalid curve"));var s=i.convertToForge(e,!1);return o[t].digest(a).then((function(t){return t=s.sign(t),t=n.concat([t.r,t.s]),{data:a,mac:t}}))}))}function c(t){var e,r=s(t),n=t.toLowerCase().replace("-","");return a.nodeCrypto&&a.nodeCrypto.getHashes().indexOf(n)>-1&&(e=function(t,e,o){if(r!==t.crv)return Promise.reject(new Error("invalid curve"));var s;switch(n.slice(-3)){case"384":s=48;break;case"512":s=66;break;default:s=32}return Promise.resolve(a.nodeCrypto.createVerify(n)).then((function(r){return r.update(e),r.end(),r.verify(i.convertToPEM(t,!1),i.concatToDer(o,s))})).then((function(t){if(!t)throw new Error("verification failed");return{data:e,mac:o,valid:!0}}))}),a.setupFallback(e,(function(e,n,o){if(r!==e.crv)return Promise.reject(new Error("invalid curve"));var s=i.convertToJWK(e,!0),u={name:"ECDSA",namedCurve:s.crv,hash:{name:t}};return a.subtleCrypto.importKey("jwk",s,u,!0,["verify"]).then((function(t){return a.subtleCrypto.verify(u,t,o,n)})).then((function(t){return t?{data:n,mac:o,valid:!0}:Promise.reject(new Error("verification failed"))}))}),(function(e,n,a){if(r!==e.crv)return Promise.reject(new Error("invalid curve"));var s=i.convertToForge(e,!0);return o[t].digest(n).then((function(t){var e=a.length/2,r={r:a.slice(0,e),s:a.slice(e)};return s.verify(t,r)?{data:n,mac:a,valid:!0}:Promise.reject(new Error("verification failed"))}))}))}var f={};["ES256","ES384","ES512"].forEach((function(t){var e=t.replace(/ES(\d+)/g,(function(t,e){return"SHA-"+e}));f[t]={sign:u(e),verify:c(e)}})),t.exports=f},3748:function(t,e,r){"use strict";var n=r(4476).Buffer;"undefined"==typeof Promise&&r(2702).polyfill(),e.int32ToBuffer=function(t,e){return(e=e||n.alloc(4))[0]=t>>>24&255,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=255&t,e};var i=Math.pow(2,32);e.int64ToBuffer=function(t,r){r=r||n.alloc(8);var a=Math.floor(t/i),o=t%i;return a=e.int32ToBuffer(a),o=e.int32ToBuffer(o),n.concat([a,o])};var a={};Object.defineProperty(e,"subtleCrypto",{get:function(){return"subtleCrypto"in a?a.subtleCrypto:a.subtleCrypto=function(){if("undefined"!=typeof crypto&&void 0!==crypto.subtle)return crypto.subtle}()},enumerable:!0}),Object.defineProperty(e,"nodeCrypto",{get:function(){return"nodeCrypto"in a?a.nodeCrypto:a.nodeCrypto=function(){var t;try{t=r(3438)}catch(t){return}if(Object.keys(t).length)return t}()},enumerable:!0}),e.setupFallback=function(t,r,n){return t&&e.nodeCrypto?function(){var e,r=arguments;function i(t){return 0===t.message.indexOf("unsupported algorithm:")?n.apply(null,r):Promise.reject(t)}try{e=Promise.resolve(t.apply(null,r))}catch(t){e=i(t)}return e}:r&&e.subtleCrypto?function(){var t,e=arguments;function i(t){return t.code!==DOMException.NOT_SUPPORTED_ERR&&"Only ArrayBuffer and ArrayBufferView objects can be passed as CryptoOperationData"!==t.message&&t instanceof Error?Promise.reject(t):n.apply(null,e)}try{t=(t=r.apply(null,e)).catch(i)}catch(e){t=i(e)}return t}:n}},5141:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(414),a=r(1733);function o(t){var e=t.replace("HKDF-",""),r=t.replace("HKDF-SHA-","HS");return function(t,o){var s=i.HASHLENGTH[e]/8;"string"==typeof r&&(r=a[r].sign);var u=(o=o||{}).salt;u&&0!==u.length||(u=n.alloc(s));var c=o.info||n.alloc(0),f=o.length||s,l=Math.ceil(f/s),h=[],p=0;function d(t,e){return l===p++?n.concat(h).slice(0,f):(e||(e=n.alloc(0)),e=n.concat([e,c,n.from([p])]),e=(e=r(t,e)).then((function(r){return e=r.mac,h.push(e),d(t,e)})))}return r(u,t,{length:8*u.length}).then((function(t){return d(t.mac)}))}}var s={};["HKDF-SHA-1","HKDF-SHA-256","HKDF-SHA-384","HKDF-SHA-512"].forEach((function(t){s[t]={derive:o(t)}})),t.exports=s},1733:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(414),a=r(6280),o=r(4678),s=r(3748);function u(t){var e=t.replace("HS","SHA").toLowerCase(),r=t.replace("HS","SHA-");function o(t,e){return(t=(t||i.HASHLENGTH[r])/8)>e.length?Promise.reject(new Error("invalid key length")):Promise.resolve(e)}return s.setupFallback((function(t,r,n){return o((n=n||{}).length,t).then((function(){var n=s.nodeCrypto.createHmac(e,t);n.update(r);var i=n.digest();return{data:r,mac:i}}))}),(function(t,e,i){var a={name:"HMAC",hash:{name:r}};return o((i=i||{}).length,t).then((function(){return s.subtleCrypto.importKey("raw",t,a,!0,["sign"])})).then((function(t){return s.subtleCrypto.sign(a,t,e)})).then((function(t){var r=n.from(t);return{data:e,mac:r}}))}),(function(t,r,i){return o((i=i||{}).length,t).then((function(){var i=a.hmac.create();return i.start(e,t.toString("binary")),i.update(r.toString("binary")),i=n.from(i.digest().bytes(),"binary"),{data:r,mac:i}}))}))}function c(t){var e=t.replace("HS","SHA").toLowerCase(),r=t.replace("HS","SHA-");function u(t,e,n){t=(t||i.HASHLENGTH[r])/8;for(var a=!0,o=0;t>o;o++)a=a&&e[o]===n[o];return a}return s.setupFallback((function(t,r,n,i){i=i||{};var a=s.nodeCrypto.createHmac(e,t);a.update(r);var o=a.digest();if(!u(i.length,n,o))throw new Error("verification failed");return{data:r,mac:o,valid:!0}}),(function(t,e,i,a){var o={name:"HMAC",hash:{name:r}};return((a=a||{}).length?s.subtleCrypto.importKey("raw",t,o,!0,["sign"]).then((function(t){return s.subtleCrypto.sign(o,t,e)})).then((function(t){var e=n.from(t);return u(a.length,i,e)})):s.subtleCrypto.importKey("raw",t,o,!0,["verify"]).then((function(t){return s.subtleCrypto.verify(o,t,i,e)}))).then((function(t){return t?{data:e,mac:i,valid:!0}:Promise.reject(new Error("verifaction failed"))}))}),(function(t,r,i,s){s=s||{};var c=a.hmac.create();return c.start(e,new o(t)),c.update(r.toString("binary")),c=n.from(c.digest().bytes(),"binary"),u(s.length,i,c)?Promise.resolve({data:r,mac:i,valid:!0}):Promise.reject(new Error("verification failed"))}))}var f={};["HS1","HS256","HS384","HS512"].forEach((function(t){f[t]={sign:u(t),verify:c(t)}})),t.exports=f},5382:function(t,e,r){"use strict";var n=[r(1379),r(2736),r(4179),r(2319),r(2274),r(3724),r(4008),r(5141),r(1733),r(152),r(3516),r(4658),r(8545)],i={},a={},o={},s={},u={},c={};n.forEach((function(t){Object.keys(t).forEach((function(e){var r=t[e];"function"==typeof r.encrypt&&(u[e]=r.encrypt),"function"==typeof r.decrypt&&(c[e]=r.decrypt),"function"==typeof r.sign&&(o[e]=r.sign),"function"==typeof r.verify&&(s[e]=r.verify),"function"==typeof r.digest&&(i[e]=r.digest),"function"==typeof r.derive&&(a[e]=r.derive)}))})),e.digest=function(t,e,r){var n=i[t];return n?n(e,r):Promise.reject(new Error("unsupported algorithm: "+t))},e.derive=function(t,e,r){var n=a[t];return n?n(e,r):Promise.reject(new Error("unsupported algorithm: "+t))},e.sign=function(t,e,r,n){var i=o[t];return i?i(e,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+t))},e.verify=function(t,e,r,n,i){var a=s[t];return a?a(e,r,n,i||{}):Promise.reject(new Error("unsupported algorithm: "+t))},e.encrypt=function(t,e,r,n){var i=u[t];return i?i(e,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+t))},e.decrypt=function(t,e,r,n){var i=c[t];return i?i(e,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+t))}},152:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(6280),a=r(5029),o=r(4237),s=r(3748),u=r(414),c=r(4179),f=n.from([0]);function l(t,e,r){var i="PBES2-"+t+"+"+e,a=[n.from(i,"utf8"),f,r];return n.concat(a)}function h(t){function e(t){var e=(t=t||{}).length||0,r=o.asBuffer(t.salt||n.alloc(0),"base64u4l"),i=t.iterations||0;if(0>=e)throw new Error("invalid key length");if(0>=i)throw new Error("invalid iteration count");return t.length=e,t.salt=r,t.iterations=i,t}return s.setupFallback((function(r,n){if(6>s.nodeCrypto.pbkdf2.length)throw new Error("unsupported algorithm: PBKDF2-"+t);try{n=e(n)}catch(t){return Promise.reject(t)}var i=n.length,a=n.salt,o=n.iterations,u=t.replace("-","");return new Promise((function(t,e){s.nodeCrypto.pbkdf2(r,a,o,i,u,(function(r,n){r?e(r):t(n)}))}))}),(function(r,n){try{n=e(n)}catch(t){return Promise.reject(t)}var i=n.length,a=n.salt,u=n.iterations,c=Promise.resolve(r);return(c=(c=c.then((function(t){return s.subtleCrypto.importKey("raw",t,"PBKDF2",!1,["deriveBits"])}))).then((function(e){var r={name:"PBKDF2",salt:new Uint8Array(a),iterations:u,hash:t};return s.subtleCrypto.deriveBits(r,e,8*i)}))).then((function(t){return o.asBuffer(t)}))}),(function(r,a){try{a=e(a)}catch(t){return Promise.reject(t)}var o=a.length,s=a.salt,u=a.iterations;return new Promise((function(e,a){var c=i.md[t.replace("-","").toLowerCase()].create();i.pkcs5.pbkdf2(r.toString("binary"),s.toString("binary"),u,o,c,(function(t,r){t?a(t):(r=n.from(r,"binary"),e(r))}))}))}))}function p(t,e){var r="PBKDF2-"+t.replace("HS","SHA-"),i=u.KEYLENGTH[e]/8;return function(s,u,f){f=f||{};var h=o.asBuffer(f.p2s||n.alloc(0),"base64url"),p=f.p2c||8192;if(0>=p)throw new Error("invalid iteration count");if(0===h.length)h=o.randomBytes(16);else if(8>h.length)throw new Error("salt too small");var d={p2s:o.base64url.encode(h),p2c:p};h=l(t,e,h),f=a(f,{salt:h,iterations:p,length:i});var g=Promise.resolve(s);return(g=(g=g.then((function(t){return y[r].derive(t,f)}))).then((function(t){return c[e].encrypt(t,u)}))).then((function(t){return t.header=a(t.header||{},d),t}))}}function d(t,e){var r="PBKDF2-"+t.replace("HS","SHA-"),i=u.KEYLENGTH[e]/8;return function(s,u,f){f=f||{};var h=o.asBuffer(f.p2s||n.alloc(0),"base64url"),p=f.p2c||0;if(0>=p)return Promise.reject(new Error("invalid iteration count"));if(8>h.length)return Promise.reject(new Error("salt too small"));h=l(t,e,h),f=a(f,{salt:h,iterations:p,length:i});var d=Promise.resolve(s);return(d=d.then((function(t){return y[r].derive(t,f)}))).then((function(t){return c[e].decrypt(t,u)}))}}var y={};["PBKDF2-SHA-256","PBKDF2-SHA-384","PBKDF2-SHA-512"].forEach((function(t){var e=t.replace("PBKDF2-","");y[t]={derive:h(e)}})),["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"].forEach((function(t){var e=/PBES2-(HS\d+)\+(A\d+KW)/g.exec(t),r=e[1],n=e[2];y[t]={encrypt:p(r,n),decrypt:d(r,n)}})),t.exports=y},8501:function(t,e,r){"use strict";var n=r(6678),i=r(6280),a=r(4237);function o(t,e){var r=e?["n","e"]:["n","e","d","p","q","dp","dq","qi"];return r=r.map((function(e){return new i.jsbn.BigInteger(t[e].toString("hex"),16)})),(e?i.pki.rsa.setPublicKey:i.pki.rsa.setPrivateKey).apply(i.pki.rsa,r)}t.exports={convertToForge:o,convertToJWK:function(t,e){var r=n(t);return(e?["n","e"]:["n","e","d","p","q","dp","dq","qi"]).forEach((function(t){r[t]=a.base64url.encode(r[t])})),delete r.key_ops,delete r.use,delete r.alg,e&&(delete r.d,delete r.p,delete r.q,delete r.dp,delete r.dq,delete r.qi),r},convertToPem:function(t,e){var r,n=e?"__cachedPublicPem":"__cachedPrivatePem";return t[n]?t[n]:(r=e?i.pki.publicKeyToPem(o(t,e)):i.pki.privateKeyToPem(o(t,e)),Object.defineProperty(t,n,{value:r}),r)}}},3516:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(6280),a=r(3748),o=r(4678),s=r(8501),u={"RSA-OAEP":"RSA_PKCS1_OAEP_PADDING",RSA1_5:"RSA_PKCS1_PADDING"};function c(t){return a.nodeCrypto&&a.nodeCrypto.constants&&-1!==Object.keys(u).indexOf(t)}function f(t){var e,r,f={name:t};return"RSA-OAEP-256"===t?(f.name="RSA-OAEP",f.hash={name:"SHA-256"}):"RSA-OAEP"===t?f.hash={name:"SHA-1"}:f.name="RSAES-PKCS1-v1_5",e="RSAES-PKCS1-v1_5"!==f.name?function(t,e){return t=s.convertToJWK(t,!0),a.subtleCrypto.importKey("jwk",t,f,!0,["encrypt"]).then((function(t){return a.subtleCrypto.encrypt(f,t,e)})).then((function(t){return{data:n.from(t)}}))}:null,c(t)&&(r=function(e,r){return e=s.convertToPem(e,!0),{data:a.nodeCrypto.publicEncrypt({key:e,padding:a.nodeCrypto.constants[u[t]]},r)}}),a.setupFallback(r,e,(function(t,e){e=new o(e).bytes();var r=s.convertToForge(t,!0),n={};"RSA-OAEP"===f.name&&(n.md=f.hash.name.toLowerCase().replace(/-/g,""),n.md=i.md[n.md].create());var a=r.encrypt(e,f.name.toUpperCase(),n);return a=new o(a).native(),Promise.resolve({data:a})}))}function l(t){var e,r,f={name:t};return"RSA-OAEP-256"===t?(f.name="RSA-OAEP",f.hash={name:"SHA-256"}):"RSA-OAEP"===t?f.hash={name:"SHA-1"}:f.name="RSAES-PKCS1-v1_5",e="RSAES-PKCS1-v1_5"!==f.name?function(t,e){return t=s.convertToJWK(t,!1),a.subtleCrypto.importKey("jwk",t,f,!0,["decrypt"]).then((function(t){return a.subtleCrypto.decrypt(f,t,e)})).then((function(t){return n.from(t)}))}:null,c(t)?r=function(e,r){return e=s.convertToPem(e,!1),a.nodeCrypto.privateDecrypt({key:e,padding:a.nodeCrypto.constants[u[t]]},r)}:a.nodeCrypto&&"RSA-OAEP"===t&&(r=function(t,e){return t=s.convertToPem(t,!1),a.nodeCrypto.privateDecrypt(t,e)}),a.setupFallback(r,e,(function(t,e){e=new o(e).bytes();var r=s.convertToForge(t,!1),n={};"RSA-OAEP"===f.name&&(n.md=f.hash.name.toLowerCase().replace(/-/g,""),n.md=i.md[n.md].create());var a=r.decrypt(e,f.name.toUpperCase(),n);return a=new o(a).native(),Promise.resolve(a)}))}var h={};["RSA-OAEP","RSA-OAEP-256","RSA1_5"].forEach((function(t){h[t]={encrypt:f(t),decrypt:l(t)}})),t.exports=h},4658:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(6280),a=r(414),o=r(3748),s=r(8501);function u(){return o.nodeCrypto&&o.nodeCrypto.constants&&o.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST}function c(t){var e,r=t.replace("RS","SHA").toLowerCase(),a=t.replace("RS","SHA-"),u={name:"RSASSA-PKCS1-V1_5",hash:{name:a}},c="RSA-"+a.replace("-","");return o.nodeCrypto&&o.nodeCrypto.getHashes().indexOf(c)>-1&&(e=function(t,e){var r=o.nodeCrypto.createSign(c);return r.update(e),{data:e,mac:r.sign(s.convertToPem(t,!1))}}),o.setupFallback(e,(function(t,e){return t=s.convertToJWK(t,!1),o.subtleCrypto.importKey("jwk",t,u,!0,["sign"]).then((function(t){return o.subtleCrypto.sign(u,t,e)})).then((function(t){var r=n.from(t);return{data:e,mac:r}}))}),(function(t,e){var a=i.md[r].create();a.start(),a.update(e);var o=s.convertToForge(t,!1).sign(a,"RSASSA-PKCS1-V1_5");return o=n.from(o,"binary"),Promise.resolve({data:e,mac:o})}))}function f(t){var e,r=t.replace("RS","SHA").toLowerCase(),n={name:"RSASSA-PKCS1-V1_5",hash:{name:t.replace("RS","SHA-")}};return o.nodeCrypto&&o.nodeCrypto.getHashes().indexOf(r)>-1&&(e=function(t,e,n){var i=o.nodeCrypto.createVerify(r);return i.update(e),i.end(),i.verify(s.convertToPem(t,!0),n)?{data:e,mac:n,valid:!0}:Promise.reject(new Error("verification failed"))}),o.setupFallback(e,(function(t,e,r){return t=s.convertToJWK(t,!0),o.subtleCrypto.importKey("jwk",t,n,!0,["verify"]).then((function(t){return o.subtleCrypto.verify(n,t,r,e)})).then((function(t){return t?{data:e,mac:r,valid:!0}:Promise.reject(new Error("verification failed"))}))}),(function(t,e,n){var a=i.md[r].create();a.start(),a.update(e),a=a.digest().bytes();var o=s.convertToForge(t,!0),u=n.toString("binary");return o.verify(a,u,"RSASSA-PKCS1-V1_5")?Promise.resolve({data:e,mac:n,valid:!0}):Promise.reject(new Error("verification failed"))}))}function l(t){var e,r=t.replace("PS","SHA").toLowerCase(),c=t.replace("PS","SHA-"),f={name:"RSA-PSS",hash:{name:c},saltLength:a.HASHLENGTH[c]/8},l="RSA-"+c.replace("-","");return u()&&(e=function(t,e){var r=o.nodeCrypto.createSign(l);return r.update(e),{data:e,mac:r.sign({key:s.convertToPem(t,!1),padding:o.nodeCrypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST})}}),o.setupFallback(e,(function(t,e){return t=s.convertToJWK(t,!1),o.subtleCrypto.importKey("jwk",t,f,!0,["sign"]).then((function(t){return o.subtleCrypto.sign(f,t,e)})).then((function(t){var r=n.from(t);return{data:e,mac:r}}))}),(function(t,e){var o=i.md[r].create();o.start(),o.update(e);var u=i.pss.create({md:i.md[r].create(),mgf:i.mgf.mgf1.create(i.md[r].create()),saltLength:a.HASHLENGTH[c]/8}),f=s.convertToForge(t,!1).sign(o,u);return f=n.from(f,"binary"),Promise.resolve({data:e,mac:f})}))}function h(t){var e,r=t.replace("PS","SHA").toLowerCase(),n=t.replace("PS","SHA-"),c={name:"RSA-PSS",hash:{name:n},saltLength:a.HASHLENGTH[n]/8};return u()&&(e=function(t,e,n){var i=o.nodeCrypto.createVerify(r);return i.update(e),i.end(),i.verify({key:s.convertToPem(t,!0),padding:o.nodeCrypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST},n)?{data:e,mac:n,valid:!0}:Promise.reject(new Error("verification failed"))}),o.setupFallback(e,(function(t,e,r){return t=s.convertToJWK(t,!0),o.subtleCrypto.importKey("jwk",t,c,!0,["verify"]).then((function(t){return o.subtleCrypto.verify(c,t,r,e)})).then((function(t){return t?{data:e,mac:r,valid:!0}:Promise.reject(new Error("verification failed"))}))}),(function(t,e,o){var u=i.md[r].create();u.start(),u.update(e),u=u.digest().bytes();var c=i.pss.create({md:i.md[r].create(),mgf:i.mgf.mgf1.create(i.md[r].create()),saltLength:a.HASHLENGTH[n]/8}),f=s.convertToForge(t,!0),l=o.toString("binary");return f.verify(u,l,c)?Promise.resolve({data:e,mac:o,valid:!0}):Promise.reject(new Error("verification failed"))}))}var p={};["PS256","PS384","PS512"].forEach((function(t){p[t]={sign:l(t),verify:h(t)}})),["RS256","RS384","RS512"].forEach((function(t){p[t]={sign:c(t),verify:f(t)}})),t.exports=p},8545:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(6280),a=r(3748),o={};["SHA-1","SHA-256","SHA-384","SHA-512"].forEach((function(t){var e,r,s;o[t]={digest:(e=t,r=e.replace("SHA-","SHA").toLowerCase(),s={name:e},a.setupFallback((function(t){var e=a.nodeCrypto.createHash(r);return e.update(t),e.digest()}),(function(t){return a.subtleCrypto.digest(s,t).then((function(t){return n.from(t)}))}),(function(t){var e=i.md[r].create();return e.update(t.toString("binary")),e=n.from(e.digest().bytes(),"binary"),Promise.resolve(e)})))}})),t.exports=o},2150:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(3720),a=r(9873),o=r(3891),s=3774873600,u=new i(s>>8),c=t.exports={E1:s,E1B:225,E1L:u,LOOKUP:function(){for(var t=[],e=0;e<256;++e){for(var r=0,n=7;n>=0;--n)0!=(e&1<<n)&&(r^=s>>>7-n);t.push(r)}return t}(),arrayCopy:function(t,e,r,n,i){if(e<0||n<0||i<0)throw new TypeError("Invalid input.");if(r instanceof Uint8Array){if(n>=r.length||n+i>r.length)throw new TypeError("Invalid input.");(0!==e||i<t.length)&&(t=t instanceof Uint8Array?t.subarray(e,e+i):t.slice(e,e+i)),r.set(t,n)}else for(var a=0;a<i;++a)r[n+a]=t[e+a]},arrayEqual:function(t,e){t=t||[],e=e||[];for(var r=Math.min(t.length,e.length),n=t.length===e.length,i=0;i<r;i++)n=n&&void 0!==t[i]&&void 0!==e[i]&&t[i]===e[i];return n},asBytes:function(t,e){switch(arguments.length){case 1:return e=n.alloc(16),o.intToBigEndian(t,e,0),e;case 2:o.intToBigEndian(t,e,0);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},asInts:function(t,e){switch(arguments.length){case 1:return a(e=[],0,0,4),o.bigEndianToInt(t,0,e),e;case 2:o.bigEndianToInt(t,0,e);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},oneAsInts:function(){for(var t=[],e=0;e<4;++e)t.push(1<<31);return t},shiftRight:function(t,e){var r,n;switch(arguments.length){case 1:return r=t[0],t[0]=r>>>1,n=r<<31,r=t[1],t[1]=r>>>1|n,n=r<<31,r=t[2],t[2]=r>>>1|n,n=r<<31,r=t[3],t[3]=r>>>1|n,r<<31&4294967295;case 2:return r=t[0],e[0]=r>>>1,n=r<<31,r=t[1],e[1]=r>>>1|n,n=r<<31,r=t[2],e[2]=r>>>1|n,n=r<<31,r=t[3],e[3]=r>>>1|n,r<<31&4294967295;default:throw new TypeError("Expected 1 or 2 arguments.")}},shiftRightN:function(t,e,r){var n,i,a;switch(arguments.length){case 2:return i=t[0],n=32-e,t[0]=i>>>e,a=i<<n,i=t[1],t[1]=i>>>e|a,a=i<<n,i=t[2],t[2]=i>>>e|a,a=i<<n,i=t[3],t[3]=i>>>e|a,i<<n;case 3:return i=t[0],n=32-e,r[0]=i>>>e,a=i<<n,i=t[1],r[1]=i>>>e|a,a=i<<n,i=t[2],r[2]=i>>>e|a,a=i<<n,i=t[3],r[3]=i>>>e|a,i<<n;default:throw new TypeError("Expected 2 or 3 arguments.")}},xor:function(t,e,r){switch(arguments.length){case 2:t[0]^=e[0],t[1]^=e[1],t[2]^=e[2],t[3]^=e[3];break;case 3:r[0]=t[0]^e[0],r[1]=t[1]^e[1],r[2]=t[2]^e[2],r[3]=t[3]^e[3];break;default:throw new TypeError("Expected 2 or 3 arguments.")}},multiply:function(t,e){for(var r=t.slice(),n=[],i=0;i<4;++i)for(var a=e[i],o=31;o>=0;--o)0!=(a&1<<o)&&c.xor(n,r),0!==c.shiftRight(r)&&(r[0]^=c.E1);c.arrayCopy(n,0,t,0,4)},multiplyP:function(t,e){switch(arguments.length){case 1:0!==c.shiftRight(t)&&(t[0]^=c.E1);break;case 2:0!==c.shiftRight(t,e)&&(e[0]^=c.E1);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},multiplyP8:function(t,e){var r;switch(arguments.length){case 1:r=c.shiftRightN(t,8),t[0]^=c.LOOKUP[r>>>24];break;case 2:r=c.shiftRightN(t,8,e),e[0]^=c.LOOKUP[r>>>24];break;default:throw new TypeError("Expected 1 or 2 arguments.")}}}},9560:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(3720),a=r(6280),o=r(8140),s=r(2150),u=r(3891),c=r(4678),f=r(7826);function l(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=this.blockSize||16}t.exports={createCipher:function(t){var e=new a.aes.Algorithm("AES-GCM",l);return e.initialize({key:new c(t.key)}),e.mode.start(t),e.mode},createDecipher:function(t){var e=new a.aes.Algorithm("AES-GCM",l);return e.initialize({key:new c(t.key)}),e.mode._decrypt=!0,e.mode.start(t),e.mode}},l.prototype.start=function(t){if(this.tag=null,!("iv"in(t=t||{})))throw new Error("Gcm needs ParametersWithIV or AEADParameters");if(this.nonce=t.iv,null==this.nonce||this.nonce.length<1)throw new Error("IV must be at least 1 byte");this.tagLength=16,"tag"in t&&(this.tag=n.from(t.tag));var e=this._decrypt?this.blockSize+this.tagLength:this.blockSize;this.bufBlock=n.alloc(e);var r=t.multiplier;if(null==r&&(r=new o["8k"]),this.multiplier=r,this.H=this.zeroBlock(),f.encrypt(this.cipher,this.H,0,this.H,0),this.multiplier.init(this.H),this.exp=null,this.J0=this.zeroBlock(),12===this.nonce.length)this.nonce.copy(this.J0,0,0,this.nonce.length),this.J0[this.blockSize-1]=1;else{this.gHASH(this.J0,this.nonce,this.nonce.length);var a=this.zeroBlock();u.longToBigEndian(new i(this.nonce.length).multiply(8),a,8),this.gHASHBlock(this.J0,a)}this.S=this.zeroBlock(),this.SAt=this.zeroBlock(),this.SAtPre=this.zeroBlock(),this.atBlock=this.zeroBlock(),this.atBlockPos=0,this.atLength=i.ZERO,this.atLengthPre=i.ZERO,this.counter=n.from(this.J0),this.bufOff=0,this.totalLength=i.ZERO,"additionalData"in t&&this.processAADBytes(t.additionalData,0,t.additionalData.length)},l.prototype.update=function(t,e,r,n,i){for(var a=0;r>0;){var o=Math.min(r,this.bufBlock.length-this.bufOff);t.copy(this.bufBlock,this.bufOff,e,e+o),r-=o,e+=o,this.bufOff+=o,this.bufOff===this.bufBlock.length&&(this.outputBlock(n,i+a),a+=this.blockSize)}return a},l.prototype.finish=function(t,e){var r=0;this._decrypt&&(r+=this.update(this.tag,0,this.tag.length,t,e)),this.totalLength.isZero()&&this.initCipher();var i=this.bufOff;if(this._decrypt){if(i<this.tagLength)throw new Error("data too short");i-=this.tagLength}i>0&&(this.gCTRPartial(this.bufBlock,0,i,t,e+r),r+=i),this.atLength=this.atLength.add(this.atBlockPos);var a=this.zeroBlock();u.longToBigEndian(this.atLength.multiply(8),a,0),u.longToBigEndian(this.totalLength.multiply(8),a,8),this.gHASHBlock(this.S,a);var o=n.alloc(this.blockSize);if(f.encrypt(this.cipher,this.J0,0,o,0),this.xor(o,this.S),this._decrypt){if(!s.arrayEqual(this.tag,o))throw new Error("mac check in Gcm failed")}else this.tag=n.alloc(this.tagLength),o.copy(this.tag,0,0,this.tagLength);return r},l.prototype.initCipher=function(){this.atLength.greaterThan(i.ZERO)&&(this.SAt.copy(this.SAtPre,0,0,this.blockSize),this.atLengthPre=this.atLength.add(i.ZERO)),this.atBlockPos>0&&(this.gHASHPartial(this.SAtPre,this.atBlock,0,this.atBlockPos),this.atLengthPre=this.atLengthPre.add(this.atBlockPos)),this.atLengthPre.greaterThan(i.ZERO)&&this.SAtPre.copy(this.S,0,0,this.blockSize)},l.prototype.outputBlock=function(t,e){this.totalLength.isZero()&&this.initCipher(),this.gCTRBlock(this.bufBlock,t,e),this._decrypt?(this.bufBlock.copy(this.bufBlock,0,this.blockSize,this.blockSize+this.tagLength),this.bufOff=this.tagLength):this.bufOff=0},l.prototype.processAADBytes=function(t,e,r){for(var n=0;n<r;++n)this.atBlock[this.atBlockPos]=t[e+n],++this.atBlockPos===this.blockSize&&(this.gHASHBlock(this.SAt,this.atBlock),this.atBlockPos=0,this.atLength=this.atLength.add(this.blockSize))},l.prototype.getNextCounterBlock=function(){for(var t=15;t>=12;--t){var e=this.counter[t]+1&255;if(this.counter[t]=e,0!==e)break}var r=n.alloc(this.blockSize);return f.encrypt(this.cipher,this.counter,0,r,0),r},l.prototype.gCTRBlock=function(t,e,r){var n=this.getNextCounterBlock();this.xor(n,t),n.copy(e,r,0,this.blockSize),this.gHASHBlock(this.S,this._decrypt?t:n),this.totalLength=this.totalLength.add(this.blockSize)},l.prototype.gCTRPartial=function(t,e,r,n,i){var a=this.getNextCounterBlock();this.xor(a,t,e,r),a.copy(n,i,0,r),this.gHASHPartial(this.S,this._decrypt?t:a,0,r),this.totalLength=this.totalLength.add(r)},l.prototype.gHASHBlock=function(t,e){this.xor(t,e),this.multiplier.multiplyH(t)},l.prototype.gHASHPartial=function(t,e,r,n){this.xor(t,e,r,n),this.multiplier.multiplyH(t)},l.prototype.xor=function(t,e,r,n){switch(arguments.length){case 2:for(var i=15;i>=0;--i)t[i]^=e[i];break;case 4:for(;n-- >0;)t[n]^=e[r+n];break;default:throw new TypeError("Expected 2 or 4 arguments.")}return t},l.prototype.zeroBlock=function(){return n.alloc(16)}},8140:function(t,e,r){"use strict";var n=r(2150),i=r(3891);function a(){this.H=[],this.M=null}a.prototype.init=function(t){var e,r,i;if(null==this.M)for(this.M=[],e=0;e<32;++e)for(this.M[e]=[],r=0;r<16;++r)for(this.M[e][r]=[],i=0;i<4;++i)this.M[e][r][i]=0;else if(n.arrayEqual(this.H,t))return;for(this.H=t.slice(),n.asInts(t,this.M[1][8]),r=4;r>=1;r>>=1)n.multiplyP(this.M[1][r+r],this.M[1][r]);for(n.multiplyP(this.M[1][1],this.M[0][8]),r=4;r>=1;r>>=1)n.multiplyP(this.M[0][r+r],this.M[0][r]);for(e=0;;){for(r=2;r<16;r+=r)for(i=1;i<r;++i)n.xor(this.M[e][r],this.M[e][i],this.M[e][r+i]);if(32==++e)return;if(e>1)for(r=8;r>0;r>>=1)n.multiplyP8(this.M[e-2][r],this.M[e][r])}},a.prototype.multiplyH=function(t){for(var e=[],r=15;r>=0;--r){var n=this.M[r+r][15&t[r]];e[0]^=n[0],e[1]^=n[1],e[2]^=n[2],e[3]^=n[3],n=this.M[r+r+1][(240&t[r])>>>4],e[0]^=n[0],e[1]^=n[1],e[2]^=n[2],e[3]^=n[3]}i.intToBigEndian(e,t,0)},t.exports={"8k":a}},7826:function(t,e,r){"use strict";var n=r(3891);t.exports={encrypt:function(t,e,r,i,a){var o=new Array(4),s=new Array(4);n.bigEndianToInt(e,r,o),t.encrypt(o,s),n.intToBigEndian(s,i,a)}}},3891:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(3720),a=t.exports={intToBigEndian:function(t,e,r){if("number"==typeof t)switch(arguments.length){case 1:e=n.alloc(4),a.intToBigEndian(t,e,0);break;case 3:e[r]=255&t>>>24,e[++r]=255&t>>>16,e[++r]=255&t>>>8,e[++r]=255&t;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:e=n.alloc(4*t.length),a.intToBigEndian(t,e,0);break;case 3:for(var i=0;i<t.length;++i)a.intToBigEndian(t[i],e,r),r+=4;break;default:throw new TypeError("Expected 1 or 3 arguments.")}return e},longToBigEndian:function(t,e,r){if(Array.isArray(t))switch(arguments.length){case 1:e=n.alloc(8*t.length),a.longToBigEndian(t,e,0);break;case 3:for(var i=0;i<t.length;++i)a.longToBigEndian(t[i],e,r),r+=8;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:e=n.alloc(8),a.longToBigEndian(t,e,0);break;case 3:var o=t.low,s=t.high;a.intToBigEndian(s,e,r),a.intToBigEndian(o,e,r+4);break;default:throw new TypeError("Expected 1 or 3 arguments.")}return e},bigEndianToInt:function(t,e,r){switch(arguments.length){case 2:var n=t[e]<<24;return n|=(255&t[++e])<<16,(n|=(255&t[++e])<<8)|255&t[++e];case 3:for(var i=0;i<r.length;++i)r[i]=a.bigEndianToInt(t,e),e+=4;break;default:throw new TypeError("Expected 2 or 3 arguments.")}},bigEndianToLong:function(t,e,r){switch(arguments.length){case 2:var n=a.bigEndianToInt(t,e),o=a.bigEndianToInt(t,e+4),s=new i(o,n);return s;case 3:for(var u=0;u<r.length;++u)r[u]=a.bigEndianToLong(t,e),e+=8;break;default:throw new TypeError("Expected 2 or 3 arguments.")}}}},6778:function(t,e,r){"use strict";var n=r(6280).jsbn.BigInteger,i=r(1884);function a(t,e,r,n){this.curve=t,this.g=e,this.n=r,this.h=n}function o(t){return new n(t,16)}a.prototype.getCurve=function(){return this.curve},a.prototype.getG=function(){return this.g},a.prototype.getN=function(){return this.n},a.prototype.getH=function(){return this.h};var s,u,c,f,l,h,p,d=t.exports={secp256r1:(s=o("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),u=o("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),c=o("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),f=o("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),l=n.ONE,h=new i.ECCurveFp(s,u,c),p=h.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5"),new a(h,p,f,l)),secp384r1:function(){var t=o("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF"),e=o("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC"),r=o("B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF"),s=o("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973"),u=n.ONE,c=new i.ECCurveFp(t,e,r),f=c.decodePointHex("04AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB73617DE4A96262C6F5D9E98BF9292DC29F8F41DBD289A147CE9DA3113B5F0B8C00A60B1CE1D7E819D7A431D7C90EA0E5F");return new a(c,f,s,u)}(),secp521r1:function(){var t=o("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"),e=o("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC"),r=o("0051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00"),s=o("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409"),u=n.ONE,c=new i.ECCurveFp(t,e,r),f=c.decodePointHex("0400C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66011839296A789A3BC0045C8A5FB42C7D1BD998F54449579B446817AFBD17273E662C97EE72995EF42640C550B9013FAD0761353C7086A272C24088BE94769FD16650");return new a(c,f,s,u)}()};d["P-256"]=d.secp256r1,d["P-384"]=d.secp384r1,d["P-521"]=d.secp521r1},1634:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(6280),a=i.jsbn.BigInteger,o=r(1884),s=r(6778);function u(t){return new a(t,16)}function c(t,e){e||(e=Math.ceil(t.bitLength()/8)),e*=2;var r=t.toString(16);for(r=r.substring(Math.max(r.length-e,0));e>r.length;)r="0"+r;return n.from(r,"hex")}function f(t){return"string"==typeof t&&(t=n.from(t,"binary")),u(t.toString("hex"))}function l(t){return Math.ceil(t.getN().bitLength()/8)}function h(t){var e=s[t];if(!e)throw new TypeError("unsupported named curve: "+t);return e}function p(t,e){var r=t.getN().bitLength(),n=8*e.length,i=f(e);return r<n&&(i=i.shiftRight(n-r)),i}function d(t,e,r){var n=h(t),i=n.getCurve(),a=new o.ECPointFp(i,i.fromBigInteger(e),i.fromBigInteger(r));this.curve=t,this.params=n,this.point=a;var s=l(n);this.x=c(e,s),this.y=c(r,s)}function y(t,e){var r=h(t);this.curve=t,this.params=r;var n=l(r);this.d=c(e,n)}d.prototype.isValid=function(){return this.params.curve.contains(this.point)},d.prototype.verify=function(t,e){var r=this.params.getN(),n=this.params.getG(),i=f(e.r),o=f(e.s);if(i.compareTo(a.ONE)<0||i.compareTo(r)>=0)return!1;if(o.compareTo(a.ONE)<0||i.compareTo(r)>=0)return!1;var s=p(this.params,t),u=o.modInverse(r),c=s.multiply(u).mod(r),l=i.multiply(u).mod(r),h=n.multiplyTwo(c,this.point,l).getX().toBigInteger();return(h=h.mod(r)).equals(i)},y.prototype.toPublicKey=function(){var t=f(this.d),e=this.params.getG().multiply(t);return new d(this.curve,e.getX().toBigInteger(),e.getY().toBigInteger())},y.prototype.sign=function(t){var e,r,n,o,s=l(this.params),u=this.params.getN(),h=this.params.getG(),d=p(this.params,t),y=f(this.d);do{do{do{n=f(i.random.getBytes(s))}while(n.equals(a.ZERO)||n.compareTo(u)>=0);e=h.multiply(n).getX().toBigInteger().mod(u)}while(e.equals(a.ZERO));o=y.multiply(e),o=d.add(o),r=n.modInverse(u).multiply(o).mod(u)}while(r.equals(a.ONE));var g=l(this.params);return{r:e=c(e,g),s:r=c(r,g)}},y.prototype.isValid=function(){var t=f(this.d),e=this.params.getN().subtract(a.ONE);return t.compareTo(a.ONE)>=0&&t.compareTo(e)<0},y.prototype.computeSecret=function(t){var e=f(this.d),r=t.point.multiply(e).getX().toBigInteger();return c(r,l(this.params))},e.generateKeyPair=function(t){var e=h(t),r=e.getN(),n=i.random.getBytes(l(e));n=f(n);var o=r.subtract(a.ONE),s=new y(t,n.mod(o).add(a.ONE)),u=s.toPublicKey();return{private:s,public:u}},e.asPublicKey=function(t,e,r){return"string"==typeof e?e=u(e):n.isBuffer(e)&&(e=f(e)),"string"==typeof r?r=u(r):n.isBuffer(r)&&(r=f(r)),new d(t,e,r)},e.asPrivateKey=function(t,e){return"string"==typeof e?e=u(e):n.isBuffer(e)&&(e=f(e)),new y(t,e)}},1884:function(t,e,r){"use strict";var n=r(6280).jsbn.BigInteger;function i(){return new n(null)}function a(t){this.r2=i(),this.q3=i(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function o(t,e){this.x=e,this.p=t}function s(t,e,r,i){this.curve=t,this.x=e,this.y=r,this.z=i||n.ONE,this.zinv=null}function u(t,e,r){this.p=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(r),this.infinity=new s(this,null,null),this.reducer=new a(this.p)}a.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=i();return t.copyTo(e),this.reduce(e),e},a.prototype.revert=function(t){return t},a.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},a.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},a.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},o.prototype.equals=function(t){return t===this||this.p.equals(t.p)&&this.x.equals(t.x)},o.prototype.toBigInteger=function(){return this.x},o.prototype.negate=function(){return new o(this.p,this.x.negate().mod(this.p))},o.prototype.add=function(t){return new o(this.p,this.x.add(t.toBigInteger()).mod(this.p))},o.prototype.subtract=function(t){return new o(this.p,this.x.subtract(t.toBigInteger()).mod(this.p))},o.prototype.multiply=function(t){return new o(this.p,this.x.multiply(t.toBigInteger()).mod(this.p))},o.prototype.square=function(){return new o(this.p,this.x.pow(2).mod(this.p))},o.prototype.divide=function(t){return new o(this.p,this.x.multiply(t.toBigInteger().modInverse(this.p)).mod(this.p))},s.prototype.getX=function(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var t=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)},s.prototype.getY=function(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var t=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)},s.prototype.equals=function(t){return t===this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.p).equals(n.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.p).equals(n.ZERO))},s.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(n.ZERO)&&!this.y.toBigInteger().equals(n.ZERO)},s.prototype.negate=function(){return new s(this.curve,this.x,this.y.negate(),this.z)},s.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.p),r=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.p);if(n.ZERO.equals(r))return n.ZERO.equals(e)?this.twice():this.curve.getInfinity();var i=new n("3"),a=this.x.toBigInteger(),o=this.y.toBigInteger(),u=r.pow(2),c=u.multiply(r),f=a.multiply(u),l=e.pow(2).multiply(this.z),h=l.subtract(f.shiftLeft(1)).multiply(t.z).subtract(c).multiply(r).mod(this.curve.p),p=f.multiply(i).multiply(e).subtract(o.multiply(c)).subtract(l.multiply(e)).multiply(t.z).add(e.multiply(c)).mod(this.curve.p),d=c.multiply(this.z).multiply(t.z).mod(this.curve.p);return new s(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(p),d)},s.prototype.twice=function(){if(this.isInfinity())return this;if(0===this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new n("3"),e=this.x.toBigInteger(),r=this.y.toBigInteger(),i=r.multiply(this.z),a=i.multiply(r).mod(this.curve.p),o=this.curve.a.toBigInteger(),u=e.pow(2).multiply(t);n.ZERO.equals(o)||(u=u.add(this.z.pow(2).multiply(o)));var c=(u=u.mod(this.curve.p)).pow(2).subtract(e.shiftLeft(3).multiply(a)).shiftLeft(1).multiply(i).mod(this.curve.p),f=u.multiply(t).multiply(e).subtract(a.shiftLeft(1)).shiftLeft(2).multiply(a).subtract(u.pow(2).multiply(u)).mod(this.curve.p),l=i.pow(2).multiply(i).shiftLeft(3).mod(this.curve.p);return new s(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(f),l)},s.prototype.multiply=function(t){if(this.isInfinity())return this;if(0===t.signum())return this.curve.getInfinity();var e,r=t,i=r.multiply(new n("3")),a=this.negate(),o=this;for(e=i.bitLength()-2;e>0;--e){o=o.twice();var s=i.testBit(e);s!==r.testBit(e)&&(o=o.add(s?this:a))}return o},s.prototype.multiplyTwo=function(t,e,r){var n;n=t.bitLength()>r.bitLength()?t.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),a=this.add(e);n>=0;)i=i.twice(),t.testBit(n)?i=r.testBit(n)?i.add(a):i.add(this):r.testBit(n)&&(i=i.add(e)),--n;return i},u.prototype.getP=function(){return this.p},u.prototype.getA=function(){return this.a},u.prototype.getB=function(){return this.b},u.prototype.equals=function(t){return t===this||this.p.equals(t.p)&&this.a.equals(t.a)&&this.b.equals(t.b)},u.prototype.contains=function(t){var e=t.getX().toBigInteger(),r=t.getY().toBigInteger(),n=this.a.toBigInteger(),i=this.b.toBigInteger(),a=this.p,o=r.pow(2).mod(a),s=e.pow(3).add(n.multiply(e)).add(i).mod(a);return o.equals(s)},u.prototype.getInfinity=function(){return this.infinity},u.prototype.fromBigInteger=function(t){return new o(this.p,t)},u.prototype.reduce=function(t){this.reducer.reduce(t)},u.prototype.decodePointHex=function(t){switch(parseInt(t.substring(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(t.length-2)/2,r=t.substr(2,e),i=t.substr(e+2,e);return new s(this,this.fromBigInteger(new n(r,16)),this.fromBigInteger(new n(i,16)));default:return null}},u.prototype.encodePointHex=function(t){if(t.isInfinity())return"00";var e=t.getX().toBigInteger().toString(16),r=t.getY().toBigInteger().toString(16),n=this.getP().toString(16).length;for(n%2!=0&&n++;e.length<n;)e="0"+e;for(;r.length<n;)r="0"+r;return"04"+e+r},t.exports={ECFieldElementFp:o,ECPointFp:s,ECCurveFp:u}},6280:function(t,e,r){"use strict";var n,i,a=r(3832);function o(t){t=t||{},this.name="",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=new Array(this._blocks),this._outBlock=new Array(this._blocks)}r(8925),r(3068),r(5649),r(6607),r(3453),r(8960),r(6953),r(8936),r(9437),r(4742),r(9654),r(4933),r(6007),r(9563),r(137),r(1668),r(3219),r(7116),o.prototype.start=function(){},o.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;var n;for(n=0;n<this._blocks;++n)this._inBlock[n]=t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._blocks;++n)e.putInt32(this._outBlock[n])},o.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;var n;for(n=0;n<this._blocks;++n)this._inBlock[n]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._blocks;++n)e.putInt32(this._outBlock[n])},i=o,n=function(){return new a.aes.Algorithm("AES",i)},a.cipher.registerAlgorithm("AES",n),t.exports=a},1217:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(4155);"undefined"==typeof Promise&&r(2702).polyfill(),void 0===n&&((r.g||window).Buffer=r(4476).Buffer),void 0===i&&((r.g||window).process=r(4155)),i.version||(i.version="");var a=r(7118);t.exports={JWA:r(5382),JWE:r(701),JWK:r(2543),JWS:a,util:r(4237),parse:r(8650),canYouSee:a.createVerify}},4581:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(9752),a=r(3171),o=r(2543),s=r(5029),u=r(5967),c={algorithms:"*"};function f(t,e){var r,f;if(o.isKey(t))f=(r=t).keystore;else{if(!o.isKeyStore(t))throw new TypeError("Keystore must be provided");f=t}e=s(c,e),Object.defineProperty(this,"decrypt",{value:function(t,c){var l=(c=s({},e,c||{})).handlers||{},h=Object.keys(l),p=new a(c.algorithms);if("string"==typeof t)t={protected:(t=t.split("."))[0],recipients:[{encrypted_key:t[1]}],iv:t[2],ciphertext:t[3],tag:t[4]};else if(!t||"object"!=typeof t)throw new Error("invalid input");"encrypted_key"in t&&(t.recipients=[{encrypted_key:t.encrypted_key}]);var d,y,g,v,m,b=t.recipients||[{}];return Promise.resolve(b).then((function(e){if(t.protected){y=i.decode(t.protected).toString("utf8");var r=(y=JSON.parse(y)).crit;if(r){if(!Array.isArray(r))return Promise.reject(new Error("Invalid 'crit' header"));for(var n=0;r.length>n;n++)if(-1===h.indexOf(r[n]))return Promise.reject(new Error("Critical extension is not supported: "+r[n]))}d=y,y=Object.keys(y)}else d={},y=[];return d=s(t.unprotected||{},d),e=e.map((function(t){var e=Promise.resolve(),r=t.header||{};return r=s(r,d),t.header=r,t.protected=y,p.match(r.alg)||(e=e.then((function(){return Promise.reject(new Error("Algorithm not allowed: "+r.alg))}))),p.match(r.enc)||(e=e.then((function(){return Promise.reject(new Error("Algorithm not allowed: "+r.enc))}))),r.epk&&(e=(e=e.then((function(){return o.asKey(r.epk)}))).then((function(t){r.epk=t.toObject(!1)}))),e.then((function(){return t}))})),Promise.all(e)})).then((function(t){var e={};return new Promise((function(n,a){var s=function(){var u=t.shift();if(u){var c=Promise.resolve(u);(c=(c=c.then((function(t){var e=m=t.encrypted_key||"";return e=i.decode(e),(g=r||f.get({use:"enc",alg:t.header.alg,kid:t.header.kid}))?g.unwrap(t.header.alg,e,t.header):Promise.reject()}))).then((function(t){v={kty:"oct",k:i.encode(t)},v=o.asKey(v),e.key=g,e.header=u.header,e.protected=u.protected,n(e)}))).catch(s)}else a(new Error("no key found"))};s()}))})).then((function(e){return e.iv=t.iv,e.tag=t.tag,e.ciphertext=t.ciphertext,e})).then((function(t){var e=[];return h.forEach((function(r){var n;"function"==typeof(r=l[r])?n=r(t):"object"==typeof r&&"function"==typeof r.prepare&&(n=r.prepare(t)),n&&e.push(Promise.resolve(n))})),Promise.all(e).then((function(){return t}))})).then((function(t){return n.isBuffer(t.ciphertext)||(t.ciphertext=i.decode(t.ciphertext)),t})).then((function(e){var r=t.protected;"aad"in t&&null!=t.aad&&(r+="."+t.aad);var n={iv:e.iv,adata:r,tag:e.tag,kdata:m,epu:e.epu,epv:e.epv},i=e.ciphertext;return delete e.iv,delete e.tag,delete e.ciphertext,v.then((function(t){return t.decrypt(e.header.enc,i,n).then((function(t){return e.payload=e.plaintext=t,e}))}))})).then((function(t){return"DEF"===t.header.zip?new Promise((function(e,r){try{var i=u.inflateRaw(n.from(t.plaintext));t.payload=t.plaintext=n.from(i),e(t)}catch(t){r(t)}})):t})).then((function(t){var e=[];return h.forEach((function(r){var n;"object"==typeof(r=l[r])&&"function"==typeof r.complete&&(n=r.complete(t)),n&&e.push(Promise.resolve(n))})),Promise.all(e).then((function(){return t}))}))}})}t.exports={decrypter:f,createDecrypt:function(t,e){return new f(t,e)}}},4051:function(t){"use strict";t.exports={zip:!1,format:"general",contentAlg:"A128CBC-HS256",protect:"*"}},8414:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(4237),a=r(9077).generateCEK,o=r(2543),s=r(9077).slice,u=r(5967),c=r(414),f=r(8583),l=r(6678),h=r(4051);function p(t,e,r){var s=!1,h=t.format||"general",p=!!t.protectAll,d=n.alloc(0);Object.defineProperty(this,"zip",{get:function(){return e.zip||""},enumerable:!0}),Object.defineProperty(this,"compact",{get:function(){return"compact"===h},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return h},enumerable:!0}),Object.defineProperty(this,"protected",{get:function(){return l(t.protect)},enumerable:!0}),Object.defineProperty(this,"header",{get:function(){return l(e)},enumerable:!0}),Object.defineProperty(this,"update",{value:function(t,e){if(s)throw new Error("already final");return null!=t&&(t=i.asBuffer(t,e),d=d.length?n.concat([d,t],d.length+t.length):t),this}}),Object.defineProperty(this,"final",{value:function(y,g){if(s)return Promise.reject(new Error("already final"));this.update(y,g),s=!0;var v,m=Promise.resolve({}),b=e.enc;m=(m=m.then((function(e){return t.cek&&(v=o.asKey(t.cek)),e}))).then((function(n){var s=Promise.all(r);return(s=s.then((function(r){var n=1===r.length;return r=r.map((function(r){return function(r,n){var s={};s=f(s,e),s=f(s,r.header);var u,c,h=r.key,p=s.alg;return 0===(s.alg||"").indexOf("ECDH-ES")?(u=h.keystore.temp(),c=r.epk?Promise.resolve(r.epk).then((function(t){r.header.epk=t.toJSON(!1,["kid"]),s.epk=t.toObject(!0,["kid"])})):u.generate("EC",h.get("crv")).then((function(t){r.header.epk=t.toJSON(!1,["kid"]),s.epk=t.toObject(!0,["kid"])}))):c=Promise.resolve(),(c=c.then((function(){var r,i;return"dir"===p&&n?i=(v=Promise.resolve(h)).then((function(t){return b||(s.enc=e.enc=b=t.algorithms(o.MODE_ENCRYPT)[0]),{once:!0,direct:!0}})):(v||(b||(s.enc=e.enc=b=t.contentAlg),v=a(b)),i=(i=v.then((function(t){return r=t.get("k",!0),h}))).then((function(t){return t.wrap(p,r,s)}))),i}))).then((function(t){if(t.once&&!n)return Promise.reject(new Error("cannot use 'alg':'"+p+"' with multiple recipients"));var e,a={};return t.data&&(e=t.data,e=i.base64url.encode(e)),t.direct&&e?v=o.asKey({kty:"oct",k:e}):e&&(a.encrypted_key=e),r.header&&Object.keys(r.header).length&&(a.header=l(r.header||{})),t.header&&(a.header=f(a.header||{},t.header)),a}))}(r,n)})),Promise.all(r)}))).then((function(t){return n.recipients=t.filter((function(t){return!!t})),n}))}));var E={};switch(m=(m=(m=m.then((function(r){var n,a,o,s;return o=l(e),p&&1===r.recipients.length||"compact"===h?(n={},n=f({},o,r.recipients[0].header),a=Object.keys(n).length,o=void 0,s=0,delete r.recipients[0].header,0===Object.keys(r.recipients[0]).length&&r.recipients.splice(0,1)):(n={},a=0,s=Object.keys(o).length,t.protect.forEach((function(t){t in o&&(n[t]=o[t],a++,delete o[t],s--)})),r.recipients=(r.recipients||[]).map((function(t){var e=(t=t||{}).header;return e&&(Object.keys(e).forEach((function(t){t in n&&delete e[t]})),Object.keys(e).length||delete t.header),t}))),r.recipients&&0!==r.recipients.length||delete r.recipients,o&&s>0&&(E=f(E,o),r.unprotected=o),n&&a>0&&(E=f(E,n),n=JSON.stringify(n),r.protected=i.base64url.encode(n,"utf8")),r}))).then((function(t){var e=d;return E.zip?"DEF"===E.zip?new Promise((function(r,i){try{var a=u.deflateRaw(n.from(e,"binary"));t.plaintext=a,r(t)}catch(t){i(t)}})):Promise.reject(new Error("unsupported 'zip' mode")):(t.plaintext=e,t)}))).then((function(e){E.adata=e.protected,"aad"in t&&null!=t.aad&&(E.adata+="."+t.aad,E.adata=n.from(E.adata,"utf8"));var r=t.iv||i.randomBytes(c.NONCELENGTH[b]/8);"string"==typeof r&&(r=i.base64url.decode(r)),E.iv=r,"recipients"in e&&1===e.recipients.length&&(E.kdata=e.recipients[0].encrypted_key),"epu"in t&&null!=t.epu&&(E.epu=t.epu),"epv"in t&&null!=t.epv&&(E.epv=t.epv);var a=e.plaintext;return delete e.plaintext,v.then((function(n){var o=n.encrypt(b,a,E);return o.then((function(n){return e.iv=i.base64url.encode(r,"binary"),"aad"in t&&null!=t.aad&&(e.aad=t.aad),e.ciphertext=i.base64url.encode(n.data,"binary"),e.tag=i.base64url.encode(n.tag,"binary"),e}))}))})),h){case"compact":m=m.then((function(t){var e=new Array(5);return e[0]=t.protected,t.recipients&&t.recipients[0]&&(e[1]=t.recipients[0].encrypted_key),e[2]=t.iv,e[3]=t.ciphertext,e[4]=t.tag,e.join(".")}));break;case"flattened":m=m.then((function(t){var e={},r=t.recipients&&t.recipients[0];return t.protected&&(e.protected=t.protected),t.unprotected&&(e.unprotected=t.unprotected),["header","encrypted_key"].forEach((function(t){r&&t in r&&r[t]&&("object"!=typeof r[t]||Object.keys(r[t]).length)&&(e[t]=r[t])})),t.aad&&(e.aad=t.aad),e.iv=t.iv,e.ciphertext=t.ciphertext,e.tag=t.tag,e}));break;case"general":m=m.then((function(t){var e=t.recipients||[];return(e=(e=e.map((function(t){if(Object.keys(t).length)return t}))).filter((function(t){return!!t}))).length?t.recipients=e:delete t.recipients,t}))}return m}})}t.exports={encrypter:p,createEncrypt:function(t,e){var r=t,n=1,a=e;if(0===arguments.length)throw new Error("at least one recipient must be provided");1===arguments.length||o.isKey(t)||t&&"kty"in t||t&&"key"in t&&(o.isKey(t.key)||"kty"in t.key)?(a=t,n=0,r={}):r=l(t),Array.isArray(a)||(a=s(arguments,n)),r=f(l(h),r);var u=l(r.fields||{});switch(r.zip&&(u.zip="boolean"==typeof r.zip?!!r.zip&&"DEF":r.zip),r.format=(r.compact?"compact":r.format)||"general",r.format){case"compact":if("aad"in t)throw new Error("additional authenticated data cannot be used for compact serialization");case"flattened":if(a.length>1)throw new Error("too many recipients for compact serialization")}var c=!1;if("compact"===r.format||"*"===r.protect)c=!0,r.protect=Object.keys(u).concat("enc");else if("string"==typeof r.protect)r.protect=[r.protect];else if(Array.isArray(r.protect))r.protect=r.protect.concat();else{if(r.protect)throw new Error("protect must be a list of fields");r.protect=[]}if(c&&1<a.length)throw new Error("too many recipients to protect all header parameters");a=a.map((function(t,e){var r;return r=t&&"kty"in t?(r=o.asKey(t)).then((function(t){return{key:t}})):t?(r=o.asKey(t.key)).then((function(e){return{header:t.header,reference:t.reference,key:e}})):Promise.reject(new Error("missing key for recipient "+e)),t.epk&&(r=r.then((function(e){return o.asKey(t.epk).then((function(t){return e.epk=t,e}))}))),r.then((function(t){var r=t.key,n=t.header||{};t.header=n;var i={};if(i=f(i,u),(i=f(i,t.header)).alg||(i.alg=r.algorithms(o.MODE_WRAP)[0],n.alg=i.alg),!i.alg)return Promise.reject(new Error("key not valid for encrypting to recipient "+e));n.alg=i.alg;var a,s=t.reference;if(delete t.reference,void 0===s?s=(s=["kid","jku","x5c","x5t","x5u"].some((function(t){return t in n})))?null:"kid":"boolean"==typeof s&&(s=s?"kid":null),s)if(a=r.toJSON(),"jwk"===s){if("oct"===r.kty)return Promise.reject(new Error("cannot embed key"));n.jwk=a}else s in a&&(n[s]=a[s]);return Object.freeze(t)}))}));var d={aad:"aad"in r?i.base64url.encode(r.aad||""):null,contentAlg:r.contentAlg,format:r.format,protect:r.protect,cek:r.cek,iv:r.iv,protectAll:c},y=new p(d,u,a);return y}}},9077:function(t,e,r){"use strict";var n=r(414),i=r(2543);t.exports={slice:function(t,e){return Array.prototype.slice.call(t,e||0)},generateCEK:function(t){var e=i.createKeyStore(),r=n.KEYLENGTH[t];if(r)return e.generate("oct",r);throw new Error("unsupported encryption algorithm")}}},701:function(t,e,r){"use strict";var n={createEncrypt:r(8414).createEncrypt,createDecrypt:r(4581).createDecrypt};t.exports=n},7136:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(5029),a=r(5877),o=r(8583),s=r(6678),u=r(5564),c=r(5325),f=r(7557),l=r(8718),h=r(4908),p=r(5382),d=r(6395),y=r(9684),g=r(4237);t.exports=function(t,e,r,v){if(!t)throw new Error("kty cannot be null");if(!e)throw new Error("keystore cannot be null");if(!r)throw new Error("props cannot be null");if("string"==typeof r&&(r=JSON.parse(r)),!v)throw new Error("cfg cannot be null");var m,b,E=[],w={},C={};r=s(r),m=o({},r[y.INTERNALS.THUMBPRINT_KEY]||{}),delete r[y.INTERNALS.THUMBPRINT_KEY],Object.keys(m).forEach((function(t){var e=m[t];b||(b=e,n.isBuffer(b)&&(b=g.base64url.encode(b))),n.isBuffer(e)||(e=g.base64url.decode(e),m[t]=e)})),r.kty=t,r.kid=r.kid||b||a();var S,_=Object.keys(y.COMMON_PROPS).map((function(t){return y.COMMON_PROPS[t].name}));C.base=l(r,_),E=E.concat(Object.keys(C.base)),C.public=s(r),w.public=v.publicKey(C.public),w.public&&(E=E.concat(Object.keys(C.public))),C.private=s(r),w.private=v.privateKey(C.private),w.private&&(E=E.concat(Object.keys(C.private))),C.extra=f(r,E),S=w.public&&"length"in w.public?w.public.length:w.private&&"length"in w.private?w.private.length:NaN,Object.defineProperty(this,"keystore",{value:e,enumerable:!0}),Object.defineProperty(this,"length",{value:S,enumerable:!0}),Object.defineProperty(this,"kty",{value:t,enumerable:!0}),Object.defineProperty(this,"kid",{value:C.base.kid,enumerable:!0}),Object.defineProperty(this,"use",{value:C.base.use||"",enumerable:!0}),Object.defineProperty(this,"alg",{value:C.base.alg||"",enumerable:!0}),Object.defineProperty(this,"thumbprint",{value:function(t){if(t=(t||y.INTERNALS.THUMBPRINT_HASH).toUpperCase(),m[t])return Promise.resolve(m[t]);var e=y.thumbprint(v,C,t);return e.then((function(e){return e&&(m[t]=e),e}))}}),Object.defineProperty(this,"algorithms",{value:function(e){var r=[];this.use&&"sig"!==this.use||(e&&d.MODE_SIGN!==e||r.push(d.MODE_SIGN),e&&d.MODE_VERIFY!==e||r.push(d.MODE_VERIFY)),this.use&&"enc"!==this.use||(e&&d.MODE_ENCRYPT!==e||r.push(d.MODE_ENCRYPT),e&&d.MODE_DECRYPT!==e||r.push(d.MODE_DECRYPT),e&&d.MODE_WRAP!==e||r.push(d.MODE_WRAP),e&&d.MODE_UNWRAP!==e||r.push(d.MODE_UNWRAP));var n,i=this,a=r.map((function(t){return v.algorithms.call(i,w,t)}));return a=u(a),a=h(a),this.alg&&(n="oct"===t?[this.alg,"dir"]:[this.alg],a=c(a,n)),a}}),Object.defineProperty(this,"supports",{value:function(t,e){return-1!==this.algorithms(e).indexOf(t)}}),Object.defineProperty(this,"has",{value:function(t,e){var r=!1;return(r=(r=(r=r||!(!C.base||!(t in C.base)))||!(!w.public||!(t in w.public)))||!(!C.extra||!(t in C.extra)))||!!(e&&w.private&&t in w.private)}}),Object.defineProperty(this,"get",{value:function(t,e){var r;return C.base&&t in C.base?r=C.base:w.public&&t in w.public?r=w.public:C.extra&&t in C.extra?r=C.extra:e&&w.private&&t in w.private&&(r=w.private),r&&r[t]||null}}),Object.defineProperty(this,"toJSON",{value:function(t,e){Array.isArray(t)&&(e=t,t=!1);var r={};return r=i(r,C.base,C.public,"boolean"==typeof t&&t?C.private:{},C.extra),f(r,e||[])}}),Object.defineProperty(this,"toPEM",{value:function(t){if(null===t&&(t=!1),!v.convertToPEM)throw new Error("Unsupported key type for PEM encoding");var e=t?w.private:w.public;if(!e)throw new Error("Invalid key");return v.convertToPEM.call(this,e,t)}}),Object.defineProperty(this,"toObject",{value:function(t,e){Array.isArray(t)&&(e=t,t=!1);var r={};return r=i(r,C.base,w.public,"boolean"==typeof t&&t?w.private:{},C.extra),f(r,(e||[]).concat("length"))}}),Object.defineProperty(this,"sign",{value:function(t,e,r){if(-1===this.algorithms("sign").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var n=v.signKey.call(this,t,w);return n?(r=r?s(r):{},v.signProps&&(r=i(r,v.signProps.call(this,t,r))),p.sign(t,n,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"verify",{value:function(t,e,r,n){if(-1===this.algorithms("verify").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var a=v.verifyKey.call(this,t,w);return a?(n=n?s(n):{},v.verifyProps&&(n=i(n,v.verifyProps.call(this,t,n))),p.verify(t,a,e,r,n)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"encrypt",{value:function(t,e,r){if(-1===this.algorithms("encrypt").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var n=v.encryptKey.call(this,t,w);return n?(r=r?s(r):{},v.encryptProps&&(r=i(r,v.encryptProps.call(this,t,r))),p.encrypt(t,n,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"decrypt",{value:function(t,e,r){if(-1===this.algorithms("decrypt").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var n=v.decryptKey.call(this,t,w);return n?(r=r?s(r):{},v.decryptProps&&(r=i(r,v.decryptProps.call(this,t,r))),p.decrypt(t,n,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"wrap",{value:function(t,e,r){if(-1===this.algorithms("wrap").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var n=v.wrapKey.call(this,t,w);return n?(r=r?s(r):{},v.wrapProps&&(r=i(r,v.wrapProps.call(this,t,r))),p.encrypt(t,n,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"unwrap",{value:function(t,e,r){if(-1===this.algorithms("unwrap").indexOf(t))return Promise.reject(new Error("unsupported algorithm"));var n=v.unwrapKey.call(this,t,w);return n?(r=r?s(r):{},v.unwrapProps&&(r=i(r,v.unwrapProps.call(this,t,r))),p.decrypt(t,n,e,r)):Promise.reject(new Error("improper key"))}})}},6395:function(t){"use strict";t.exports={MODE_SIGN:"sign",MODE_VERIFY:"verify",MODE_ENCRYPT:"encrypt",MODE_DECRYPT:"decrypt",MODE_WRAP:"wrap",MODE_UNWRAP:"unwrap"}},5339:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(1762),a=r(6280),o=r(1634),s={BaseKey:r(7136),helpers:r(9684)},u=["ES256","ES384","ES512"],c=["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"],f=i.EC_OID;function l(t){switch(t){case"1.2.840.10045.3.1.7":return"P-256";case"1.3.132.0.34":return"P-384";case"1.3.132.0.35":return"P-521";default:return null}}var h={publicKey:function(t){var e=s.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"}]),r=s.helpers.unpackProps(t,e);return r&&r.crv&&r.x&&r.y?r.length=i.curveSize(r.crv):(delete r.crv,delete r.x,delete r.y),r},privateKey:function(t){var e=s.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"},{name:"d",type:"binary"}]),r=s.helpers.unpackProps(t,e);return r&&r.crv&&r.x&&r.y&&r.d?r.length=i.curveSize(r.crv):r=void 0,r},thumbprint:function(t){return t.public&&(t=t.public),{crv:t.crv,kty:"EC",x:t.x,y:t.y}},algorithms:function(t,e){var r=t.public&&t.public.length||t.private&&t.private.length||0;switch(521===r&&(r=512),e){case"encrypt":case"decrypt":return[];case"wrap":return t.public&&c||[];case"unwrap":return t.private&&c||[];case"sign":return t.private?u.filter((function(t){return t==="ES"+r})):[];case"verify":return t.public?u.filter((function(t){return t==="ES"+r})):[]}},encryptKey:function(t,e){return e.public},decryptKey:function(t,e){return e.private},wrapKey:function(t,e){return e.public},unwrapKey:function(t,e){return e.private},signKey:function(t,e){return e.private},verifyKey:function(t,e){return e.public}};h.convertToPEM=i.convertToPEM;var p={oid:f,privateKey:{name:"ECPrivateKey",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{tagClass:a.asn1.Class.CONTEXT_SPECIFIC,name:"ECPrivateKey.parameters",constructed:!0,value:[{name:"ECPrivateKey.namedCurve",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.OID,constructed:!1,capture:"crv"}]},{name:"ECPrivateKey.publicKey",tagClass:a.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]},embeddedPrivateKey:{name:"ECPrivateKey",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{name:"ECPrivateKey.publicKey",tagClass:a.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]}},d={kty:"EC",validators:p,prepare:function(t){var e=h,r=Promise.resolve(t);return(r=r.then((function(t){return s.helpers.thumbprint(e,t)}))).then((function(r){var n={};return n[s.helpers.INTERNALS.THUMBPRINT_HASH]=r,t[s.helpers.INTERNALS.THUMBPRINT_KEY]=n,e}))},generate:function(t){var e=o.generateKeyPair(t),r={crv:t,x:e.public.x,y:e.public.y,d:e.private.d};return Promise.resolve(r)},import:function(t){if(p.oid!==t.keyOid)return null;var e;if(t.keyParams&&a.asn1.Type.OID===t.keyParams.type?e=l(e=a.asn1.derToOid(t.keyParams.value)):t.crv&&(e=l(e=a.asn1.derToOid(t.crv))),!e)return null;if(!t.parsed){var r={};if("private"===t.type){if("string"==typeof t.keyValue?t.keyValue=a.asn1.fromDer(t.keyValue):Array.isArray(t.keyValue)&&(t.keyValue=t.keyValue[0]),!a.asn1.validate(t.keyValue,p.embeddedPrivateKey,r,[]))return null}else r.point=t.keyValue;t=r}var i={kty:"EC",crv:e};if(t.d&&(i.d=n.from(t.d,"binary")),t.point){var o=n.from(t.point,"binary");if(4!==o.readUInt16BE(0))return null;var s=(o=o.slice(2)).length/2;i.x=o.slice(0,s),i.y=o.slice(s)}return i}};t.exports=Object.freeze({config:h,factory:d}),r(4567).registry.register(d)},9684:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(6678),a=r(4237),o=r(6280),s=r(5382),u={name:"PrivateKeyInfo",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1,capture:"keyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"PrivateKeyInfo",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OCTETSTRING,constructed:!1,capture:"keyValue"}]},c={name:"SubjectPublicKeyInfo",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"keyValue"}]},f={name:"Certificate",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"certSignature"}]},l={THUMBPRINT_KEY:"internal\0thumbprint",THUMBPRINT_HASH:"SHA-256"};t.exports={validators:{privateKey:u,publicKey:c,certificate:f},thumbprint:function(t,e,r){if("function"!=typeof t.thumbprint)return Promise.reject(new Error("thumbprint not supported"));r=(r||l.THUMBPRINT_HASH).toUpperCase();var i=t.thumbprint(e),o=Object.keys(i).sort().map((function(t){var e=i[t];return n.isBuffer(e)&&(e=a.base64url.encode(e)),JSON.stringify(t)+":"+JSON.stringify(e)}));o="{"+o.join(",")+"}";try{return s.digest(r,n.from(o,"utf8"))}catch(t){return Promise.reject(t)}},unpackProps:function(t,e){var r;e.forEach((function(e){if(e.name in t){r=r||{};var o=t[e.name];switch(e.type){case"binary":n.isBuffer(o)?t[e.name]=a.base64url.encode(o):o=a.base64url.decode(o);break;case"string":case"number":case"boolean":break;case"array":o=[].concat(o);break;case"object":o=i(o)}r[e.name]=o}}));var o=r||{};return Object.keys(t).forEach((function(e){e in o||delete t[e]})),r},COMMON_PROPS:[{name:"kty",type:"string"},{name:"kid",type:"string"},{name:"use",type:"string"},{name:"alg",type:"string"},{name:"x5c",type:"array"},{name:"x5t",type:"binary"},{name:"x5u",type:"string"},{name:"key_ops",type:"array"}],INTERNALS:l}},2543:function(t,e,r){"use strict";var n=r(4567);Object.keys(n.KeyStore).forEach((function(t){e[t]=n.KeyStore[t]}));var i=r(6395);Object.keys(i).forEach((function(t){e[t]=i[t]})),r(9170),r(9746),r(5339)},4567:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(6678),a=r(5029),o=r(6280),s=r(4237),u={BaseKey:r(7136),helpers:r(9684)},c=function(){var t={};Object.defineProperty(this,"register",{value:function(e){if(!e||"string"!=typeof e.kty||!e.kty)throw new Error("invalid Key factory");var r=e.kty;return t[r]=e,this}}),Object.defineProperty(this,"unregister",{value:function(e){if(!e||"string"!=typeof e.kty||!e.kty)throw new Error("invalid Key factory");var r=e.kty;return e===t[r]&&delete t[r],this}}),Object.defineProperty(this,"get",{value:function(e){return t[e||""]||void 0}}),Object.defineProperty(this,"all",{value:function(){return Object.keys(t).map((function(e){return t[e]}))}})},f=new c;var l=function(t,e){var r={};Object.defineProperty(this,"generate",{value:function(e,r,n){var o=t.get(e);if(!o)return Promise.reject(new Error("unsupported key type"));(n=i(n||{})).kty=e;var s=this;return o.generate(r).then((function(t){return t=a(n,t,{kty:e}),s.add(t)}))}}),Object.defineProperty(this,"add",{value:function(e,a,c){var h;if(c=c||{},n.isBuffer(e)||"string"==typeof e)if("json"===(a=(a||"json").toLowerCase()))e=JSON.parse(e.toString("utf8"));else try{if(h="pem"===a?function(t){var e={};if(!o.pem.decode(t).some((function(t){switch(t.type){case"CERTIFICATE":e.form="pkix";break;case"PUBLIC KEY":e.form="spki";break;case"PRIVATE KEY":e.form="pkcs8";break;case"EC PRIVATE KEY":case"RSA PRIVATE KEY":e.form="private";break;default:return!1}return e.body=t.body,!0})))throw new Error("supported PEM type not found");return e}(e):{body:e.toString("binary"),form:a},!(e=function(t,e){var r,i={},a=[],c=e.form,l=e.body,h=null;switch(e=o.asn1.fromDer(l),c){case"private":t.all().some((function(t){if(r)return!1;if(!t.validators)return!1;var n=t.validators.oid,s=t.validators.privateKey;return!!s&&(i={},a=[],(r=o.asn1.validate(e,s,i,a))&&(i.keyOid=o.asn1.oidToDer(n),i.parsed=!0),r)})),i.type="private";break;case"pkcs8":r=o.asn1.validate(e,u.helpers.validators.privateKey,i,a),i.type="private";break;case"public":case"spki":r=o.asn1.validate(e,u.helpers.validators.publicKey,i,a),i.type="public";break;case"pkix":case"x509":if(r=o.asn1.validate(e,u.helpers.validators.certificate,i,a)){i=function(t){return["certIssuer","certSubject"].forEach((function(e){var r=o.pki.RDNAttributesAsArray(t[e]),n=t[e]={};r.forEach((function(t){n[t.name||t.type]=t.value}))})),t}(i);var p=o.md.sha1.create();p.update(l),h=s.base64url.encode(n.from(p.digest().toHex(),"hex"))}i.type="public"}return r?(i.keyOid&&(i.keyOid=o.asn1.derToOid(i.keyOid)),r=null,f.all().forEach((function(t){r||t&&"function"==typeof t.import&&(r=t.import(i))})),r&&i.certSubject&&i.certSubject.commonName&&(r.kid=i.certSubject.commonName),r&&h&&(r.x5t=h),r):null}(t,h)))throw new Error("no importer for key");Object.keys(c).forEach((function(t){e[t]=c[t]}))}catch(t){return Promise.reject(t)}else e=l.isKey(e)?e.toJSON(!0):i(e);var p=t.get(e.kty);if(!p)return Promise.reject(new Error("unsupported key type"));var d=this;return p.prepare(e).then((function(t){return new u.BaseKey(e.kty,d,e,t)})).then((function(t){var e=t.kid||"";return(r[e]=r[e]||[]).push(t),t}))}}),Object.defineProperty(this,"remove",{value:function(t){if(t){var e=r[t.kid];if(e){var n=e.indexOf(t);-1!==n&&(e.splice(n,1),e.length||delete r[t.kid])}}}}),Object.defineProperty(this,"all",{value:function(t,n){void 0!==(t=t||{}).kid&&null!==t.kid&&"string"!=typeof t.kid&&(t.kid=String(t.kid));var i=[],a=function(e){return(!t.kty||!e.kty||t.kty===e.kty)&&(!t.use||!e.use||t.use===e.use)&&(!t.alg||("dir"===t.alg||!e.alg||t.alg===e.alg)&&e.supports(t.alg))};return Object.keys(r).forEach((function(e){if(!t.kid||t.kid===e){var n=r[e].filter(a);n.length&&(i=i.concat(n))}})),!n&&e&&(i=i.concat(e.all(t))),i}}),Object.defineProperty(this,"get",{value:function(t,r,n){"boolean"==typeof t?(n=t,r=t=null):"object"==typeof t&&(n=r,r=t,t=null),r=r||{},t&&(r.kid=t),void 0!==r.kid&&null!==r.kid&&"string"!=typeof r.kid&&(r.kid=String(r.kid));var i=this.all(r,!0);return i.length||!e||n||(i=e.get(r,n)),i[0]||null}}),Object.defineProperty(this,"temp",{value:function(){return new l(t,this)}}),Object.defineProperty(this,"toJSON",{value:function(t){var e=[];return Object.keys(r).forEach((function(n){var i=r[n].map((function(e){return e.toJSON(t)}));e=e.concat(i)})),{keys:e}}})};l.isKeyStore=function(t){return!!t&&"object"==typeof t&&"function"==typeof t.get&&"function"==typeof t.all&&"function"==typeof t.generate&&"function"==typeof t.add&&"function"==typeof t.remove},l.createKeyStore=function(){return new l(f)},l.asKeyStore=function(t){if(l.isKeyStore(t))return Promise.resolve(t);var e,r=l.createKeyStore();if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t))e=t;else{if(!("keys"in t))return Promise.reject(new Error("invalid keystore"));e=t.keys}e=e.map((function(t){return r.add(t)}));var n=Promise.all(e);return n.then((function(){return r}))},l.isKey=function(t){return!!t&&"object"==typeof t&&!!l.isKeyStore(t.keystore)&&"string"==typeof t.kty&&"number"==typeof t.length&&"function"==typeof t.algorithms&&"function"==typeof t.supports&&"function"==typeof t.encrypt&&"function"==typeof t.decrypt&&"function"==typeof t.wrap&&"function"==typeof t.unwrap&&"function"==typeof t.sign&&"function"==typeof t.verify},l.createKey=function(t,e,r){return l.createKeyStore().generate(t,e,r)},l.asKey=function(t,e,r){return l.isKey(t)?Promise.resolve(t):t=l.createKeyStore().add(t,e,r)},t.exports={KeyRegistry:c,KeyStore:l,registry:f}},9170:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(4237),a={BaseKey:r(7136),helpers:r(9684)},o=["HS256","HS384","HS512"],s=["A128GCM","A192GCM","A256GCM","A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"],u=["A128KW","A192KW","A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW","dir"];function c(t,e){return"iv"in e&&(e.iv=n.isBuffer(e.iv)?e.iv:i.base64url.decode(e.iv||"")),"adata"in e&&(e.adata=n.isBuffer(e.adata)?e.adata:n.from(e.adata||"","utf8")),"mac"in e&&(e.mac=n.isBuffer(e.mac)?e.mac:i.base64url.decode(e.mac||"")),"tag"in e&&(e.tag=n.isBuffer(e.tag)?e.tag:i.base64url.decode(e.tag||"")),e}function f(t,e){return"iv"in e&&(e.iv=n.isBuffer(e.iv)?e.iv:i.base64url.decode(e.iv||"")),"adata"in e&&(e.adata=n.isBuffer(e.adata)?e.adata:n.from(e.adata||"","utf8")),e}var l={publicKey:function(t){var e=a.helpers.COMMON_PROPS.concat([]);return a.helpers.unpackProps(t,e)},privateKey:function(t){var e,r=a.helpers.COMMON_PROPS.concat([{name:"k",type:"binary"}]);return(e=a.helpers.unpackProps(t,r))&&e.k?e.length=8*e.k.length:e=void 0,e},thumbprint:function(t){return t.private&&(t=t.private),{k:t.k||"",kty:"oct"}},algorithms:function(t,e){var r=t.private&&8*t.private.k.length,n=[256,384,512];if(!r)return[];switch(e){case"encrypt":case"decrypt":return s.filter((function(t){return t==="A"+r/2+"CBC-HS"+r||t==="A"+r/2+"CBC+HS"+r||t==="A"+r+"GCM"}));case"sign":case"verify":return o.filter((function(t){var e=!1;return n.forEach((function(n){n>r||(e|=t==="HS"+n)})),e}));case"wrap":case"unwrap":return u.filter((function(t){return t==="A"+r+"KW"||t==="A"+r+"GCMKW"||0===t.indexOf("PBES2-")||"dir"===t}))}return[]},encryptKey:function(t,e){return e.private&&e.private.k},encryptProps:f,decryptKey:function(t,e){return e.private&&e.private.k},decryptProps:c,wrapKey:function(t,e){return e.private&&e.private.k},wrapProps:f,unwrapKey:function(t,e){return e.private&&e.private.k},unwrapProps:c,signKey:function(t,e){return e.private&&e.private.k},verifyKey:function(t,e){return e.private&&e.private.k}},h={kty:"oct",prepare:function(t){var e=l,r=Promise.resolve(t);return(r=r.then((function(t){return a.helpers.thumbprint(e,t)}))).then((function(r){var n={};return n[a.helpers.INTERNALS.THUMBPRINT_HASH]=r,t[a.helpers.INTERNALS.THUMBPRINT_KEY]=n,e}))},generate:function(t){var e=i.randomBytes(t/8);return Promise.resolve({k:e})}};t.exports=Object.freeze({config:l,factory:h}),r(4567).registry.register(h)},9746:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(6280),a=r(8501),o=r(3748).nodeCrypto,s={BaseKey:r(7136),helpers:r(9684)},u=["RS256","RS384","RS512","PS256","PS384","PS512"],c=["RSA-OAEP","RSA-OAEP-256","RSA1_5"],f={publicKey:function(t){var e,r=s.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"}]);return(e=s.helpers.unpackProps(t,r))&&e.n&&e.e?e.length=8*e.n.length:(delete e.e,delete e.n),e},privateKey:function(t){var e,r=s.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"},{name:"d",type:"binary"},{name:"p",type:"binary"},{name:"q",type:"binary"},{name:"dp",type:"binary"},{name:"dq",type:"binary"},{name:"qi",type:"binary"}]);return(e=s.helpers.unpackProps(t,r))&&e.d&&e.n&&e.e&&e.p&&e.q&&e.dp&&e.dq&&e.qi?e.length=8*e.d.length:e=void 0,e},thumbprint:function(t){return t.public&&(t=t.public),{e:t.e,kty:"RSA",n:t.n}},algorithms:function(t,e){switch(e){case"encrypt":case"decrypt":return[];case"wrap":return t.public&&c.slice()||[];case"unwrap":return t.private&&c.slice()||[];case"sign":return t.private&&u.slice()||[];case"verify":return t.public&&u.slice()||[]}return[]},wrapKey:function(t,e){return e.public},unwrapKey:function(t,e){return e.private},signKey:function(t,e){return e.private},verifyKey:function(t,e){return e.public},convertToPEM:function(t,e){var r=a.convertToForge(t,!e);return e?i.pki.privateKeyToPem(r):i.pki.publicKeyToPem(r)}},l={oid:"1.2.840.113549.1.1.1",privateKey:{name:"RSAPrivateKey",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"version"},{name:"RSAPrivateKey.modulus",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPrivateKey.publicExponent",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"e"},{name:"RSAPrivateKey.privateExponent",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"d"},{name:"RSAPrivateKey.prime1",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"p"},{name:"RSAPrivateKey.prime2",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"q"},{name:"RSAPrivateKey.exponent1",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"dp"},{name:"RSAPrivateKey.exponent2",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"dq"},{name:"RSAPrivateKey.coefficient",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"qi"}]},publicKey:{name:"RSAPublicKey",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPublicKey.exponent",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"e"}]}},h={kty:"RSA",validators:l,prepare:function(t){var e=f,r=Promise.resolve(t);return(r=r.then((function(t){return s.helpers.thumbprint(e,t)}))).then((function(r){var n={};return n[s.helpers.INTERNALS.THUMBPRINT_HASH]=r,t[s.helpers.INTERNALS.THUMBPRINT_KEY]=n,e}))},generate:function(t){var e;if(o)e=new Promise((function(e,r){i.pki.rsa.generateKeyPair({bits:t,e:65537},(function(t,n){if(t)return r(t);e(n.privateKey)}))}));else{var r=i.pki.rsa.generateKeyPair({bits:t,e:65537});e=Promise.resolve(r.privateKey)}return e.then((function(t){var e={};return["e","n","d","p","q",{incoming:"dP",outgoing:"dp"},{incoming:"dQ",outgoing:"dq"},{incoming:"qInv",outgoing:"qi"}].forEach((function(r){var i,a,o;"string"==typeof r?i=a=r:(i=r.incoming,a=r.outgoing),i in t&&(e[a]=((o=(o=t[i]).toString(16)).length%2&&(o="0"+o),n.from(o,"hex")))})),e}))},import:function(t){if(l.oid!==t.keyOid)return null;if(!t.parsed){"string"==typeof t.keyValue?t.keyValue=i.asn1.fromDer(t.keyValue):Array.isArray(t.keyValue)&&(t.keyValue=t.keyValue[0]);var e="private"===t.type?l.privateKey:l.publicKey,r={};if(!i.asn1.validate(t.keyValue,e,r,[]))return null;t=r}var a={kty:"RSA"};return["n","e","d","p","q","dp","dq","qi"].forEach((function(e){if(e in t){var r=n.from(t[e],"binary");0===r[0]&&(r=r.slice(1)),a[e]=r}})),a}};t.exports=Object.freeze({config:f,factory:h}),r(4567).registry.register(h)},6589:function(t){"use strict";t.exports={compact:!1,protect:"*"}},7286:function(t){"use strict";t.exports={slice:function(t,e){return Array.prototype.slice.call(t,e||0)}}},7118:function(t,e,r){"use strict";var n={createSign:r(4873).createSign,createVerify:r(8747).createVerify};t.exports=n},4873:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(5029),a=r(4237),o=r(2543),s=r(7286).slice,u=r(6678),c=r(4908),f=r(6589),l=function(t,e){var r=!1,i=t.format||"general",o=n.alloc(0);Object.defineProperty(this,"compact",{get:function(){return"compact"===i},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return i},enumerable:!0}),Object.defineProperty(this,"update",{value:function(t,e){if(r)throw new Error("already final");return null!=t&&(t=a.asBuffer(t,e),o=o.length?n.concat([o,t],o.length+t.length):t),this}}),Object.defineProperty(this,"final",{value:function(t,s){if(r)return Promise.reject(new Error("already final"));var c;switch(this.update(t,s),r=!0,c=(c=(c=Promise.all(e)).then((function(t){return o=a.base64url.encode(o),t=t.map((function(t){var e={},r=0,i=u(t.header),s=Object.keys(i).length;t.protected.forEach((function(t){t in i&&(e[t]=i[t],r++,delete i[t],s--)})),r>0?(e=JSON.stringify(e),e=a.base64url.encode(e)):e="";var c=n.from(e+"."+o,"ascii");return(t=t.key.sign(t.header.alg,c,t.header)).then((function(t){var n={};return 0<r&&(n.protected=e),0<s&&(n.header=i),n.signature=a.base64url.encode(t.mac),n}))})),t=[Promise.resolve(o)].concat(t),Promise.all(t)}))).then((function(t){return{payload:t[0],signatures:t.slice(1)}})),i){case"compact":c=c.then((function(t){var e=[t.signatures[0].protected,t.payload,t.signatures[0].signature];return e.join(".")}));break;case"flattened":c=c.then((function(t){var e={};e.payload=t.payload;var r=t.signatures[0];return r.protected&&(e.protected=r.protected),r.header&&(e.header=r.header),e.signature=r.signature,e}))}return c}})};t.exports={signer:l,createSign:function(t,e){var r=t,n=1,a=e;if(0===arguments.length)throw new Error("at least one signatory must be provided");1===arguments.length||o.isKey(t)||t&&"kty"in t||t&&"key"in t&&(o.isKey(t.key)||"kty"in t.key)?(a=t,n=0,r={}):r=u(t),Array.isArray(a)||(a=s(arguments,n));var h=(r=i(u(f),r)).fields||{},p=r.format;if(p||(p=r.compact?"compact":"general"),("compact"===p||"flattened"===p)&&1<a.length)throw new Error("too many signatories for compact or flattened JSON serialization");var d="*"===r.protect;r.compact&&(d=!0),a=a.map((function(t,e){return(t&&"kty"in t?o.asKey(t).then((function(t){return{key:t}})):t?o.asKey(t.key).then((function(e){return{header:t.header,reference:t.reference,protect:t.protect,key:e}})):Promise.reject(new Error("missing key for signatory "+e))).then((function(t){var e=t.key,r=t.header||{};r=i(i({},h),r),t.header=r,r.alg||(r.alg=e.algorithms(o.MODE_SIGN)[0]||"");var n,a=t.reference;if(delete t.reference,void 0===a?a=(a=["kid","jku","x5c","x5t","x5u"].some((function(t){return t in r})))?null:"kid":"boolean"==typeof a&&(a=a?"kid":null),a)if(n=e.toJSON(),"jwk"===a){if("oct"===e.kty)return Promise.reject(new Error("cannot embed key"));r.jwk=n}else a in n&&(r[a]=n[a]);var s=t.protect;if(d||"*"===s)s=Object.keys(r);else if("string"===s)s=[s];else if(Array.isArray(s))s=s.concat();else{if(s)return Promise.reject(new Error("protect must be a list of fields"));s=[]}return s=c(s),t.protected=s,Object.freeze(t)}))}));var y={format:p};return new l(y,a)}}},8747:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(6678),a=r(5029),o=r(9752),s=r(3171),u=r(2543),c={algorithms:"*",allowEmbeddedKey:!1},f=function(t,e){var r,f;f=u.isKey(t)?(r=t).keystore:u.isKeyStore(t)?t:u.createKeyStore(),e=a(c,e),Object.defineProperty(this,"defaultKey",{value:r||void 0,enumerable:!0}),Object.defineProperty(this,"keystore",{value:f,enumerable:!0}),Object.defineProperty(this,"verify",{value:function(t,c){var l=(c=a({},e,c||{})).handlers||{},h=Object.keys(l),p=new s(c.algorithms);if("string"==typeof t)t={payload:(t=t.split("."))[1],signatures:[{protected:t[0],signature:t[2]}]};else if(!t||"object"!=typeof t)throw new Error("invalid input");t.signature&&(t.signatures=[{protected:t.protected||void 0,header:t.header||void 0,signature:t.signature}]);var d=t.signatures||[{}];d=d.map((function(t){var e=i(t.header||{}),r=t.protected?JSON.parse(o.decode(t.protected,"utf8")):{};e=a(e,r);var n=o.decode(t.signature);if(!p.match(e.alg))return Promise.reject(new Error("Algorithm not allowed: "+e.alg));var s=r.crit;if(s){if(!Array.isArray(s))return Promise.reject(new Error("Invalid 'crit' header"));for(var u=0;s.length>u;u++)if(-1===h.indexOf(s[u]))return Promise.reject(new Error("Critical extension is not supported: "+s[u]))}return r=Object.keys(r),Promise.resolve({protected:r,aad:t.protected||"",header:e,signature:n})}));var y=Promise.all(d);return y.then((function(e){return new Promise((function(i,s){var p=function(){var d=e.shift();if(d){d=a({},d,{payload:t.payload});var y=Promise.resolve(d);(y=(y=(y=(y=(y=(y=y.then((function(t){var e;return c.allowEmbeddedKey&&t.header.jwk?e=u.asKey(t.header.jwk):c.allowEmbeddedKey&&t.header.x5c?(e=t.header.x5c[0],e=n.from(e,"base64"),e=u.asKey(e,"pkix")):e=Promise.resolve(r||f.get({use:"sig",alg:t.header.alg,kid:t.header.kid})),e.then((function(e){return e?(t.key=e,t):Promise.reject(new Error("key does not match"))}))}))).then((function(t){var e=[];return h.forEach((function(r){var n;"function"==typeof(r=l[r])?n=r(t):"object"==typeof r&&"function"==typeof r.prepare&&(n=r.prepare(t)),n&&e.push(Promise.resolve(n))})),Promise.all(e).then((function(){return t}))}))).then((function(t){var e=t.aad||"",r=t.payload||"",i=n.alloc(1+e.length+r.length),a=0;return i.write(e,a,"ascii"),a+=e.length,i.write(".",a,"ascii"),a++,n.isBuffer(r)?r.copy(i,a):i.write(r,a,"binary"),t.content=i,t}))).then((function(t){return t.key.verify(t.header.alg,t.content,t.signature)}))).then((function(t){var e=d.payload;return e=o.decode(e),{protected:d.protected,header:d.header,payload:e,signature:t.mac,key:d.key}}))).then((function(t){var e=[];return h.forEach((function(r){var n;"object"==typeof(r=l[r])&&"function"==typeof r.complete&&(n=r.complete(t)),n&&e.push(Promise.resolve(n))})),Promise.all(e).then((function(){return t}))}))).then(i,p)}else s(new Error("no key found"))};p()}))}))}})};t.exports={verifier:f,createVerify:function(t,e){return new f(t,e)}}},2393:function(t,e,r){"use strict";var n={JWE:r(701),JWS:r(7118),util:r(4237)};t.exports=function(t){var e,r,i,a=t.split(".");if(3===a.length)e="JWS",r=function(e,r){return n.JWS.createVerify(e).verify(t,r)};else{if(5!==a.length)throw new TypeError("invalid jose serialization");e="JWE",r=function(e,r){return n.JWE.createDecrypt(e).decrypt(t,r)}}return i=n.util.base64url.decode(a[0],"utf8"),i=JSON.parse(i),{type:e,format:"compact",input:t,header:i,perform:r}}},8650:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(2393),a=r(4631),o=t.exports=function(t){if(n.isBuffer(t))return i(t.toString("ascii"));if("string"==typeof t)return i(t);if(t)return a(t);throw new TypeError("invalid input")};o.compact=i,o.json=a},4631:function(t,e,r){"use strict";var n=r(5029),i={JWE:r(701),JWS:r(7118),util:r(4237)};t.exports=function(t){var e,r,a;if("signatures"in t||"signature"in t)e="JWS",r=function(e,r){return i.JWS.createVerify(e).verify(t,r)},a=(a=t.signatures||[{protected:t.protected,header:t.header,signature:t.signature}]).map((function(t){var e,r={};return t.header&&(r=n(r,t.header)),t.protected&&(e=t.protected,e=i.util.base64url.decode(e,"utf8"),e=JSON.parse(e),r=n(r,e)),r}));else if("ciphertext"in t){e="JWE",r=function(e,r){return i.JWE.createDecrypt(e).decrypt(t,r)};var o={};t.protected&&(o.protected=t.protected,o.protected=i.util.base64url.decode(o.protected,"utf8"),o.protected=JSON.parse(o.protected)),t.unprotected&&(o.unprotected=t.unprotected),a=(a=t.recipients||[{}]).map((function(t){var e={};return t.header&&(e=n(e,t.header)),o.unprotected&&(e=n(e,o.unprotected)),o.protected&&(e=n(e,o.protected)),e}))}return{type:e,format:"json",input:t,all:a,perform:r}}},3171:function(t){"use strict";function e(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}t.exports=function(t){t?"string"==typeof t&&(t=t.split(" ")):t=[];var r,n=[],i=[],a=[],o=[],s=/^(!)?([^*]*)(\*?)([^*]*)$/;t.forEach((function(t){if(t){s.lastIndex=0;var u=s.exec(t);u&&(r="("+function(t,r,n){var i=[];return i.push("^"),t&&(t=e(t),i.push(t)),r&&i.push(t||n?".*":".+"),n&&(n=e(n),i.push(n)),i.push("$"),i.join("")}(u[2],u[3],u[4])+")",u[1]?(o.push(r),i.push(u[0])):(a.push(r),n.push(u[0])))}})),a=a.length?new RegExp(a.join("|")):null,o=o.length?new RegExp(o.join("|")):null,n.length||(n=["*"]),Object.defineProperty(this,"spec",{value:n.join(" ")+" "+i.join(" "),enumerable:!0}),Object.defineProperty(this,"match",{value:function(t){var e=Boolean(t);return e&&a&&(a.lastIndex=0,e=a.test(t)),e&&o&&(o.lastIndex=0,e=!o.test(t)),e}})}},9752:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(5772),a={encode:function(t,e){return t instanceof ArrayBuffer&&(t=new Uint8Array(t)),n.isBuffer(t)||(t=n.from(t,e)),i.encode(t)},decode:i.toBuffer};t.exports=a},4678:function(t,e,r){"use strict";var n=r(4476).Buffer,i=r(6280),a=r(9752);function o(t,e){e=e||{},n.isBuffer(t)?this.data=t:i.util.isArrayBuffer(t)?(t=new Uint8Array(t),this.data=n.from(t)):i.util.isArrayBufferView(t)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),this.data=n.from(t)),this.data&&(this.write=this.data.length,t=void 0),this.growSize=e.growSize||o.DEFAULT_GROW_SIZE,this.write=this.write||0,this.read=this.read||0,t?this.putBytes(t):this.data||this.accommodate(0),e.readOffset="readOffset"in e?e.readOffset:this.read,this.write="writeOffset"in e?e.writeOffset:this.write,this.read=Math.min(e.readOffset,this.write)}o.DEFAULT_GROW_SIZE=16,o.prototype.length=function(){return this.write-this.read},o.prototype.available=function(){return this.data.length-this.write},o.prototype.isEmpty=function(){return this.length()<=0},o.prototype.accommodate=function(t){if(this.data){if(this.available()<t){t=Math.max(t,this.growSize);var e=this.data,r=n.alloc(e.length+t);e.copy(r,0),this.data=r}}else t=Math.max(this.write+t,this.growSize),this.data=n.alloc(t);return this.data.fill(0,this.write),this},o.prototype.clear=function(){return this.read=this.write=0,this.data=n.alloc(0),this},o.prototype.truncate=function(t){return this.write=this.read+Math.max(0,this.length()-t),this.data.fill(0,this.write),this},o.prototype.compact=function(){return this.read>0&&(this.write===this.read?this.read=this.write=0:(this.data.copy(this.data,0,this.read,this.write),this.write=this.write-this.read,this.read=0),this.data.fill(0,this.write)),this},o.prototype.copy=function(){return new o(this,{readOffset:this.read,writeOffset:this.write,growSize:this.growSize})},o.prototype.equals=function(t){if(!o.isBuffer(t))return!1;if(t.length()!==this.length())return!1;for(var e=!0,r=this.read-t.read,n=t.read;t.write>n;n++)e=e&&this.data[n+r]===t.data[n];return e},o.prototype.at=function(t){return this.data[this.read+t]},o.prototype.setAt=function(t,e){return this.data[this.read+t]=e,this},o.prototype.last=function(){return this.data[this.write-1]},o.prototype.bytes=function(t){var e;if(void 0===t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)e="";else{var r=this.read,n=r+t,i=this.data.slice(r,n);e=String.fromCharCode.apply(null,i)}return e},o.prototype.buffer=function(t){var e;if(void 0===t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)e=new ArrayBuffer(0);else{var r=this.read,n=r+t,i=this.data.slice(r,n);(e=new Uint8Array(n-r)).set(i)}return e},o.prototype.native=function(t){var e;if(void 0===t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)e=n.alloc(0);else{var r=this.read,i=r+t;e=this.data.slice(r,i)}return e},o.prototype.toHex=function(){return this.toString("hex")},o.prototype.toString=function(t){if(0===this.length())return"";var e=this.data.slice(this.read,this.write);switch(t=t||"utf8"){case"raw":return e.toString("binary");case"base64url":return a.encode(e);case"utf16":return e.toString("ucs2");default:return e.toString(t)}},o.prototype.fillWithByte=function(t,e){return e||(e=this.available()),this.accommodate(e),this.data.fill(t,this.write,this.write+e),this.write+=e,this},o.prototype.getBuffer=function(t){var e=this.buffer(t);return this.read+=e.byteLength,e},o.prototype.putBuffer=function(t){return this.putBytes(t)},o.prototype.getBytes=function(t){var e=this.bytes(t);return this.read+=e.length,e},o.prototype.putBytes=function(t,e){if("string"==typeof t){switch(e=e||"binary"){case"utf16":e="ucs-2";break;case"raw":e="binary";break;case"base64url":t=a.decode(t)}n.isBuffer(t)||(t=n.from(t,e))}var r,s;if(t instanceof o){var u=t;t=u.data.slice(u.read,u.write),u.read=u.write}else t instanceof i.util.ByteStringBuffer&&(t=t.getBytes());if(n.isBuffer(t))r=t;else if(Array.isArray(t))r=n.from(t);else if(i.util.isArrayBuffer(t))r=new Uint8Array(t),r=n.from(r);else{if(!i.util.isArrayBufferView(t))throw new TypeError("invalid source type");r=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),r=n.from(r)}return this.accommodate(r.length),s=this.data,r.copy(s,this.write),this.write+=r.length,this},o.prototype.getNative=function(t){var e=this.native(t);return this.read+=e.length,e},o.prototype.putNative=o.prototype.putBuffer,o.prototype.getByte=function(){var t=this.data[this.read];return this.read=Math.min(this.read+1,this.write),t},o.prototype.putByte=function(t){return this.accommodate(1),this.data[this.write]=255&t,this.write++,this},o.prototype.getInt16=function(){var t=this.data[this.read]<<8^this.data[this.read+1];return this.read=Math.min(this.read+2,this.write),t},o.prototype.putInt16=function(t){return this.accommodate(2),this.data[this.write]=t>>>8&255,this.data[this.write+1]=255&t,this.write+=2,this},o.prototype.getInt24=function(){var t=this.data[this.read]<<16^this.data[this.read+1]<<8^this.data[this.read+2];return this.read=Math.min(this.read+3,this.write),t},o.prototype.putInt24=function(t){return this.accommodate(3),this.data[this.write]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write+2]=255&t,this.write+=3,this},o.prototype.getInt32=function(){var t=this.data[this.read]<<24^this.data[this.read+1]<<16^this.data[this.read+2]<<8^this.data[this.read+3];return this.read=Math.min(this.read+4,this.write),t},o.prototype.putInt32=function(t){return this.accommodate(4),this.data[this.write]=t>>>24&255,this.data[this.write+1]=t>>>16&255,this.data[this.write+2]=t>>>8&255,this.data[this.write+3]=255&t,this.write+=4,this},o.prototype.getInt16Le=function(){var t=this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+2,this.write),t},o.prototype.putInt16Le=function(t){return this.accommodate(2),this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=2,this},o.prototype.getInt24Le=function(){var t=this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+3,this.write),t},o.prototype.putInt24Le=function(t){return this.accommodate(3),this.data[this.write+2]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=3,this},o.prototype.getInt32Le=function(){var t=this.data[this.read+3]<<24^this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+4,this.write),t},o.prototype.putInt32Le=function(t){return this.accommodate(4),this.data[this.write+3]=t>>>24&255,this.data[this.write+2]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=4,this},o.prototype.getInt=function(t){var e=0;do{e=e<<8|this.getByte(),t-=8}while(t>0);return e},o.prototype.putInt=function(t,e){this.accommodate(Math.ceil(e/8));do{e-=8,this.putByte(t>>e&255)}while(e>0);return this},o.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},o.prototype.putString=function(t){return this.putBytes(t,"utf16")},o.isBuffer=function(t){return t instanceof o},o.asBuffer=function(t){return o.isBuffer(t)?t:t?new o(t):new o},t.exports=o},4237:function(t,e,r){"use strict";var n,i=r(4476).Buffer,a=r(6280);n={base64url:r(9752),utf8:r(8572),asBuffer:function(t,e){return i.isBuffer(t)?t:"string"==typeof t?"base64url"===(e=e||"binary")?n.base64url.decode(t):i.from(t,e):(a.util.isArrayBufferView(t)?t=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteOffset+t.byteLength):a.util.isArrayBuffer(t)&&(t=new Uint8Array(t)),i.from(t))},randomBytes:function(t){return i.from(a.random.getBytes(t),"binary")}},t.exports=n},5029:function(t,e,r){"use strict";var n,i=r(4476).Buffer,a=r(5544),o=r(2492),s=(n=[],"undefined"!=typeof Uint8ClampedArray&&n.push(Uint8ClampedArray),"undefined"!=typeof Uint8Array&&n.push(Uint8Array),"undefined"!=typeof Uint16Array&&n.push(Uint16Array),"undefined"!=typeof Uint32Array&&n.push(Uint32Array),"undefined"!=typeof Float32Array&&n.push(Float32Array),"undefined"!=typeof Float64Array&&n.push(Float64Array),n);t.exports=a(o,(function(t,e){if(i.isBuffer(e))e=i.from(e);else{var r=function(t){for(var e,r=0;!e&&s.length>r;r++)t instanceof s[r]&&(e=s[r]);return e}(e);e=r?new r(e,e.byteOffset,e.byteLength):void 0}return e}))},8572:function(t,e){"use strict";var r=e;r.encode=function(t){var e=encodeURIComponent(t||"");return e.replace(/%([0-9a-fA-F]{2})/g,(function(t,e){return e=parseInt(e,16),String.fromCharCode(e)}))},r.decode=function(t){var e=(t||"").replace(/[\u0080-\u00ff]/g,(function(t){return"%"+(256|t.charCodeAt(0)).toString(16).substring(1)}));return decodeURIComponent(e)}},4476:function(t,e,r){"use strict";var n=r(9742),i=r(645),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;var o=2147483647;function s(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|y(t,e),n=s(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(V(t,Uint8Array)){var e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(V(t,ArrayBuffer)||t&&V(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(V(t,SharedArrayBuffer)||t&&V(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);var i=function(t){if(u.isBuffer(t)){var e=0|d(t.length),r=s(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||M(t.length)?s(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return f(t),s(t<0?0:0|d(t))}function h(t){for(var e=t.length<0?0:0|d(t.length),r=s(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function d(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function y(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||V(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return D(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(t).length;default:if(i)return n?-1:D(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return B(this,e,r);case"latin1":case"binary":return k(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function v(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),M(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){var a,o=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var f=-1;for(a=r;a<s;a++)if(c(t,a)===c(e,-1===f?0:a-f)){if(-1===f&&(f=a),a-f+1===u)return f*o}else-1!==f&&(a-=a-f),f=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var l=!0,h=0;h<u;h++)if(c(t,a+h)!==c(e,h)){l=!1;break}if(l)return a}return-1}function E(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=e.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(e.substr(2*o,2),16);if(M(s))return o;t[r+o]=s}return o}function w(t,e,r,n){return K(D(e,t.length-r),t,r,n)}function C(t,e,r,n){return K(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function S(t,e,r,n){return K(j(e),t,r,n)}function _(t,e,r,n){return K(function(t,e){for(var r,n,i,a=[],o=0;o<t.length&&!((e-=2)<0);++o)n=(r=t.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function T(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a,o,s,u,c=t[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(a=t[i+1]))&&(u=(31&c)<<6|63&a)>127&&(f=u);break;case 3:a=t[i+1],o=t[i+2],128==(192&a)&&128==(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:a=t[i+1],o=t[i+2],s=t[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(t){var e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=I));return r}(n)}e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?s(t):void 0!==e?"string"==typeof r?s(t).fill(e,r):s(t).fill(e):s(t)}(t,e,r)},u.allocUnsafe=function(t){return l(t)},u.allocUnsafeSlow=function(t){return l(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(V(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),V(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(V(a,Uint8Array))i+a.length>n.length?u.from(a).copy(n,i):Uint8Array.prototype.set.call(n,a,i);else{if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i)}i+=a.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(V(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),s=Math.min(a,o),c=this.slice(n,i),f=t.slice(e,r),l=0;l<s;++l)if(c[l]!==f[l]){a=c[l],o=f[l];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return E(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return C(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function B(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function k(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function x(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=z[t[a]];return i}function R(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,a){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function O(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(t,e,r,n,a){return e=+e,r>>>=0,a||O(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,a){return e=+e,r>>>=0,a||O(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},u.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[e]=255&t;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<r&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var a;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var o=u.isBuffer(t)?t:u.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<r-e;++a)this[a+e]=o[a%s]}return this};var F=/[^+/0-9A-Za-z-_]/g;function D(t,e){var r;e=e||1/0;for(var n=t.length,i=null,a=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function j(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function V(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function M(t){return t!=t}var z=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},5967:function(t,e,r){"use strict";var n={};(0,r(4806).assign)(n,r(5850),r(5169),r(165)),t.exports=n},5850:function(t,e,r){"use strict";var n=r(670),i=r(4806),a=r(8493),o=r(7686),s=r(444),u=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==r)throw new Error(o[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var f;if(f="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(r=n.deflateSetDictionary(this.strm,f)))throw new Error(o[r]);this._dict_set=!0}}function f(t,e){var r=new c(e);if(r.push(t,!0),r.err)throw r.msg||o[r.err];return r.result}c.prototype.push=function(t,e){var r,o,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=a.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(r=n.deflate(s,o))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==r);return 4===o?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==o||(this.onEnd(0),s.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=c,e.deflate=f,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,f(t,e)}},5169:function(t,e,r){"use strict";var n=r(9846),i=r(4806),a=r(8493),o=r(165),s=r(7686),u=r(444),c=r(8210),f=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==o.Z_OK)throw new Error(s[r]);if(this.header=new c,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary))!==o.Z_OK))throw new Error(s[r])}function h(t,e){var r=new l(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}l.prototype.push=function(t,e){var r,s,u,c,l,h=this.strm,p=this.options.chunkSize,d=this.options.dictionary,y=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?h.input=a.binstring2buf(t):"[object ArrayBuffer]"===f.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),(r=n.inflate(h,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&d&&(r=n.inflateSetDictionary(this.strm,d)),r===o.Z_BUF_ERROR&&!0===y&&(r=o.Z_OK,y=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&r!==o.Z_STREAM_END&&(0!==h.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(u=a.utf8border(h.output,h.next_out),c=h.next_out-u,l=a.buf2string(h.output,u),h.next_out=c,h.avail_out=p-c,c&&i.arraySet(h.output,h.output,u,c,0),this.onData(l)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(y=!0)}while((h.avail_in>0||0===h.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),h.avail_out=0,!0)},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=l,e.inflate=h,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},e.ungzip=h},4806:function(t,e){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(t[i]=r[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){var e,r,n,i,a,o;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(o=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)a=t[e],o.set(a,i),i+=a.length;return o}},a={arraySet:function(t,e,r,n,i){for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(r)},8493:function(t,e,r){"use strict";var n=r(4806),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var o=new n.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",o=0;o<e;o++)r+=String.fromCharCode(t[o]);return r}o[254]=o[254]=1,e.string2buf=function(t){var e,r,i,a,o,s=t.length,u=0;for(a=0;a<s;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(u),o=0,a=0;o<u;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},e.buf2binstring=function(t){return u(t,t.length)},e.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,n,i,a,s=e||t.length,c=new Array(2*s);for(n=0,r=0;r<s;)if((i=t[r++])<128)c[n++]=i;else if((a=o[i])>4)c[n++]=65533,r+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&r<s;)i=i<<6|63&t[r++],a--;a>1?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return u(c,n)},e.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+o[t[r]]>e?r:e}},154:function(t){"use strict";t.exports=function(t,e,r,n){for(var i=65535&t|0,a=t>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{a=a+(i=i+e[n++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},165:function(t){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},4223:function(t){"use strict";var e=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();t.exports=function(t,r,n,i){var a=e,o=i+n;t^=-1;for(var s=i;s<o;s++)t=t>>>8^a[255&(t^r[s])];return-1^t}},670:function(t,e,r){"use strict";var n,i=r(4806),a=r(5732),o=r(154),s=r(4223),u=r(7686),c=-2,f=258,l=262,h=103,p=113,d=666;function y(t,e){return t.msg=u[e],e}function g(t){return(t<<1)-(t>4?9:0)}function v(t){for(var e=t.length;--e>=0;)t[e]=0}function m(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(i.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function b(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,m(t.strm)}function E(t,e){t.pending_buf[t.pending++]=e}function w(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function C(t,e){var r,n,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-l?t.strstart-(t.w_size-l):0,c=t.window,h=t.w_mask,p=t.prev,d=t.strstart+f,y=c[a+o-1],g=c[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(r=e)+o]===g&&c[r+o-1]===y&&c[r]===c[a]&&c[++r]===c[a+1]){a+=2,r++;do{}while(c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&a<d);if(n=f-(d-a),a=d-f,n>o){if(t.match_start=e,o=n,n>=s)break;y=c[a+o-1],g=c[a+o]}}}while((e=p[e&h])>u&&0!=--i);return o<=t.lookahead?o:t.lookahead}function S(t){var e,r,n,a,u,c,f,h,p,d,y=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=y+(y-l)){i.arraySet(t.window,t.window,y,y,0),t.match_start-=y,t.strstart-=y,t.block_start-=y,e=r=t.hash_size;do{n=t.head[--e],t.head[e]=n>=y?n-y:0}while(--r);e=r=y;do{n=t.prev[--e],t.prev[e]=n>=y?n-y:0}while(--r);a+=y}if(0===t.strm.avail_in)break;if(c=t.strm,f=t.window,h=t.strstart+t.lookahead,p=a,d=void 0,(d=c.avail_in)>p&&(d=p),r=0===d?0:(c.avail_in-=d,i.arraySet(f,c.input,c.next_in,d,h),1===c.state.wrap?c.adler=o(c.adler,f,d,h):2===c.state.wrap&&(c.adler=s(c.adler,f,d,h)),c.next_in+=d,c.total_in+=d,d),t.lookahead+=r,t.lookahead+t.insert>=3)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<l&&0!==t.strm.avail_in)}function _(t,e){for(var r,n;;){if(t.lookahead<l){if(S(t),t.lookahead<l&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-l&&(t.match_length=C(t,r)),t.match_length>=3)if(n=a._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function A(t,e){for(var r,n,i;;){if(t.lookahead<l){if(S(t),t.lookahead<l&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-l&&(t.match_length=C(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(b(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=a._tr_tally(t,0,t.window[t.strstart-1]))&&b(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function T(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function I(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),v(this.dyn_ltree),v(this.dyn_dtree),v(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),v(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),v(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function B(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:p,t.adler=2===e.wrap?0:1,e.last_flush=0,a._tr_init(e),0):y(t,c)}function k(t){var e,r=B(t);return 0===r&&((e=t.state).window_size=2*e.w_size,v(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r}function x(t,e,r,n,a,o){if(!t)return c;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>9||8!==r||n<8||n>15||e<0||e>9||o<0||o>4)return y(t,c);8===n&&(n=9);var u=new I;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=o,u.method=r,k(t)}n=[new T(0,0,0,0,(function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(S(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,b(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-l&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(b(t,!1),t.strm.avail_out),1)})),new T(4,4,8,4,_),new T(4,5,16,8,_),new T(4,6,32,32,_),new T(4,4,16,16,A),new T(8,16,32,32,A),new T(8,16,128,128,A),new T(8,32,128,256,A),new T(32,128,258,1024,A),new T(32,258,258,4096,A)],e.deflateInit=function(t,e){return x(t,e,8,15,8,0)},e.deflateInit2=x,e.deflateReset=k,e.deflateResetKeep=B,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?c:(t.state.gzhead=e,0):c},e.deflate=function(t,e){var r,i,o,u;if(!t||!t.state||e>5||e<0)return t?y(t,c):c;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===d&&4!==e)return y(t,0===t.avail_out?-5:c);if(i.strm=t,r=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,E(i,31),E(i,139),E(i,8),i.gzhead?(E(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),E(i,255&i.gzhead.time),E(i,i.gzhead.time>>8&255),E(i,i.gzhead.time>>16&255),E(i,i.gzhead.time>>24&255),E(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),E(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(E(i,255&i.gzhead.extra.length),E(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(E(i,0),E(i,0),E(i,0),E(i,0),E(i,0),E(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),E(i,3),i.status=p);else{var l=8+(i.w_bits-8<<4)<<8;l|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(l|=32),l+=31-l%31,i.status=p,w(i,l),0!==i.strstart&&(w(i,t.adler>>>16),w(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),m(t),o=i.pending,i.pending!==i.pending_buf_size));)E(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),m(t),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,E(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),m(t),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,E(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.status=h)}else i.status=h;if(i.status===h&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&m(t),i.pending+2<=i.pending_buf_size&&(E(i,255&t.adler),E(i,t.adler>>8&255),t.adler=0,i.status=p)):i.status=p),0!==i.pending){if(m(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&g(e)<=g(r)&&4!==e)return y(t,-5);if(i.status===d&&0!==t.avail_in)return y(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&i.status!==d){var C=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(S(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var r,n,i,o,s=t.window;;){if(t.lookahead<=f){if(S(t),t.lookahead<=f&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[i=t.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){o=t.strstart+f;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);t.match_length=f-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=a._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(i,e):n[i.level].func(i,e);if(3!==C&&4!==C||(i.status=d),1===C||3===C)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===C&&(1===e?a._tr_align(i):5!==e&&(a._tr_stored_block(i,0,0,!1),3===e&&(v(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),m(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(E(i,255&t.adler),E(i,t.adler>>8&255),E(i,t.adler>>16&255),E(i,t.adler>>24&255),E(i,255&t.total_in),E(i,t.total_in>>8&255),E(i,t.total_in>>16&255),E(i,t.total_in>>24&255)):(w(i,t.adler>>>16),w(i,65535&t.adler)),m(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&e!==h&&e!==p&&e!==d?y(t,c):(t.state=null,e===p?y(t,-3):0):c},e.deflateSetDictionary=function(t,e){var r,n,a,s,u,f,l,h,p=e.length;if(!t||!t.state)return c;if(2===(s=(r=t.state).wrap)||1===s&&42!==r.status||r.lookahead)return c;for(1===s&&(t.adler=o(t.adler,e,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(v(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new i.Buf8(r.w_size),i.arraySet(h,e,p-r.w_size,r.w_size,0),e=h,p=r.w_size),u=t.avail_in,f=t.next_in,l=t.input,t.avail_in=p,t.next_in=0,t.input=e,S(r);r.lookahead>=3;){n=r.strstart,a=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--a);r.strstart=n,r.lookahead=2,S(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=f,t.input=l,t.avail_in=u,r.wrap=s,0},e.deflateInfo="pako deflate (from Nodeca project)"},8210:function(t){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},1159:function(t){"use strict";t.exports=function(t,e){var r,n,i,a,o,s,u,c,f,l,h,p,d,y,g,v,m,b,E,w,C,S,_,A,T;r=t.state,n=t.next_in,A=t.input,i=n+(t.avail_in-5),a=t.next_out,T=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),u=r.dmax,c=r.wsize,f=r.whave,l=r.wnext,h=r.window,p=r.hold,d=r.bits,y=r.lencode,g=r.distcode,v=(1<<r.lenbits)-1,m=(1<<r.distbits)-1;t:do{d<15&&(p+=A[n++]<<d,d+=8,p+=A[n++]<<d,d+=8),b=y[p&v];e:for(;;){if(p>>>=E=b>>>24,d-=E,0==(E=b>>>16&255))T[a++]=65535&b;else{if(!(16&E)){if(0==(64&E)){b=y[(65535&b)+(p&(1<<E)-1)];continue e}if(32&E){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}w=65535&b,(E&=15)&&(d<E&&(p+=A[n++]<<d,d+=8),w+=p&(1<<E)-1,p>>>=E,d-=E),d<15&&(p+=A[n++]<<d,d+=8,p+=A[n++]<<d,d+=8),b=g[p&m];r:for(;;){if(p>>>=E=b>>>24,d-=E,!(16&(E=b>>>16&255))){if(0==(64&E)){b=g[(65535&b)+(p&(1<<E)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(C=65535&b,d<(E&=15)&&(p+=A[n++]<<d,(d+=8)<E&&(p+=A[n++]<<d,d+=8)),(C+=p&(1<<E)-1)>u){t.msg="invalid distance too far back",r.mode=30;break t}if(p>>>=E,d-=E,C>(E=a-o)){if((E=C-E)>f&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(S=0,_=h,0===l){if(S+=c-E,E<w){w-=E;do{T[a++]=h[S++]}while(--E);S=a-C,_=T}}else if(l<E){if(S+=c+l-E,(E-=l)<w){w-=E;do{T[a++]=h[S++]}while(--E);if(S=0,l<w){w-=E=l;do{T[a++]=h[S++]}while(--E);S=a-C,_=T}}}else if(S+=l-E,E<w){w-=E;do{T[a++]=h[S++]}while(--E);S=a-C,_=T}for(;w>2;)T[a++]=_[S++],T[a++]=_[S++],T[a++]=_[S++],w-=3;w&&(T[a++]=_[S++],w>1&&(T[a++]=_[S++]))}else{S=a-C;do{T[a++]=T[S++],T[a++]=T[S++],T[a++]=T[S++],w-=3}while(w>2);w&&(T[a++]=T[S++],w>1&&(T[a++]=T[S++]))}break}}break}}while(n<i&&a<s);n-=w=d>>3,p&=(1<<(d-=w<<3))-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=a<s?s-a+257:257-(a-s),r.hold=p,r.bits=d}},9846:function(t,e,r){"use strict";var n=r(4806),i=r(154),a=r(4223),o=r(1159),s=r(8524),u=-2,c=12,f=30;function l(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(852),e.distcode=e.distdyn=new n.Buf32(592),e.sane=1,e.back=-1,0):u}function d(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,p(t)):u}function y(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?u:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,d(t))):u}function g(t,e){var r,n;return t?(n=new h,t.state=n,n.window=null,0!==(r=y(t,e))&&(t.state=null),r):u}var v,m,b=!0;function E(t){if(b){var e;for(v=new n.Buf32(512),m=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,v,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,m,0,t.work,{bits:5}),b=!1}t.lencode=v,t.lenbits=9,t.distcode=m,t.distbits=5}function w(t,e,r,i){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),n.arraySet(o.window,e,r-i,a,o.wnext),(i-=a)?(n.arraySet(o.window,e,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}e.inflateReset=d,e.inflateReset2=y,e.inflateResetKeep=p,e.inflateInit=function(t){return g(t,15)},e.inflateInit2=g,e.inflate=function(t,e){var r,h,p,d,y,g,v,m,b,C,S,_,A,T,I,B,k,x,R,N,P,O,U,L,F=0,D=new n.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return u;(r=t.state).mode===c&&(r.mode=13),y=t.next_out,p=t.output,v=t.avail_out,d=t.next_in,h=t.input,g=t.avail_in,m=r.hold,b=r.bits,C=g,S=v,O=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;b<16;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}if(2&r.wrap&&35615===m){r.check=0,D[0]=255&m,D[1]=m>>>8&255,r.check=a(r.check,D,2,0),m=0,b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",r.mode=f;break}if(8!=(15&m)){t.msg="unknown compression method",r.mode=f;break}if(b-=4,P=8+(15&(m>>>=4)),0===r.wbits)r.wbits=P;else if(P>r.wbits){t.msg="invalid window size",r.mode=f;break}r.dmax=1<<P,t.adler=r.check=1,r.mode=512&m?10:c,m=0,b=0;break;case 2:for(;b<16;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}if(r.flags=m,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=f;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=f;break}r.head&&(r.head.text=m>>8&1),512&r.flags&&(D[0]=255&m,D[1]=m>>>8&255,r.check=a(r.check,D,2,0)),m=0,b=0,r.mode=3;case 3:for(;b<32;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}r.head&&(r.head.time=m),512&r.flags&&(D[0]=255&m,D[1]=m>>>8&255,D[2]=m>>>16&255,D[3]=m>>>24&255,r.check=a(r.check,D,4,0)),m=0,b=0,r.mode=4;case 4:for(;b<16;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}r.head&&(r.head.xflags=255&m,r.head.os=m>>8),512&r.flags&&(D[0]=255&m,D[1]=m>>>8&255,r.check=a(r.check,D,2,0)),m=0,b=0,r.mode=5;case 5:if(1024&r.flags){for(;b<16;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}r.length=m,r.head&&(r.head.extra_len=m),512&r.flags&&(D[0]=255&m,D[1]=m>>>8&255,r.check=a(r.check,D,2,0)),m=0,b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((_=r.length)>g&&(_=g),_&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,h,d,_,P)),512&r.flags&&(r.check=a(r.check,h,_,d)),g-=_,d+=_,r.length-=_),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===g)break t;_=0;do{P=h[d+_++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P))}while(P&&_<g);if(512&r.flags&&(r.check=a(r.check,h,_,d)),g-=_,d+=_,P)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===g)break t;_=0;do{P=h[d+_++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P))}while(P&&_<g);if(512&r.flags&&(r.check=a(r.check,h,_,d)),g-=_,d+=_,P)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;b<16;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}if(m!==(65535&r.check)){t.msg="header crc mismatch",r.mode=f;break}m=0,b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=c;break;case 10:for(;b<32;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}t.adler=r.check=l(m),m=0,b=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=y,t.avail_out=v,t.next_in=d,t.avail_in=g,r.hold=m,r.bits=b,2;t.adler=r.check=1,r.mode=c;case c:if(5===e||6===e)break t;case 13:if(r.last){m>>>=7&b,b-=7&b,r.mode=27;break}for(;b<3;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}switch(r.last=1&m,b-=1,3&(m>>>=1)){case 0:r.mode=14;break;case 1:if(E(r),r.mode=20,6===e){m>>>=2,b-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=f}m>>>=2,b-=2;break;case 14:for(m>>>=7&b,b-=7&b;b<32;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",r.mode=f;break}if(r.length=65535&m,m=0,b=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(_=r.length){if(_>g&&(_=g),_>v&&(_=v),0===_)break t;n.arraySet(p,h,d,_,y),g-=_,d+=_,v-=_,y+=_,r.length-=_;break}r.mode=c;break;case 17:for(;b<14;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}if(r.nlen=257+(31&m),m>>>=5,b-=5,r.ndist=1+(31&m),m>>>=5,b-=5,r.ncode=4+(15&m),m>>>=4,b-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=f;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;b<3;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}r.lens[j[r.have++]]=7&m,m>>>=3,b-=3}for(;r.have<19;)r.lens[j[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,U={bits:r.lenbits},O=s(0,r.lens,0,19,r.lencode,0,r.work,U),r.lenbits=U.bits,O){t.msg="invalid code lengths set",r.mode=f;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;B=(F=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,k=65535&F,!((I=F>>>24)<=b);){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}if(k<16)m>>>=I,b-=I,r.lens[r.have++]=k;else{if(16===k){for(L=I+2;b<L;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}if(m>>>=I,b-=I,0===r.have){t.msg="invalid bit length repeat",r.mode=f;break}P=r.lens[r.have-1],_=3+(3&m),m>>>=2,b-=2}else if(17===k){for(L=I+3;b<L;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}b-=I,P=0,_=3+(7&(m>>>=I)),m>>>=3,b-=3}else{for(L=I+7;b<L;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}b-=I,P=0,_=11+(127&(m>>>=I)),m>>>=7,b-=7}if(r.have+_>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=f;break}for(;_--;)r.lens[r.have++]=P}}if(r.mode===f)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=f;break}if(r.lenbits=9,U={bits:r.lenbits},O=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,U),r.lenbits=U.bits,O){t.msg="invalid literal/lengths set",r.mode=f;break}if(r.distbits=6,r.distcode=r.distdyn,U={bits:r.distbits},O=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,U),r.distbits=U.bits,O){t.msg="invalid distances set",r.mode=f;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(g>=6&&v>=258){t.next_out=y,t.avail_out=v,t.next_in=d,t.avail_in=g,r.hold=m,r.bits=b,o(t,S),y=t.next_out,p=t.output,v=t.avail_out,d=t.next_in,h=t.input,g=t.avail_in,m=r.hold,b=r.bits,r.mode===c&&(r.back=-1);break}for(r.back=0;B=(F=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,k=65535&F,!((I=F>>>24)<=b);){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}if(B&&0==(240&B)){for(x=I,R=B,N=k;B=(F=r.lencode[N+((m&(1<<x+R)-1)>>x)])>>>16&255,k=65535&F,!(x+(I=F>>>24)<=b);){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}m>>>=x,b-=x,r.back+=x}if(m>>>=I,b-=I,r.back+=I,r.length=k,0===B){r.mode=26;break}if(32&B){r.back=-1,r.mode=c;break}if(64&B){t.msg="invalid literal/length code",r.mode=f;break}r.extra=15&B,r.mode=22;case 22:if(r.extra){for(L=r.extra;b<L;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,b-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;B=(F=r.distcode[m&(1<<r.distbits)-1])>>>16&255,k=65535&F,!((I=F>>>24)<=b);){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}if(0==(240&B)){for(x=I,R=B,N=k;B=(F=r.distcode[N+((m&(1<<x+R)-1)>>x)])>>>16&255,k=65535&F,!(x+(I=F>>>24)<=b);){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}m>>>=x,b-=x,r.back+=x}if(m>>>=I,b-=I,r.back+=I,64&B){t.msg="invalid distance code",r.mode=f;break}r.offset=k,r.extra=15&B,r.mode=24;case 24:if(r.extra){for(L=r.extra;b<L;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,b-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=f;break}r.mode=25;case 25:if(0===v)break t;if(_=S-v,r.offset>_){if((_=r.offset-_)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=f;break}_>r.wnext?(_-=r.wnext,A=r.wsize-_):A=r.wnext-_,_>r.length&&(_=r.length),T=r.window}else T=p,A=y-r.offset,_=r.length;_>v&&(_=v),v-=_,r.length-=_;do{p[y++]=T[A++]}while(--_);0===r.length&&(r.mode=21);break;case 26:if(0===v)break t;p[y++]=r.length,v--,r.mode=21;break;case 27:if(r.wrap){for(;b<32;){if(0===g)break t;g--,m|=h[d++]<<b,b+=8}if(S-=v,t.total_out+=S,r.total+=S,S&&(t.adler=r.check=r.flags?a(r.check,p,S,y-S):i(r.check,p,S,y-S)),S=v,(r.flags?m:l(m))!==r.check){t.msg="incorrect data check",r.mode=f;break}m=0,b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;b<32;){if(0===g)break t;g--,m+=h[d++]<<b,b+=8}if(m!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=f;break}m=0,b=0}r.mode=29;case 29:O=1;break t;case f:O=-3;break t;case 31:return-4;case 32:default:return u}return t.next_out=y,t.avail_out=v,t.next_in=d,t.avail_in=g,r.hold=m,r.bits=b,(r.wsize||S!==t.avail_out&&r.mode<f&&(r.mode<27||4!==e))&&w(t,t.output,t.next_out,S-t.avail_out)?(r.mode=31,-4):(C-=t.avail_in,S-=t.avail_out,t.total_in+=C,t.total_out+=S,r.total+=S,r.wrap&&S&&(t.adler=r.check=r.flags?a(r.check,p,S,t.next_out-S):i(r.check,p,S,t.next_out-S)),t.data_type=r.bits+(r.last?64:0)+(r.mode===c?128:0)+(20===r.mode||15===r.mode?256:0),(0===C&&0===S||4===e)&&0===O&&(O=-5),O)},e.inflateEnd=function(t){if(!t||!t.state)return u;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?u:(r.head=e,e.done=!1,0):u},e.inflateSetDictionary=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?u:11===r.mode&&i(1,e,n,0)!==r.check?-3:w(t,e,n,n)?(r.mode=31,-4):(r.havedict=1,0):u},e.inflateInfo="pako inflate (from Nodeca project)"},8524:function(t,e,r){"use strict";var n=r(4806),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,u,c,f,l,h){var p,d,y,g,v,m,b,E,w,C=h.bits,S=0,_=0,A=0,T=0,I=0,B=0,k=0,x=0,R=0,N=0,P=null,O=0,U=new n.Buf16(16),L=new n.Buf16(16),F=null,D=0;for(S=0;S<=15;S++)U[S]=0;for(_=0;_<u;_++)U[e[r+_]]++;for(I=C,T=15;T>=1&&0===U[T];T--);if(I>T&&(I=T),0===T)return c[f++]=20971520,c[f++]=20971520,h.bits=1,0;for(A=1;A<T&&0===U[A];A++);for(I<A&&(I=A),x=1,S=1;S<=15;S++)if(x<<=1,(x-=U[S])<0)return-1;if(x>0&&(0===t||1!==T))return-1;for(L[1]=0,S=1;S<15;S++)L[S+1]=L[S]+U[S];for(_=0;_<u;_++)0!==e[r+_]&&(l[L[e[r+_]]++]=_);if(0===t?(P=F=l,m=19):1===t?(P=i,O-=257,F=a,D-=257,m=256):(P=o,F=s,m=-1),N=0,_=0,S=A,v=f,B=I,k=0,y=-1,g=(R=1<<I)-1,1===t&&R>852||2===t&&R>592)return 1;for(;;){b=S-k,l[_]<m?(E=0,w=l[_]):l[_]>m?(E=F[D+l[_]],w=P[O+l[_]]):(E=96,w=0),p=1<<S-k,A=d=1<<B;do{c[v+(N>>k)+(d-=p)]=b<<24|E<<16|w|0}while(0!==d);for(p=1<<S-1;N&p;)p>>=1;if(0!==p?(N&=p-1,N+=p):N=0,_++,0==--U[S]){if(S===T)break;S=e[r+l[_]]}if(S>I&&(N&g)!==y){for(0===k&&(k=I),v+=A,x=1<<(B=S-k);B+k<T&&!((x-=U[B+k])<=0);)B++,x<<=1;if(R+=1<<B,1===t&&R>852||2===t&&R>592)return 1;c[y=N&g]=I<<24|B<<16|v-f|0}}return 0!==N&&(c[v+N]=S-k<<24|64<<16|0),h.bits=I,0}},7686:function(t){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},5732:function(t,e,r){"use strict";var n=r(4806);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var f=new Array(60);i(f);var l=new Array(512);i(l);var h=new Array(256);i(h);var p=new Array(29);i(p);var d,y,g,v=new Array(30);function m(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function E(t){return t<256?l[t]:l[256+(t>>>7)]}function w(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function C(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function S(t,e,r){C(t,r[2*e],r[2*e+1])}function _(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function A(t,e,r){var n,i,a=new Array(16),o=0;for(n=1;n<=15;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=_(a[s]++,s))}}function T(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function I(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function B(t,e,r,n){var i=2*e,a=2*r;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]}function k(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&B(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!B(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function x(t,e,r){var n,i,s,u,c=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===n?S(t,i,e):(S(t,(s=h[i])+256+1,e),0!==(u=a[s])&&C(t,i-=p[s],u),S(t,s=E(--n),r),0!==(u=o[s])&&C(t,n-=v[s],u))}while(c<t.last_lit);S(t,256,e)}function R(t,e){var r,n,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<u;r++)0!==a[2*r]?(t.heap[++t.heap_len]=c=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=c,r=t.heap_len>>1;r>=1;r--)k(t,a,r);i=u;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],k(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,a[2*i]=a[2*r]+a[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,a[2*r+1]=a[2*n+1]=i,t.heap[1]=i++,k(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,a,o,s,u=e.dyn_tree,c=e.max_code,f=e.stat_desc.static_tree,l=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,y=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)(a=u[2*u[2*(n=t.heap[r])+1]+1]+1)>d&&(a=d,y++),u[2*n+1]=a,n>c||(t.bl_count[a]++,o=0,n>=p&&(o=h[n-p]),s=u[2*n],t.opt_len+=s*(a+o),l&&(t.static_len+=s*(f[2*n+1]+o)));if(0!==y){do{for(a=d-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[d]--,y-=2}while(y>0);for(a=d;0!==a;a--)for(n=t.bl_count[a];0!==n;)(i=t.heap[--r])>c||(u[2*i+1]!==a&&(t.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),n--)}}(t,e),A(a,c,t.bl_count)}function N(t,e,r){var n,i,a=-1,o=e[1],s=0,u=7,c=4;for(0===o&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++s<u&&i===o||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,a=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4))}function P(t,e,r){var n,i,a=-1,o=e[1],s=0,u=7,c=4;for(0===o&&(u=138,c=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++s<u&&i===o)){if(s<c)do{S(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(S(t,i,t.bl_tree),s--),S(t,16,t.bl_tree),C(t,s-3,2)):s<=10?(S(t,17,t.bl_tree),C(t,s-3,3)):(S(t,18,t.bl_tree),C(t,s-11,7));s=0,a=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4)}}i(v);var O=!1;function U(t,e,r,i){C(t,0+(i?1:0),3),function(t,e,r,i){I(t),w(t,r),w(t,~r),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r)}e._tr_init=function(t){O||(function(){var t,e,r,n,i,u=new Array(16);for(r=0,n=0;n<28;n++)for(p[n]=r,t=0;t<1<<a[n];t++)h[r++]=n;for(h[r-1]=n,i=0,n=0;n<16;n++)for(v[n]=i,t=0;t<1<<o[n];t++)l[i++]=n;for(i>>=7;n<30;n++)for(v[n]=i<<7,t=0;t<1<<o[n]-7;t++)l[256+i++]=n;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,u[8]++;for(;t<=255;)c[2*t+1]=9,t++,u[9]++;for(;t<=279;)c[2*t+1]=7,t++,u[7]++;for(;t<=287;)c[2*t+1]=8,t++,u[8]++;for(A(c,287,u),t=0;t<30;t++)f[2*t+1]=5,f[2*t]=_(t,5);d=new m(c,a,257,286,15),y=new m(f,o,0,30,15),g=new m(new Array(0),s,0,19,7)}(),O=!0),t.l_desc=new b(t.dyn_ltree,d),t.d_desc=new b(t.dyn_dtree,y),t.bl_desc=new b(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,T(t)},e._tr_stored_block=U,e._tr_flush_block=function(t,e,r,n){var i,a,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),R(t,t.l_desc),R(t,t.d_desc),o=function(t){var e;for(N(t,t.dyn_ltree,t.l_desc.max_code),N(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==e?U(t,e,r,n):4===t.strategy||a===i?(C(t,2+(n?1:0),3),x(t,c,f)):(C(t,4+(n?1:0),3),function(t,e,r,n){var i;for(C(t,e-257,5),C(t,r-1,5),C(t,n-4,4),i=0;i<n;i++)C(t,t.bl_tree[2*u[i]+1],3);P(t,t.dyn_ltree,e-1),P(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),x(t,t.dyn_ltree,t.dyn_dtree)),T(t),n&&I(t)},e._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(h[r]+256+1)]++,t.dyn_dtree[2*E(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){C(t,2,3),S(t,256,c),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},444:function(t){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},4155:function(t){var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,u=[],c=!1,f=-1;function l(){c&&s&&(c=!1,s.length?u=s.concat(u):f=-1,u.length&&h())}function h(){if(!c){var t=o(l);c=!0;for(var e=u.length;e;){for(s=u,u=[];++f<e;)s&&s[f].run();f=-1,e=u.length}s=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),1!==u.length||c||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},5666:function(t){var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),o=new B(n||[]);return a._invoke=function(t,e,r){var n=l;return function(i,a){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw a;return x()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=A(o,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=f(t,e,r);if("normal"===u.type){if(n=r.done?d:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,o),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",h="suspendedYield",p="executing",d="completed",y={};function g(){}function v(){}function m(){}var b={};b[a]=function(){return this};var E=Object.getPrototypeOf,w=E&&E(E(k([])));w&&w!==r&&n.call(w,a)&&(b=w);var C=m.prototype=g.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(i,a,o,s){var u=f(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function a(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(a,a):a()}}function A(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=f(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function B(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function k(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:x}}function x(){return{value:e,done:!0}}return v.prototype=C.constructor=m,m.constructor=v,v.displayName=u(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,s,"GeneratorFunction")),t.prototype=Object.create(C),t},t.awrap=function(t){return{__await:t}},S(_.prototype),_.prototype[o]=function(){return this},t.AsyncIterator=_,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new _(c(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},S(C),u(C,s,"Generator"),C[a]=function(){return this},C.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},5877:function(t,e,r){var n=r(3570),i=r(1171),a=i;a.v1=n,a.v4=i,t.exports=a},5327:function(t){for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function(t,r){var n=r||0,i=e;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")}},5217:function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},3570:function(t,e,r){var n,i,a=r(5217),o=r(5327),s=0,u=0;t.exports=function(t,e,r){var c=e&&r||0,f=e||[],l=(t=t||{}).node||n,h=void 0!==t.clockseq?t.clockseq:i;if(null==l||null==h){var p=a();null==l&&(l=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=i=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),y=void 0!==t.nsecs?t.nsecs:u+1,g=d-s+(y-u)/1e4;if(g<0&&void 0===t.clockseq&&(h=h+1&16383),(g<0||d>s)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,u=y,i=h;var v=(1e4*(268435455&(d+=122192928e5))+y)%4294967296;f[c++]=v>>>24&255,f[c++]=v>>>16&255,f[c++]=v>>>8&255,f[c++]=255&v;var m=d/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=h>>>8|128,f[c++]=255&h;for(var b=0;b<6;++b)f[c+b]=l[b];return e||o(f)}},1171:function(t,e,r){var n=r(5217),i=r(5327);t.exports=function(t,e,r){var a=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var s=0;s<16;++s)e[a+s]=o[s];return e||i(o)}},2678:function(){},5819:function(){},3438:function(){}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,r){return!r||"object"!==a(r)&&"function"!=typeof r?e(t):r}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function f(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){l(a,n,i,o,s,"next",t)}function s(t){l(a,n,i,o,s,"throw",t)}o(void 0)}))}}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=r(7757),y=r.n(d);function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),t}function m(){}r(7042),r(4916),r(4723),r(2222),r(2419),r(4747),r(7941),r(6992),r(1539),r(189),r(8783),r(3948),r(8674),r(9337),r(1038),r(8309),r(561),r(1249),r(3123),r(7327),r(9600),r(5218),r(1532),r(9601),r(5306),r(3290),r(2526),r(1817),r(2165);var b=function(t){return t};function E(t){return t()}function w(){return Object.create(null)}function C(t){t.forEach(E)}function S(t){return"function"==typeof t}function _(t,e){return t!=t?e==e:t!==e||t&&"object"===a(t)||"function"==typeof t}function A(t){return null==t?"":t}var T="undefined"!=typeof window,I=T?function(){return window.performance.now()}:function(){return Date.now()},B=T?function(t){return requestAnimationFrame(t)}:m,k=new Set;function x(t){k.forEach((function(e){e.c(t)||(k.delete(e),e.f())})),0!==k.size&&B(x)}function R(t){var e;return 0===k.size&&B(x),{promise:new Promise((function(r){k.add(e={c:t,f:r})})),abort:function(){k.delete(e)}}}function N(t,e){t.appendChild(e)}function P(t,e,r){t.insertBefore(e,r||null)}function O(t){t.parentNode.removeChild(t)}function U(t,e){for(var r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function L(t){return document.createElement(t)}function F(t){return document.createTextNode(t)}function D(){return F(" ")}function j(t,e,r,n){return t.addEventListener(e,r,n),function(){return t.removeEventListener(e,r,n)}}function K(t,e,r){null==r?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function V(t){return Array.from(t.childNodes)}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(t,e){var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,!1,!1,e),r}var H,q=new Set,G=0;function W(t){for(var e=5381,r=t.length;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function Z(t,e,r,n,i,a,o){for(var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=16.666/n,c="{\n",f=0;f<=1;f+=u){var l=e+(r-e)*a(f);c+=100*f+"%{".concat(o(l,1-l),"}\n")}var h=c+"100% {".concat(o(r,1-r),"}\n}"),p="__svelte_".concat(W(h),"_").concat(s),d=t.ownerDocument;q.add(d);var y=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(L("style")).sheet),g=d.__svelte_rules||(d.__svelte_rules={});g[p]||(g[p]=!0,y.insertRule("@keyframes ".concat(p," ").concat(h),y.cssRules.length));var v=t.style.animation||"";return t.style.animation="".concat(v?"".concat(v,", "):"").concat(p," ").concat(n,"ms linear ").concat(i,"ms 1 both"),G+=1,p}function Q(t,e){var r=(t.style.animation||"").split(", "),n=r.filter(e?function(t){return t.indexOf(e)<0}:function(t){return-1===t.indexOf("__svelte")}),i=r.length-n.length;i&&(t.style.animation=n.join(", "),(G-=i)||B((function(){G||(q.forEach((function(t){for(var e=t.__svelte_stylesheet,r=e.cssRules.length;r--;)e.deleteRule(r);t.__svelte_rules={}})),q.clear())})))}function $(t){H=t}function Y(){if(!H)throw new Error("Function called outside component initialization");return H}function X(t){Y().$$.on_mount.push(t)}var J=[],tt=[],et=[],rt=[],nt=Promise.resolve(),it=!1;function at(t){et.push(t)}var ot,st=!1,ut=new Set;function ct(){if(!st){st=!0;do{for(var t=0;t<J.length;t+=1){var e=J[t];$(e),ft(e.$$)}for($(null),J.length=0;tt.length;)tt.pop()();for(var r=0;r<et.length;r+=1){var n=et[r];ut.has(n)||(ut.add(n),n())}et.length=0}while(J.length);for(;rt.length;)rt.pop()();it=!1,st=!1,ut.clear()}}function ft(t){if(null!==t.fragment){t.update(),C(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(at)}}function lt(){return ot||(ot=Promise.resolve()).then((function(){ot=null})),ot}function ht(t,e,r){t.dispatchEvent(z("".concat(e?"intro":"outro").concat(r)))}var pt,dt=new Set;function yt(t,e){t&&t.i&&(dt.delete(t),t.i(e))}function gt(t,e,r,n){if(t&&t.o){if(dt.has(t))return;dt.add(t),pt.c.push((function(){dt.delete(t),n&&(r&&t.d(1),n())})),t.o(e)}}var vt={duration:0};function mt(t,e,r,n){var i=t.$$,a=i.fragment,o=i.on_mount,s=i.on_destroy,u=i.after_update;a&&a.m(e,r),n||at((function(){var e=o.map(E).filter(S);s?s.push.apply(s,f(e)):C(e),t.$$.on_mount=[]})),u.forEach(at)}function bt(t,e){var r=t.$$;null!==r.fragment&&(C(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Et(t,e){-1===t.$$.dirty[0]&&(J.push(t),it||(it=!0,nt.then(ct)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function wt(t,e,r,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[-1],s=H;$(t);var u=t.$$={fragment:null,ctx:null,props:a,update:m,not_equal:i,bound:w(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:e.context||[]),callbacks:w(),dirty:o,skip_bound:!1},c=!1;if(u.ctx=r?r(t,e.props||{},(function(e,r){var n=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:r;return u.ctx&&i(u.ctx[e],u.ctx[e]=n)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](n),c&&Et(t,e)),r})):[],u.update(),c=!0,C(u.before_update),u.fragment=!!n&&n(u.ctx),e.target){if(e.hydrate){var f=V(e.target);u.fragment&&u.fragment.l(f),f.forEach(O)}else u.fragment&&u.fragment.c();e.intro&&yt(t.$$.fragment),mt(t,e.target,e.anchor,e.customElement),ct()}$(s)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&HTMLElement;var Ct=function(){function e(){t(this,e)}return v(e,[{key:"$destroy",value:function(){bt(this,1),this.$destroy=m}},{key:"$on",value:function(t,e){var r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}}},{key:"$set",value:function(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}]),e}();function St(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r(6699),r(2023),r(7727),r(285);var _t=function(){function e(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._onDecodeError,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._calculateScanRegion,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"environment";t(this,e),this.$video=r,this.$canvas=document.createElement("canvas"),this._onDecode=n,this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE,this._preferredFacingMode=o,this._active=!1,this._paused=!1,this._flashOn=!1,"number"==typeof i?(this._legacyCanvasSize=i,console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future")):this._onDecodeError=i,"number"==typeof a?(this._legacyCanvasSize=a,console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future")):this._calculateScanRegion=a,this._scanRegion=this._calculateScanRegion(r),this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this.$video.playsInline=!0,this.$video.muted=!0,this.$video.disablePictureInPicture=!0,this.$video.addEventListener("play",this._onPlay),this.$video.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),this._qrEnginePromise=e.createQrEngine()}return v(e,[{key:"hasFlash",value:function(){if(!("ImageCapture"in window))return Promise.resolve(!1);var t=this.$video.srcObject?this.$video.srcObject.getVideoTracks()[0]:null;return t?new ImageCapture(t).getPhotoCapabilities().then((function(t){return t.fillLightMode.includes("flash")})).catch((function(t){return console.warn(t),!1})):Promise.reject("Camera not started or not available")}},{key:"isFlashOn",value:function(){return this._flashOn}},{key:"toggleFlash",value:function(){return this._setFlash(!this._flashOn)}},{key:"turnFlashOff",value:function(){return this._setFlash(!1)}},{key:"turnFlashOn",value:function(){return this._setFlash(!0)}},{key:"destroy",value:function(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),this.stop(),e._postWorkerMessage(this._qrEnginePromise,"close")}},{key:"start",value:function(){var t=this;if(this._active&&!this._paused)return Promise.resolve();if("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,this._paused=!1,document.hidden)return Promise.resolve();if(clearTimeout(this._offTimeout),this._offTimeout=null,this.$video.srcObject)return this.$video.play(),Promise.resolve();var e=this._preferredFacingMode;return this._getCameraStream(e,!0).catch((function(){return e="environment"===e?"user":"environment",t._getCameraStream()})).then((function(r){e=t._getFacingMode(r)||e,t.$video.srcObject=r,t.$video.play(),t._setVideoMirror(e)})).catch((function(e){throw t._active=!1,e}))}},{key:"stop",value:function(){this.pause(),this._active=!1}},{key:"pause",value:function(){var t=this;this._paused=!0,this._active&&(this.$video.pause(),this._offTimeout||(this._offTimeout=setTimeout((function(){var e,r=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return St(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?St(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}(t.$video.srcObject?t.$video.srcObject.getTracks():[]);try{for(r.s();!(e=r.n()).done;)e.value.stop()}catch(t){r.e(t)}finally{r.f()}t.$video.srcObject=null,t._offTimeout=null}),300)))}},{key:"setGrayscaleWeights",value:function(t,r,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:r,blue:n,useIntegerApproximation:i})}},{key:"setInversionMode",value:function(t){e._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}},{key:"_onPlay",value:function(){this._scanRegion=this._calculateScanRegion(this.$video),this._scanFrame()}},{key:"_onLoadedMetaData",value:function(){this._scanRegion=this._calculateScanRegion(this.$video)}},{key:"_onVisibilityChange",value:function(){document.hidden?this.pause():this._active&&this.start()}},{key:"_calculateScanRegion",value:function(t){var e=Math.min(t.videoWidth,t.videoHeight),r=Math.round(2/3*e);return{x:(t.videoWidth-r)/2,y:(t.videoHeight-r)/2,width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}},{key:"_scanFrame",value:function(){var t=this;if(!this._active||this.$video.paused||this.$video.ended)return!1;requestAnimationFrame((function(){t.$video.readyState<=1?t._scanFrame():t._qrEnginePromise.then((function(r){return e.scanImage(t.$video,t._scanRegion,r,t.$canvas)})).then(t._onDecode,(function(r){t._active&&(-1!==(r.message||r).indexOf("service unavailable")&&(t._qrEnginePromise=e.createQrEngine()),t._onDecodeError(r))})).then((function(){return t._scanFrame()}))}))}},{key:"_onDecodeError",value:function(t){t!==e.NO_QR_CODE_FOUND&&console.log(t)}},{key:"_getCameraStream",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[{width:{min:1024}},{width:{min:768}},{}];return t&&(e&&(t={exact:t}),r.forEach((function(e){return e.facingMode=t}))),this._getMatchingCameraStream(r)}},{key:"_getMatchingCameraStream",value:function(t){var e=this;return navigator.mediaDevices&&0!==t.length?navigator.mediaDevices.getUserMedia({video:t.shift()}).catch((function(){return e._getMatchingCameraStream(t)})):Promise.reject("Camera not found.")}},{key:"_setFlash",value:function(t){var e=this;return this.hasFlash().then((function(r){return r?e.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:t}]}):Promise.reject("No flash available")})).then((function(){return e._flashOn=t}))}},{key:"_setVideoMirror",value:function(t){var e="user"===t?-1:1;this.$video.style.transform="scaleX("+e+")"}},{key:"_getFacingMode",value:function(t){var e=t.getVideoTracks()[0];return e?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}}],[{key:"hasCamera",value:function(){return navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then((function(t){return t.some((function(t){return"videoinput"===t.kind}))})).catch((function(){return!1})):Promise.resolve(!1)}},{key:"scanImage",value:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=i instanceof Worker,c=Promise.all([i||e.createQrEngine(),e._loadImage(t)]).then((function(t){var s,c=p(t,2),f=c[0],l=c[1];i=f;var h=p(r._drawToCanvas(l,n,a,o),2);return a=h[0],s=h[1],i instanceof Worker?(u||i.postMessage({type:"inversionMode",data:"both"}),new Promise((function(t,r){var n,o,u;o=function(a){"qrResult"===a.data.type&&(i.removeEventListener("message",o),i.removeEventListener("error",u),clearTimeout(n),null!==a.data.data?t(a.data.data):r(e.NO_QR_CODE_FOUND))},u=function(t){i.removeEventListener("message",o),i.removeEventListener("error",u),clearTimeout(n);var e=t?t.message||t:"Unknown Error";r("Scanner error: "+e)},i.addEventListener("message",o),i.addEventListener("error",u),n=setTimeout((function(){return u("timeout")}),1e4);var c=s.getImageData(0,0,a.width,a.height);i.postMessage({type:"decode",data:c},[c.data.buffer])}))):new Promise((function(t,r){var n=setTimeout((function(){return r("Scanner error: timeout")}),1e4);i.detect(a).then((function(n){n.length?t(n[0].rawValue):r(e.NO_QR_CODE_FOUND)})).catch((function(t){return r("Scanner error: "+(t.message||t))})).finally((function(){return clearTimeout(n)}))}))}));return n&&s&&(c=c.catch((function(){return e.scanImage(t,null,i,a,o)}))),c.finally((function(){u||e._postWorkerMessage(i,"close")}))}},{key:"createQrEngine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.WORKER_PATH;return("BarcodeDetector"in window?BarcodeDetector.getSupportedFormats():Promise.resolve([])).then((function(e){return-1!==e.indexOf("qr_code")?new BarcodeDetector({formats:["qr_code"]}):new Worker(t)}))}},{key:"_drawToCanvas",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r=r||document.createElement("canvas");var i=e&&e.x?e.x:0,a=e&&e.y?e.y:0,o=e&&e.width?e.width:t.width||t.videoWidth,s=e&&e.height?e.height:t.height||t.videoHeight;n||(r.width=e&&e.downScaledWidth?e.downScaledWidth:o,r.height=e&&e.downScaledHeight?e.downScaledHeight:s);var u=r.getContext("2d",{alpha:!1});return u.imageSmoothingEnabled=!1,u.drawImage(t,i,a,o,s,0,0,r.width,r.height),[r,u]}},{key:"_loadImage",value:function(t){if(t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||window.ImageBitmap&&t instanceof window.ImageBitmap||window.OffscreenCanvas&&t instanceof window.OffscreenCanvas)return Promise.resolve(t);if(t instanceof Image)return e._awaitImageLoad(t).then((function(){return t}));if(t instanceof File||t instanceof Blob||t instanceof URL||"string"==typeof t){var r=new Image;return t instanceof File||t instanceof Blob?r.src=URL.createObjectURL(t):r.src=t,e._awaitImageLoad(r).then((function(){return(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(r.src),r}))}return Promise.reject("Unsupported image type.")}},{key:"_awaitImageLoad",value:function(t){return new Promise((function(e,r){var n,i;t.complete&&0!==t.naturalWidth?e():(n=function(){t.removeEventListener("load",n),t.removeEventListener("error",i),e()},i=function(){t.removeEventListener("load",n),t.removeEventListener("error",i),r("Image load error")},t.addEventListener("load",n),t.addEventListener("error",i))}))}},{key:"_postWorkerMessage",value:function(t,e,r){return Promise.resolve(t).then((function(t){t instanceof Worker&&t.postMessage({type:e,data:r})}))}}]),e}();function At(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.delay,n=void 0===r?0:r,i=e.duration,a=void 0===i?400:i,o=e.easing,s=void 0===o?b:o,u=+getComputedStyle(t).opacity;return{delay:n,duration:a,easing:s,css:function(t){return"opacity: ".concat(t*u)}}}function Tt(t,e,r){var n=t.slice();return n[10]=e[r],n[12]=r,n}function It(t){var e,r;return{c:function(){K(e=L("input"),"type","checkbox"),e.checked=r=!!t[10]},m:function(t,r){P(t,e,r)},p:function(t,n){16&n&&r!==(r=!!t[10])&&(e.checked=r)},d:function(t){t&&O(e)}}}function Bt(t){var e,r;return{c:function(){K(e=L("input"),"class",r=A("".concat(t[2]," centered"))+" svelte-vfzm0e"),K(e,"type","checkbox"),e.checked=!0},m:function(t,r){P(t,e,r)},p:function(t,n){4&n&&r!==(r=A("".concat(t[2]," centered"))+" svelte-vfzm0e")&&K(e,"class",r)},d:function(t){t&&O(e)}}}function kt(t){for(var e,r,n,i,a,o,s,u,c,f,l,h,d,y,g,v,E=t[4],w=[],_=0;_<E.length;_+=1)w[_]=It(Tt(t,E,_));var A=t[5]&&Bt(t);return{c:function(){e=L("div"),r=L("div");for(var a=0;a<w.length;a+=1)w[a].c();n=D(),(i=L("h1")).textContent="Scan QR",s=D(),A&&A.c(),u=D(),c=L("video"),f=L("track"),l=D(),h=L("button"),d=F("Cancel"),K(r,"class","checkboxes"),K(i,"class","svelte-vfzm0e"),K(e,"class",t[0]),K(f,"kind","captions"),K(c,"class",t[2]),K(h,"class",t[1])},m:function(a,o){P(a,e,o),N(e,r);for(var p=0;p<w.length;p+=1)w[p].m(r,null);N(e,n),N(e,i),P(a,s,o),A&&A.m(a,o),P(a,u,o),P(a,c,o),N(c,f),t[7](c),P(a,l,o),P(a,h,o),N(h,d),y=!0,g||(v=j(h,"click",t[6]),g=!0)},p:function(t,n){var i=p(n,1)[0];if(16&i){var a;for(E=t[4],a=0;a<E.length;a+=1){var o=Tt(t,E,a);w[a]?w[a].p(o,i):(w[a]=It(o),w[a].c(),w[a].m(r,null))}for(;a<w.length;a+=1)w[a].d(1);w.length=E.length}(!y||1&i)&&K(e,"class",t[0]),t[5]?A?A.p(t,i):((A=Bt(t)).c(),A.m(u.parentNode,u)):A&&(A.d(1),A=null),(!y||4&i)&&K(c,"class",t[2]),(!y||2&i)&&K(h,"class",t[1])},i:function(t){y||(at((function(){o&&o.end(1),a||(a=function(t,e,r){var n,i,a=e(t,{}),o=!1,s=0;function u(){n&&Q(t,n)}function c(){var e=a||vt,r=e.delay,c=void 0===r?0:r,f=e.duration,l=void 0===f?300:f,h=e.easing,p=void 0===h?b:h,d=e.tick,y=void 0===d?m:d,g=e.css;g&&(n=Z(t,0,1,l,c,p,g,s++)),y(0,1);var v=I()+c,E=v+l;i&&i.abort(),o=!0,at((function(){return ht(t,!0,"start")})),i=R((function(e){if(o){if(e>=E)return y(1,0),ht(t,!0,"end"),u(),o=!1;if(e>=v){var r=p((e-v)/l);y(r,1-r)}}return o}))}var f=!1;return{start:function(){f||(Q(t),S(a)?(a=a(),lt().then(c)):c())},invalidate:function(){f=!1},end:function(){o&&(u(),o=!1)}}}(i,At)),a.start()})),y=!0)},o:function(t){a&&a.invalidate(),o=function(t,e,r){var n,i=e(t,{}),a=!0,o=pt;function s(){var e=i||vt,r=e.delay,s=void 0===r?0:r,u=e.duration,c=void 0===u?300:u,f=e.easing,l=void 0===f?b:f,h=e.tick,p=void 0===h?m:h,d=e.css;d&&(n=Z(t,1,0,c,s,l,d));var y=I()+s,g=y+c;at((function(){return ht(t,!1,"start")})),R((function(e){if(a){if(e>=g)return p(0,1),ht(t,!1,"end"),--o.r||C(o.c),!1;if(e>=y){var r=l((e-y)/c);p(1-r,r)}}return a}))}return o.r+=1,S(i)?lt().then((function(){i=i(),s()})):s(),{end:function(e){e&&i.tick&&i.tick(1,0),a&&(n&&Q(t,n),a=!1)}}}(i,At),y=!1},d:function(r){r&&O(e),U(w,r),r&&o&&o.end(),r&&O(s),A&&A.d(r),r&&O(u),r&&O(c),t[7](null),r&&O(l),r&&O(h),g=!1,v()}}}function xt(t,e,r){var n,i,a=(n=Y(),function(t,e){var r=n.$$.callbacks[t];if(r){var i=z(t,e);r.slice().forEach((function(t){t.call(n,i)}))}}),o=e.instructionClass,s=e.buttonClass,u=e.videoClass,c=new Array(1).fill(null),f=!1;return X((function(){var t=new _t(i,(function(e){var n=e.match(/shc:\/((\d+)\/(\d+)\/)?(\d+)/),i=parseInt(n[2])||1,o=parseInt(n[3])||1,s=n[4].match(/\d\d/g).map((function(t){return String.fromCharCode(parseInt(t)+45)})).join("");if(o!==c.length&&r(4,c=new Array(o).fill(null)),r(4,c[i-1]=s,c),r(5,f=!0),setTimeout((function(){r(5,f=!1)}),750),c.every((function(t){return!!t}))){var u=c.join("");a("scanned",u),t.stop()}}),(function(t){a("scanning-error",t)}),(function(t){return{x:0,y:0,width:t.videoWidth,height:t.videoHeight}}));return t.start(),function(){t.stop()}})),t.$$set=function(t){"instructionClass"in t&&r(0,o=t.instructionClass),"buttonClass"in t&&r(1,s=t.buttonClass),"videoClass"in t&&r(2,u=t.videoClass)},[o,s,u,i,c,f,function(){a("scan-canceled")},function(t){tt[t?"unshift":"push"]((function(){r(3,i=t)}))}]}_t.DEFAULT_CANVAS_SIZE=400,_t.NO_QR_CODE_FOUND="No QR code found",_t.WORKER_PATH="qr-scanner-worker.min.js";var Rt=function(r){i(c,r);var n,a,u=(n=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(n);if(a){var r=s(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return o(this,t)});function c(r){var n;return t(this,c),wt(e(n=u.call(this)),r,xt,kt,_,{instructionClass:0,buttonClass:1,videoClass:2}),n}return c}(Ct);function Nt(t){let e=t.length;for(;--e>=0;)t[e]=0}r(9714);const Pt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ot=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ut=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Lt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ft=new Array(576);Nt(Ft);const Dt=new Array(60);Nt(Dt);const jt=new Array(512);Nt(jt);const Kt=new Array(256);Nt(Kt);const Vt=new Array(29);Nt(Vt);const Mt=new Array(30);function zt(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let Ht,qt,Gt;function Wt(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}Nt(Mt);const Zt=t=>t<256?jt[t]:jt[256+(t>>>7)],Qt=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},$t=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,Qt(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},Yt=(t,e,r)=>{$t(t,r[2*e],r[2*e+1])},Xt=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},Jt=(t,e,r)=>{const n=new Array(16);let i,a,o=0;for(i=1;i<=15;i++)n[i]=o=o+r[i-1]<<1;for(a=0;a<=e;a++){let e=t[2*a+1];0!==e&&(t[2*a]=Xt(n[e]++,e))}},te=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},ee=t=>{t.bi_valid>8?Qt(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},re=(t,e,r,n)=>{const i=2*e,a=2*r;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]},ne=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&re(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!re(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},ie=(t,e,r)=>{let n,i,a,o,s=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===n?Yt(t,i,e):(a=Kt[i],Yt(t,a+256+1,e),o=Pt[a],0!==o&&(i-=Vt[a],$t(t,i,o)),n--,a=Zt(n),Yt(t,a,r),o=Ot[a],0!==o&&(n-=Mt[a],$t(t,n,o)))}while(s<t.last_lit);Yt(t,256,e)},ae=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.elems;let o,s,u,c=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<a;o++)0!==r[2*o]?(t.heap[++t.heap_len]=c=o,t.depth[o]=0):r[2*o+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,r[2*u]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[2*u+1]);for(e.max_code=c,o=t.heap_len>>1;o>=1;o--)ne(t,r,o);u=a;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],ne(t,r,1),s=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=s,r[2*u]=r[2*o]+r[2*s],t.depth[u]=(t.depth[o]>=t.depth[s]?t.depth[o]:t.depth[s])+1,r[2*o+1]=r[2*s+1]=u,t.heap[1]=u++,ne(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,a=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,u=e.stat_desc.max_length;let c,f,l,h,p,d,y=0;for(h=0;h<=15;h++)t.bl_count[h]=0;for(r[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<573;c++)f=t.heap[c],h=r[2*r[2*f+1]+1]+1,h>u&&(h=u,y++),r[2*f+1]=h,f>n||(t.bl_count[h]++,p=0,f>=s&&(p=o[f-s]),d=r[2*f],t.opt_len+=d*(h+p),a&&(t.static_len+=d*(i[2*f+1]+p)));if(0!==y){do{for(h=u-1;0===t.bl_count[h];)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[u]--,y-=2}while(y>0);for(h=u;0!==h;h--)for(f=t.bl_count[h];0!==f;)l=t.heap[--c],l>n||(r[2*l+1]!==h&&(t.opt_len+=(h-r[2*l+1])*r[2*l],r[2*l+1]=h),f--)}})(t,e),Jt(r,c,t.bl_count)},oe=(t,e,r)=>{let n,i,a=-1,o=e[1],s=0,u=7,c=4;for(0===o&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++s<u&&i===o||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,a=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4))},se=(t,e,r)=>{let n,i,a=-1,o=e[1],s=0,u=7,c=4;for(0===o&&(u=138,c=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++s<u&&i===o)){if(s<c)do{Yt(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(Yt(t,i,t.bl_tree),s--),Yt(t,16,t.bl_tree),$t(t,s-3,2)):s<=10?(Yt(t,17,t.bl_tree),$t(t,s-3,3)):(Yt(t,18,t.bl_tree),$t(t,s-11,7));s=0,a=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4)}};let ue=!1;const ce=(t,e,r,n)=>{$t(t,0+(n?1:0),3),((t,e,r,n)=>{ee(t),Qt(t,r),Qt(t,~r),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r})(t,e,r)};var fe={_tr_init:t=>{ue||((()=>{let t,e,r,n,i;const a=new Array(16);for(r=0,n=0;n<28;n++)for(Vt[n]=r,t=0;t<1<<Pt[n];t++)Kt[r++]=n;for(Kt[r-1]=n,i=0,n=0;n<16;n++)for(Mt[n]=i,t=0;t<1<<Ot[n];t++)jt[i++]=n;for(i>>=7;n<30;n++)for(Mt[n]=i<<7,t=0;t<1<<Ot[n]-7;t++)jt[256+i++]=n;for(e=0;e<=15;e++)a[e]=0;for(t=0;t<=143;)Ft[2*t+1]=8,t++,a[8]++;for(;t<=255;)Ft[2*t+1]=9,t++,a[9]++;for(;t<=279;)Ft[2*t+1]=7,t++,a[7]++;for(;t<=287;)Ft[2*t+1]=8,t++,a[8]++;for(Jt(Ft,287,a),t=0;t<30;t++)Dt[2*t+1]=5,Dt[2*t]=Xt(t,5);Ht=new zt(Ft,Pt,257,286,15),qt=new zt(Dt,Ot,0,30,15),Gt=new zt(new Array(0),Ut,0,19,7)})(),ue=!0),t.l_desc=new Wt(t.dyn_ltree,Ht),t.d_desc=new Wt(t.dyn_dtree,qt),t.bl_desc=new Wt(t.bl_tree,Gt),t.bi_buf=0,t.bi_valid=0,te(t)},_tr_stored_block:ce,_tr_flush_block:(t,e,r,n)=>{let i,a,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),ae(t,t.l_desc),ae(t,t.d_desc),o=(t=>{let e;for(oe(t,t.dyn_ltree,t.l_desc.max_code),oe(t,t.dyn_dtree,t.d_desc.max_code),ae(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*Lt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==e?ce(t,e,r,n):4===t.strategy||a===i?($t(t,2+(n?1:0),3),ie(t,Ft,Dt)):($t(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for($t(t,e-257,5),$t(t,r-1,5),$t(t,n-4,4),i=0;i<n;i++)$t(t,t.bl_tree[2*Lt[i]+1],3);se(t,t.dyn_ltree,e-1),se(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),ie(t,t.dyn_ltree,t.dyn_dtree)),te(t),n&&ee(t)},_tr_tally:(t,e,r)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(Kt[r]+256+1)]++,t.dyn_dtree[2*Zt(e)]++),t.last_lit===t.lit_bufsize-1),_tr_align:t=>{$t(t,2,3),Yt(t,256,Ft),(t=>{16===t.bi_valid?(Qt(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},le=(t,e,r,n)=>{let i=65535&t|0,a=t>>>16&65535|0,o=0;for(;0!==r;){o=r>2e3?2e3:r,r-=o;do{i=i+e[n++]|0,a=a+i|0}while(--o);i%=65521,a%=65521}return i|a<<16|0};const he=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var pe=(t,e,r,n)=>{const i=he,a=n+r;t^=-1;for(let r=n;r<a;r++)t=t>>>8^i[255&(t^e[r])];return-1^t},de={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ye={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ge,_tr_stored_block:ve,_tr_flush_block:me,_tr_tally:be,_tr_align:Ee}=fe,{Z_NO_FLUSH:we,Z_PARTIAL_FLUSH:Ce,Z_FULL_FLUSH:Se,Z_FINISH:_e,Z_BLOCK:Ae,Z_OK:Te,Z_STREAM_END:Ie,Z_STREAM_ERROR:Be,Z_DATA_ERROR:ke,Z_BUF_ERROR:xe,Z_DEFAULT_COMPRESSION:Re,Z_FILTERED:Ne,Z_HUFFMAN_ONLY:Pe,Z_RLE:Oe,Z_FIXED:Ue,Z_DEFAULT_STRATEGY:Le,Z_UNKNOWN:Fe,Z_DEFLATED:De}=ye,je=258,Ke=262,Ve=103,Me=113,ze=666,He=(t,e)=>(t.msg=de[e],e),qe=t=>(t<<1)-(t>4?9:0),Ge=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let We=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const Ze=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},Qe=(t,e)=>{me(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ze(t.strm)},$e=(t,e)=>{t.pending_buf[t.pending++]=e},Ye=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Xe=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=le(t.adler,e,i,r):2===t.state.wrap&&(t.adler=pe(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},Je=(t,e)=>{let r,n,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match;const u=t.strstart>t.w_size-Ke?t.strstart-(t.w_size-Ke):0,c=t.window,f=t.w_mask,l=t.prev,h=t.strstart+je;let p=c[a+o-1],d=c[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(r=e,c[r+o]===d&&c[r+o-1]===p&&c[r]===c[a]&&c[++r]===c[a+1]){a+=2,r++;do{}while(c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&a<h);if(n=je-(h-a),a=h-je,n>o){if(t.match_start=e,o=n,n>=s)break;p=c[a+o-1],d=c[a+o]}}}while((e=l[e&f])>u&&0!=--i);return o<=t.lookahead?o:t.lookahead},tr=t=>{const e=t.w_size;let r,n,i,a,o;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ke)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do{i=t.head[--r],t.head[r]=i>=e?i-e:0}while(--n);n=e,r=n;do{i=t.prev[--r],t.prev[r]=i>=e?i-e:0}while(--n);a+=e}if(0===t.strm.avail_in)break;if(n=Xe(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=n,t.lookahead+t.insert>=3)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=We(t,t.ins_h,t.window[o+1]);t.insert&&(t.ins_h=We(t,t.ins_h,t.window[o+3-1]),t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Ke&&0!==t.strm.avail_in)},er=(t,e)=>{let r,n;for(;;){if(t.lookahead<Ke){if(tr(t),t.lookahead<Ke&&e===we)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=We(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-Ke&&(t.match_length=Je(t,r)),t.match_length>=3)if(n=be(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=We(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=We(t,t.ins_h,t.window[t.strstart+1]);else n=be(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Qe(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===_e?(Qe(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Qe(t,!1),0===t.strm.avail_out)?1:2},rr=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<Ke){if(tr(t),t.lookahead<Ke&&e===we)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=We(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Ke&&(t.match_length=Je(t,r),t.match_length<=5&&(t.strategy===Ne||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=be(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=We(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Qe(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=be(t,0,t.window[t.strstart-1]),n&&Qe(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=be(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===_e?(Qe(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Qe(t,!1),0===t.strm.avail_out)?1:2};function nr(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const ir=[new nr(0,0,0,0,((t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(tr(t),0===t.lookahead&&e===we)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Qe(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-Ke&&(Qe(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===_e?(Qe(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Qe(t,!1),t.strm.avail_out),1)})),new nr(4,4,8,4,er),new nr(4,5,16,8,er),new nr(4,6,32,32,er),new nr(4,4,16,16,rr),new nr(8,16,32,32,rr),new nr(8,16,128,128,rr),new nr(8,32,128,256,rr),new nr(32,128,258,1024,rr),new nr(32,258,258,4096,rr)];function ar(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=De,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ge(this.dyn_ltree),Ge(this.dyn_dtree),Ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const or=t=>{if(!t||!t.state)return He(t,Be);t.total_in=t.total_out=0,t.data_type=Fe;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:Me,t.adler=2===e.wrap?0:1,e.last_flush=we,ge(e),Te},sr=t=>{const e=or(t);var r;return e===Te&&((r=t.state).window_size=2*r.w_size,Ge(r.head),r.max_lazy_match=ir[r.level].max_lazy,r.good_match=ir[r.level].good_length,r.nice_match=ir[r.level].nice_length,r.max_chain_length=ir[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},ur=(t,e,r,n,i,a)=>{if(!t)return Be;let o=1;if(e===Re&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>9||r!==De||n<8||n>15||e<0||e>9||a<0||a>Ue)return He(t,Be);8===n&&(n=9);const s=new ar;return t.state=s,s.strm=t,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=a,s.method=r,sr(t)};var cr=ur,fr=(t,e)=>t&&t.state?2!==t.state.wrap?Be:(t.state.gzhead=e,Te):Be,lr=(t,e)=>{let r,n;if(!t||!t.state||e>Ae||e<0)return t?He(t,Be):Be;const i=t.state;if(!t.output||!t.input&&0!==t.avail_in||i.status===ze&&e!==_e)return He(t,0===t.avail_out?xe:Be);i.strm=t;const a=i.last_flush;if(i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,$e(i,31),$e(i,139),$e(i,8),i.gzhead?($e(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),$e(i,255&i.gzhead.time),$e(i,i.gzhead.time>>8&255),$e(i,i.gzhead.time>>16&255),$e(i,i.gzhead.time>>24&255),$e(i,9===i.level?2:i.strategy>=Pe||i.level<2?4:0),$e(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&($e(i,255&i.gzhead.extra.length),$e(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=pe(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):($e(i,0),$e(i,0),$e(i,0),$e(i,0),$e(i,0),$e(i,9===i.level?2:i.strategy>=Pe||i.level<2?4:0),$e(i,3),i.status=Me);else{let e=De+(i.w_bits-8<<4)<<8,r=-1;r=i.strategy>=Pe||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=r<<6,0!==i.strstart&&(e|=32),e+=31-e%31,i.status=Me,Ye(i,e),0!==i.strstart&&(Ye(i,t.adler>>>16),Ye(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(t.adler=pe(t.adler,i.pending_buf,i.pending-r,r)),Ze(t),r=i.pending,i.pending!==i.pending_buf_size));)$e(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=pe(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=pe(t.adler,i.pending_buf,i.pending-r,r)),Ze(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,$e(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=pe(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=pe(t.adler,i.pending_buf,i.pending-r,r)),Ze(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,$e(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=pe(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.status=Ve)}else i.status=Ve;if(i.status===Ve&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Ze(t),i.pending+2<=i.pending_buf_size&&($e(i,255&t.adler),$e(i,t.adler>>8&255),t.adler=0,i.status=Me)):i.status=Me),0!==i.pending){if(Ze(t),0===t.avail_out)return i.last_flush=-1,Te}else if(0===t.avail_in&&qe(e)<=qe(a)&&e!==_e)return He(t,xe);if(i.status===ze&&0!==t.avail_in)return He(t,xe);if(0!==t.avail_in||0!==i.lookahead||e!==we&&i.status!==ze){let r=i.strategy===Pe?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(tr(t),0===t.lookahead)){if(e===we)return 1;break}if(t.match_length=0,r=be(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Qe(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===_e?(Qe(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Qe(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===Oe?((t,e)=>{let r,n,i,a;const o=t.window;for(;;){if(t.lookahead<=je){if(tr(t),t.lookahead<=je&&e===we)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){a=t.strstart+je;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);t.match_length=je-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=be(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=be(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Qe(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===_e?(Qe(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Qe(t,!1),0===t.strm.avail_out)?1:2})(i,e):ir[i.level].func(i,e);if(3!==r&&4!==r||(i.status=ze),1===r||3===r)return 0===t.avail_out&&(i.last_flush=-1),Te;if(2===r&&(e===Ce?Ee(i):e!==Ae&&(ve(i,0,0,!1),e===Se&&(Ge(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Ze(t),0===t.avail_out))return i.last_flush=-1,Te}return e!==_e?Te:i.wrap<=0?Ie:(2===i.wrap?($e(i,255&t.adler),$e(i,t.adler>>8&255),$e(i,t.adler>>16&255),$e(i,t.adler>>24&255),$e(i,255&t.total_in),$e(i,t.total_in>>8&255),$e(i,t.total_in>>16&255),$e(i,t.total_in>>24&255)):(Ye(i,t.adler>>>16),Ye(i,65535&t.adler)),Ze(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?Te:Ie)},hr=t=>{if(!t||!t.state)return Be;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==Ve&&e!==Me&&e!==ze?He(t,Be):(t.state=null,e===Me?He(t,ke):Te)},pr=(t,e)=>{let r=e.length;if(!t||!t.state)return Be;const n=t.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return Be;if(1===i&&(t.adler=le(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(Ge(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const a=t.avail_in,o=t.next_in,s=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,tr(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=We(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,tr(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=o,t.input=s,t.avail_in=a,n.wrap=i,Te};const dr=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var yr=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)dr(r,e)&&(t[e]=r[e])}}return t},gr=t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];r.set(i,n),n+=i.length}return r};let vr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){vr=!1}const mr=new Uint8Array(256);for(let t=0;t<256;t++)mr[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;mr[254]=mr[254]=1;var br=t=>{let e,r,n,i,a,o=t.length,s=0;for(i=0;i<o;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<o&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),a=0,i=0;a<s;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<o&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e},Er=(t,e)=>{let r,n;const i=e||t.length,a=new Array(2*i);for(n=0,r=0;r<i;){let e=t[r++];if(e<128){a[n++]=e;continue}let o=mr[e];if(o>4)a[n++]=65533,r+=o-1;else{for(e&=2===o?31:3===o?15:7;o>1&&r<i;)e=e<<6|63&t[r++],o--;o>1?a[n++]=65533:e<65536?a[n++]=e:(e-=65536,a[n++]=55296|e>>10&1023,a[n++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&vr)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(a,n)},wr=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+mr[t[r]]>e?r:e},Cr=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Sr=Object.prototype.toString,{Z_NO_FLUSH:_r,Z_SYNC_FLUSH:Ar,Z_FULL_FLUSH:Tr,Z_FINISH:Ir,Z_OK:Br,Z_STREAM_END:kr,Z_DEFAULT_COMPRESSION:xr,Z_DEFAULT_STRATEGY:Rr,Z_DEFLATED:Nr}=ye;function Pr(t){this.options=yr({level:xr,method:Nr,chunkSize:16384,windowBits:15,memLevel:8,strategy:Rr},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cr,this.strm.avail_out=0;let r=cr(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Br)throw new Error(de[r]);if(e.header&&fr(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?br(e.dictionary):"[object ArrayBuffer]"===Sr.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=pr(this.strm,t),r!==Br)throw new Error(de[r]);this._dict_set=!0}}function Or(t,e){const r=new Pr(e);if(r.push(t,!0),r.err)throw r.msg||de[r.err];return r.result}Pr.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(a=e===~~e?e:!0===e?Ir:_r,"string"==typeof t?r.input=br(t):"[object ArrayBuffer]"===Sr.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===Ar||a===Tr)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=lr(r,a),i===kr)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=hr(this.strm),this.onEnd(i),this.ended=!0,i===Br;if(0!==r.avail_out){if(a>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Pr.prototype.onData=function(t){this.chunks.push(t)},Pr.prototype.onEnd=function(t){t===Br&&(this.result=gr(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Ur={Deflate:Pr,deflate:Or,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Or(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Or(t,e)},constants:ye},Lr=function(t,e){let r,n,i,a,o,s,u,c,f,l,h,p,d,y,g,v,m,b,E,w,C,S,_,A;const T=t.state;r=t.next_in,_=t.input,n=r+(t.avail_in-5),i=t.next_out,A=t.output,a=i-(e-t.avail_out),o=i+(t.avail_out-257),s=T.dmax,u=T.wsize,c=T.whave,f=T.wnext,l=T.window,h=T.hold,p=T.bits,d=T.lencode,y=T.distcode,g=(1<<T.lenbits)-1,v=(1<<T.distbits)-1;t:do{p<15&&(h+=_[r++]<<p,p+=8,h+=_[r++]<<p,p+=8),m=d[h&g];e:for(;;){if(b=m>>>24,h>>>=b,p-=b,b=m>>>16&255,0===b)A[i++]=65535&m;else{if(!(16&b)){if(0==(64&b)){m=d[(65535&m)+(h&(1<<b)-1)];continue e}if(32&b){T.mode=12;break t}t.msg="invalid literal/length code",T.mode=30;break t}E=65535&m,b&=15,b&&(p<b&&(h+=_[r++]<<p,p+=8),E+=h&(1<<b)-1,h>>>=b,p-=b),p<15&&(h+=_[r++]<<p,p+=8,h+=_[r++]<<p,p+=8),m=y[h&v];r:for(;;){if(b=m>>>24,h>>>=b,p-=b,b=m>>>16&255,!(16&b)){if(0==(64&b)){m=y[(65535&m)+(h&(1<<b)-1)];continue r}t.msg="invalid distance code",T.mode=30;break t}if(w=65535&m,b&=15,p<b&&(h+=_[r++]<<p,p+=8,p<b&&(h+=_[r++]<<p,p+=8)),w+=h&(1<<b)-1,w>s){t.msg="invalid distance too far back",T.mode=30;break t}if(h>>>=b,p-=b,b=i-a,w>b){if(b=w-b,b>c&&T.sane){t.msg="invalid distance too far back",T.mode=30;break t}if(C=0,S=l,0===f){if(C+=u-b,b<E){E-=b;do{A[i++]=l[C++]}while(--b);C=i-w,S=A}}else if(f<b){if(C+=u+f-b,b-=f,b<E){E-=b;do{A[i++]=l[C++]}while(--b);if(C=0,f<E){b=f,E-=b;do{A[i++]=l[C++]}while(--b);C=i-w,S=A}}}else if(C+=f-b,b<E){E-=b;do{A[i++]=l[C++]}while(--b);C=i-w,S=A}for(;E>2;)A[i++]=S[C++],A[i++]=S[C++],A[i++]=S[C++],E-=3;E&&(A[i++]=S[C++],E>1&&(A[i++]=S[C++]))}else{C=i-w;do{A[i++]=A[C++],A[i++]=A[C++],A[i++]=A[C++],E-=3}while(E>2);E&&(A[i++]=A[C++],E>1&&(A[i++]=A[C++]))}break}}break}}while(r<n&&i<o);E=p>>3,r-=E,p-=E<<3,h&=(1<<p)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<o?o-i+257:257-(i-o),T.hold=h,T.bits=p};const Fr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Dr=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),jr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Kr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Vr=(t,e,r,n,i,a,o,s)=>{const u=s.bits;let c,f,l,h,p,d,y=0,g=0,v=0,m=0,b=0,E=0,w=0,C=0,S=0,_=0,A=null,T=0;const I=new Uint16Array(16),B=new Uint16Array(16);let k,x,R,N=null,P=0;for(y=0;y<=15;y++)I[y]=0;for(g=0;g<n;g++)I[e[r+g]]++;for(b=u,m=15;m>=1&&0===I[m];m--);if(b>m&&(b=m),0===m)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(v=1;v<m&&0===I[v];v++);for(b<v&&(b=v),C=1,y=1;y<=15;y++)if(C<<=1,C-=I[y],C<0)return-1;if(C>0&&(0===t||1!==m))return-1;for(B[1]=0,y=1;y<15;y++)B[y+1]=B[y]+I[y];for(g=0;g<n;g++)0!==e[r+g]&&(o[B[e[r+g]]++]=g);if(0===t?(A=N=o,d=19):1===t?(A=Fr,T-=257,N=Dr,P-=257,d=256):(A=jr,N=Kr,d=-1),_=0,g=0,y=v,p=a,E=b,w=0,l=-1,S=1<<b,h=S-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){k=y-w,o[g]<d?(x=0,R=o[g]):o[g]>d?(x=N[P+o[g]],R=A[T+o[g]]):(x=96,R=0),c=1<<y-w,f=1<<E,v=f;do{f-=c,i[p+(_>>w)+f]=k<<24|x<<16|R|0}while(0!==f);for(c=1<<y-1;_&c;)c>>=1;if(0!==c?(_&=c-1,_+=c):_=0,g++,0==--I[y]){if(y===m)break;y=e[r+o[g]]}if(y>b&&(_&h)!==l){for(0===w&&(w=b),p+=v,E=y-w,C=1<<E;E+w<m&&(C-=I[E+w],!(C<=0));)E++,C<<=1;if(S+=1<<E,1===t&&S>852||2===t&&S>592)return 1;l=_&h,i[l]=b<<24|E<<16|p-a|0}}return 0!==_&&(i[p+_]=y-w<<24|64<<16|0),s.bits=b,0};const{Z_FINISH:Mr,Z_BLOCK:zr,Z_TREES:Hr,Z_OK:qr,Z_STREAM_END:Gr,Z_NEED_DICT:Wr,Z_STREAM_ERROR:Zr,Z_DATA_ERROR:Qr,Z_MEM_ERROR:$r,Z_BUF_ERROR:Yr,Z_DEFLATED:Xr}=ye,Jr=12,tn=30,en=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function rn(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const nn=t=>{if(!t||!t.state)return Zr;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,qr},an=t=>{if(!t||!t.state)return Zr;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,nn(t)},on=(t,e)=>{let r;if(!t||!t.state)return Zr;const n=t.state;return e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Zr:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,an(t))},sn=(t,e)=>{if(!t)return Zr;const r=new rn;t.state=r,r.window=null;const n=on(t,e);return n!==qr&&(t.state=null),n};let un,cn,fn=!0;const ln=t=>{if(fn){un=new Int32Array(512),cn=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Vr(1,t.lens,0,288,un,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Vr(2,t.lens,0,32,cn,0,t.work,{bits:5}),fn=!1}t.lencode=un,t.lenbits=9,t.distcode=cn,t.distbits=5},hn=(t,e,r,n)=>{let i;const a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),(n-=i)?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0};var pn=an,dn=sn,yn=(t,e)=>{let r,n,i,a,o,s,u,c,f,l,h,p,d,y,g,v,m,b,E,w,C,S,_=0;const A=new Uint8Array(4);let T,I;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return Zr;r=t.state,r.mode===Jr&&(r.mode=13),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,c=r.hold,f=r.bits,l=s,h=u,S=qr;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;f<16;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}if(2&r.wrap&&35615===c){r.check=0,A[0]=255&c,A[1]=c>>>8&255,r.check=pe(r.check,A,2,0),c=0,f=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=tn;break}if((15&c)!==Xr){t.msg="unknown compression method",r.mode=tn;break}if(c>>>=4,f-=4,C=8+(15&c),0===r.wbits)r.wbits=C;else if(C>r.wbits){t.msg="invalid window size",r.mode=tn;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=512&c?10:Jr,c=0,f=0;break;case 2:for(;f<16;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}if(r.flags=c,(255&r.flags)!==Xr){t.msg="unknown compression method",r.mode=tn;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=tn;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&(A[0]=255&c,A[1]=c>>>8&255,r.check=pe(r.check,A,2,0)),c=0,f=0,r.mode=3;case 3:for(;f<32;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}r.head&&(r.head.time=c),512&r.flags&&(A[0]=255&c,A[1]=c>>>8&255,A[2]=c>>>16&255,A[3]=c>>>24&255,r.check=pe(r.check,A,4,0)),c=0,f=0,r.mode=4;case 4:for(;f<16;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&(A[0]=255&c,A[1]=c>>>8&255,r.check=pe(r.check,A,2,0)),c=0,f=0,r.mode=5;case 5:if(1024&r.flags){for(;f<16;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&(A[0]=255&c,A[1]=c>>>8&255,r.check=pe(r.check,A,2,0)),c=0,f=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(p=r.length,p>s&&(p=s),p&&(r.head&&(C=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+p),C)),512&r.flags&&(r.check=pe(r.check,n,p,a)),s-=p,a+=p,r.length-=p),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===s)break t;p=0;do{C=n[a+p++],r.head&&C&&r.length<65536&&(r.head.name+=String.fromCharCode(C))}while(C&&p<s);if(512&r.flags&&(r.check=pe(r.check,n,p,a)),s-=p,a+=p,C)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===s)break t;p=0;do{C=n[a+p++],r.head&&C&&r.length<65536&&(r.head.comment+=String.fromCharCode(C))}while(C&&p<s);if(512&r.flags&&(r.check=pe(r.check,n,p,a)),s-=p,a+=p,C)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;f<16;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}if(c!==(65535&r.check)){t.msg="header crc mismatch",r.mode=tn;break}c=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Jr;break;case 10:for(;f<32;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}t.adler=r.check=en(c),c=0,f=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,r.hold=c,r.bits=f,Wr;t.adler=r.check=1,r.mode=Jr;case Jr:if(e===zr||e===Hr)break t;case 13:if(r.last){c>>>=7&f,f-=7&f,r.mode=27;break}for(;f<3;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}switch(r.last=1&c,c>>>=1,f-=1,3&c){case 0:r.mode=14;break;case 1:if(ln(r),r.mode=20,e===Hr){c>>>=2,f-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=tn}c>>>=2,f-=2;break;case 14:for(c>>>=7&f,f-=7&f;f<32;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=tn;break}if(r.length=65535&c,c=0,f=0,r.mode=15,e===Hr)break t;case 15:r.mode=16;case 16:if(p=r.length,p){if(p>s&&(p=s),p>u&&(p=u),0===p)break t;i.set(n.subarray(a,a+p),o),s-=p,a+=p,u-=p,o+=p,r.length-=p;break}r.mode=Jr;break;case 17:for(;f<14;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}if(r.nlen=257+(31&c),c>>>=5,f-=5,r.ndist=1+(31&c),c>>>=5,f-=5,r.ncode=4+(15&c),c>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=tn;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;f<3;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}r.lens[B[r.have++]]=7&c,c>>>=3,f-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,T={bits:r.lenbits},S=Vr(0,r.lens,0,19,r.lencode,0,r.work,T),r.lenbits=T.bits,S){t.msg="invalid code lengths set",r.mode=tn;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[c&(1<<r.lenbits)-1],g=_>>>24,v=_>>>16&255,m=65535&_,!(g<=f);){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}if(m<16)c>>>=g,f-=g,r.lens[r.have++]=m;else{if(16===m){for(I=g+2;f<I;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}if(c>>>=g,f-=g,0===r.have){t.msg="invalid bit length repeat",r.mode=tn;break}C=r.lens[r.have-1],p=3+(3&c),c>>>=2,f-=2}else if(17===m){for(I=g+3;f<I;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}c>>>=g,f-=g,C=0,p=3+(7&c),c>>>=3,f-=3}else{for(I=g+7;f<I;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}c>>>=g,f-=g,C=0,p=11+(127&c),c>>>=7,f-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=tn;break}for(;p--;)r.lens[r.have++]=C}}if(r.mode===tn)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=tn;break}if(r.lenbits=9,T={bits:r.lenbits},S=Vr(1,r.lens,0,r.nlen,r.lencode,0,r.work,T),r.lenbits=T.bits,S){t.msg="invalid literal/lengths set",r.mode=tn;break}if(r.distbits=6,r.distcode=r.distdyn,T={bits:r.distbits},S=Vr(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,T),r.distbits=T.bits,S){t.msg="invalid distances set",r.mode=tn;break}if(r.mode=20,e===Hr)break t;case 20:r.mode=21;case 21:if(s>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,r.hold=c,r.bits=f,Lr(t,h),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,c=r.hold,f=r.bits,r.mode===Jr&&(r.back=-1);break}for(r.back=0;_=r.lencode[c&(1<<r.lenbits)-1],g=_>>>24,v=_>>>16&255,m=65535&_,!(g<=f);){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}if(v&&0==(240&v)){for(b=g,E=v,w=m;_=r.lencode[w+((c&(1<<b+E)-1)>>b)],g=_>>>24,v=_>>>16&255,m=65535&_,!(b+g<=f);){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}c>>>=b,f-=b,r.back+=b}if(c>>>=g,f-=g,r.back+=g,r.length=m,0===v){r.mode=26;break}if(32&v){r.back=-1,r.mode=Jr;break}if(64&v){t.msg="invalid literal/length code",r.mode=tn;break}r.extra=15&v,r.mode=22;case 22:if(r.extra){for(I=r.extra;f<I;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;_=r.distcode[c&(1<<r.distbits)-1],g=_>>>24,v=_>>>16&255,m=65535&_,!(g<=f);){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}if(0==(240&v)){for(b=g,E=v,w=m;_=r.distcode[w+((c&(1<<b+E)-1)>>b)],g=_>>>24,v=_>>>16&255,m=65535&_,!(b+g<=f);){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}c>>>=b,f-=b,r.back+=b}if(c>>>=g,f-=g,r.back+=g,64&v){t.msg="invalid distance code",r.mode=tn;break}r.offset=m,r.extra=15&v,r.mode=24;case 24:if(r.extra){for(I=r.extra;f<I;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=tn;break}r.mode=25;case 25:if(0===u)break t;if(p=h-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=tn;break}p>r.wnext?(p-=r.wnext,d=r.wsize-p):d=r.wnext-p,p>r.length&&(p=r.length),y=r.window}else y=i,d=o-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do{i[o++]=y[d++]}while(--p);0===r.length&&(r.mode=21);break;case 26:if(0===u)break t;i[o++]=r.length,u--,r.mode=21;break;case 27:if(r.wrap){for(;f<32;){if(0===s)break t;s--,c|=n[a++]<<f,f+=8}if(h-=u,t.total_out+=h,r.total+=h,h&&(t.adler=r.check=r.flags?pe(r.check,i,h,o-h):le(r.check,i,h,o-h)),h=u,(r.flags?c:en(c))!==r.check){t.msg="incorrect data check",r.mode=tn;break}c=0,f=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;f<32;){if(0===s)break t;s--,c+=n[a++]<<f,f+=8}if(c!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=tn;break}c=0,f=0}r.mode=29;case 29:S=Gr;break t;case tn:S=Qr;break t;case 31:return $r;case 32:default:return Zr}return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,r.hold=c,r.bits=f,(r.wsize||h!==t.avail_out&&r.mode<tn&&(r.mode<27||e!==Mr))&&hn(t,t.output,t.next_out,h-t.avail_out),l-=t.avail_in,h-=t.avail_out,t.total_in+=l,t.total_out+=h,r.total+=h,r.wrap&&h&&(t.adler=r.check=r.flags?pe(r.check,i,h,t.next_out-h):le(r.check,i,h,t.next_out-h)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Jr?128:0)+(20===r.mode||15===r.mode?256:0),(0===l&&0===h||e===Mr)&&S===qr&&(S=Yr),S},gn=t=>{if(!t||!t.state)return Zr;let e=t.state;return e.window&&(e.window=null),t.state=null,qr},vn=(t,e)=>{if(!t||!t.state)return Zr;const r=t.state;return 0==(2&r.wrap)?Zr:(r.head=e,e.done=!1,qr)},mn=(t,e)=>{const r=e.length;let n,i,a;return t&&t.state?(n=t.state,0!==n.wrap&&11!==n.mode?Zr:11===n.mode&&(i=1,i=le(i,e,r,0),i!==n.check)?Qr:(a=hn(t,e,r,r),a?(n.mode=31,$r):(n.havedict=1,qr))):Zr},bn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const En=Object.prototype.toString,{Z_NO_FLUSH:wn,Z_FINISH:Cn,Z_OK:Sn,Z_STREAM_END:_n,Z_NEED_DICT:An,Z_STREAM_ERROR:Tn,Z_DATA_ERROR:In,Z_MEM_ERROR:Bn}=ye;function kn(t){this.options=yr({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cr,this.strm.avail_out=0;let r=dn(this.strm,e.windowBits);if(r!==Sn)throw new Error(de[r]);if(this.header=new bn,vn(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=br(e.dictionary):"[object ArrayBuffer]"===En.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=mn(this.strm,e.dictionary),r!==Sn)))throw new Error(de[r])}function xn(t,e){const r=new kn(e);if(r.push(t),r.err)throw r.msg||de[r.err];return r.result}kn.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Cn:wn,"[object ArrayBuffer]"===En.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=yn(r,o),a===An&&i&&(a=mn(r,i),a===Sn?a=yn(r,o):a===In&&(a=An));r.avail_in>0&&a===_n&&r.state.wrap>0&&0!==t[r.next_in];)pn(r),a=yn(r,o);switch(a){case Tn:case In:case An:case Bn:return this.onEnd(a),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(0===r.avail_out||a===_n))if("string"===this.options.to){let t=wr(r.output,r.next_out),e=r.next_out-t,i=Er(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==Sn||0!==s){if(a===_n)return a=gn(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},kn.prototype.onData=function(t){this.chunks.push(t)},kn.prototype.onEnd=function(t){t===Sn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=gr(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Rn={Inflate:kn,inflate:xn,inflateRaw:function(t,e){return(e=e||{}).raw=!0,xn(t,e)},ungzip:xn,constants:ye};const{Deflate:Nn,deflate:Pn,deflateRaw:On,gzip:Un}=Ur,{Inflate:Ln,inflate:Fn,inflateRaw:Dn,ungzip:jn}=Rn;var Kn={Deflate:Nn,deflate:Pn,deflateRaw:On,gzip:Un,Inflate:Ln,inflate:Fn,inflateRaw:Dn,ungzip:jn,constants:ye},Vn=r(4098),Mn=r.n(Vn),zn=r(8764),Hn=r(1217),qn=r.n(Hn),Gn=r(5772),Wn=r.n(Gn),Zn=function(){var t=h(y().mark((function t(e){var r,n,i,a,o,s;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Wn().toBuffer(e.split(".")[1]),n=Kn.inflateRaw(r),i=JSON.parse(zn.Buffer.from(n).toString()),a=i.iss,t.next=6,Mn()(a+"/.well-known/jwks.json");case 6:return t.next=8,t.sent.json();case 8:return o=t.sent,t.next=11,qn().JWK.asKeyStore(o);case 11:return s=t.sent,t.prev=12,t.next=15,qn().JWS.createVerify(s).verify(e);case 15:return t.abrupt("return",{jws:e,validated:i});case 18:return t.prev=18,t.t0=t.catch(12),t.abrupt("return",{jws:e,validated:null});case 21:case"end":return t.stop()}}),t,null,[[12,18]])})));return function(e){return t.apply(this,arguments)}}();function Qn(t,e,r){var n=t.slice();return n[7]=e[r],n}function $n(t){for(var e,r,n,i,a,o=t[2],s=[],u=0;u<o.length;u+=1)s[u]=Xn(Qn(t,o,u));function c(t,e){return 1===t[2].length&&!1!==t[1]?ti:Jn}var f=c(t),l=f(t);return{c:function(){e=L("ul"),(r=L("h2")).textContent="Scanned Health Cards",n=D();for(var t=0;t<s.length;t+=1)s[t].c();i=D(),l.c(),a=F(""),K(e,"class","scanner-video")},m:function(t,o){P(t,e,o),N(e,r),N(e,n);for(var u=0;u<s.length;u+=1)s[u].m(e,null);P(t,i,o),l.m(t,o),P(t,a,o)},p:function(t,r){if(4&r){var n;for(o=t[2],n=0;n<o.length;n+=1){var i=Qn(t,o,n);s[n]?s[n].p(i,r):(s[n]=Xn(i),s[n].c(),s[n].m(e,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=o.length}f===(f=c(t))&&l?l.p(t,r):(l.d(1),(l=f(t))&&(l.c(),l.m(a.parentNode,a)))},i:m,o:m,d:function(t){t&&O(e),U(s,t),t&&O(i),l.d(t),t&&O(a)}}}function Yn(t){var e,r;return(e=new Rt({props:{instructionClass:"scanner-instruction",buttonClass:"bottom-button",videoClass:"scanner-video"}})).$on("scanned",t[3]),e.$on("scan-canceled",t[4]),{c:function(){var t;(t=e.$$.fragment)&&t.c()},m:function(t,n){mt(e,t,n),r=!0},p:m,i:function(t){r||(yt(e.$$.fragment,t),r=!0)},o:function(t){gt(e.$$.fragment,t),r=!1},d:function(t){bt(e,t)}}}function Xn(t){var e,r,n,i,a,o=JSON.stringify(null===(e=t[7].validated)||void 0===e||null===(r=e.vc)||void 0===r||null===(n=r.credentialSubject)||void 0===n?void 0:n.fhirBundle,null,2)+"";return{c:function(){i=L("li"),a=F(o)},m:function(t,e){P(t,i,e),N(i,a)},p:function(t,e){var r,n,i;4&e&&o!==(o=JSON.stringify(null===(r=t[7].validated)||void 0===r||null===(n=r.vc)||void 0===n||null===(i=n.credentialSubject)||void 0===i?void 0:i.fhirBundle,null,2)+"")&&M(a,o)},d:function(t){t&&O(i)}}}function Jn(t){var e,r,n;return{c:function(){(e=L("button")).textContent="Scan",K(e,"class","bottom-button")},m:function(i,a){P(i,e,a),r||(n=j(e,"click",t[6]),r=!0)},p:m,d:function(t){t&&O(e),r=!1,n()}}}function ti(t){var e,r,n,i,a,o;return{c:function(){e=L("button"),r=F("Send to "),n=L("b"),i=F(t[1]),K(e,"class","bottom-button")},m:function(s,u){P(s,e,u),N(e,r),N(e,n),N(n,i),a||(o=j(e,"click",t[5]),a=!0)},p:function(t,e){2&e&&M(i,t[1])},d:function(t){t&&O(e),a=!1,o()}}}function ei(t){var e,r,n,i,a=[Yn,$n],o=[];function s(t,e){return t[0]?0:1}return r=s(t),n=o[r]=a[r](t),{c:function(){e=L("main"),n.c(),K(e,"class","svelte-dh0ib1")},m:function(t,n){P(t,e,n),o[r].m(e,null),i=!0},p:function(t,i){var u=p(i,1)[0],c=r;(r=s(t))===c?o[r].p(t,u):(pt={r:0,c:[],p:pt},gt(o[c],1,1,(function(){o[c]=null})),pt.r||C(pt.c),pt=pt.p,(n=o[r])?n.p(t,u):(n=o[r]=a[r](t)).c(),yt(n,1),n.m(e,null))},i:function(t){i||(yt(n),i=!0)},o:function(t){gt(n),i=!1},d:function(t){t&&O(e),o[r].d()}}}function ri(t,e,r){var n=e.scanning,i=void 0===n||n,a=!1;X((function(){var t=window.location.hash.match(/#scan-and-post-to-(.+)/);t&&r(1,a=t[1])}));var o=[],s=function(){var t=h(y().mark((function t(e){var n,a;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.detail,t.next=3,Zn(n);case 3:a=t.sent,r(2,o=[].concat(f(o),[a])),r(0,i=!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t.$$set=function(t){"scanning"in t&&r(0,i=t.scanning)},[i,a,o,s,function(){r(0,i=!1)},function(){return t=o[0],window.opener.postMessage(t,"*"),void window.close();var t},function(){return r(0,i=!0)}]}new(function(r){i(c,r);var n,a,u=(n=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(n);if(a){var r=s(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return o(this,t)});function c(r){var n;return t(this,c),wt(e(n=u.call(this)),r,ri,ei,_,{scanning:0}),n}return c}(Ct))({target:document.body})}()}();